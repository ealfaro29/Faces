(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Mg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jm={exports:{}},Jl={};var wT;function mx(){if(wT)return Jl;wT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:e,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=t,Jl.jsx=n,Jl.jsxs=n,Jl}var CT;function px(){return CT||(CT=1,Jm.exports=mx()),Jm.exports}var I=px(),tp={exports:{}},At={};var RT;function gx(){if(RT)return At;RT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function G(L,et,lt){this.props=L,this.context=et,this.refs=U,this.updater=lt||R}G.prototype.isReactComponent={},G.prototype.setState=function(L,et){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,et,"setState")},G.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function $(){}$.prototype=G.prototype;function Q(L,et,lt){this.props=L,this.context=et,this.refs=U,this.updater=lt||R}var rt=Q.prototype=new $;rt.constructor=Q,V(rt,G.prototype),rt.isPureReactComponent=!0;var at=Array.isArray;function ut(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(L,et,lt){var ht=lt.ref;return{$$typeof:e,type:L,key:et,ref:ht!==void 0?ht:null,props:lt}}function P(L,et){return x(L.type,et,L.props)}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function j(L){var et={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(lt){return et[lt]})}var N=/\/+/g;function Ft(L,et){return typeof L=="object"&&L!==null&&L.key!=null?j(""+L.key):et.toString(36)}function ie(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ut,ut):(L.status="pending",L.then(function(et){L.status==="pending"&&(L.status="fulfilled",L.value=et)},function(et){L.status==="pending"&&(L.status="rejected",L.reason=et)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function X(L,et,lt,ht,bt){var It=typeof L;(It==="undefined"||It==="boolean")&&(L=null);var zt=!1;if(L===null)zt=!0;else switch(It){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(L.$$typeof){case e:case t:zt=!0;break;case v:return zt=L._init,X(zt(L._payload),et,lt,ht,bt)}}if(zt)return bt=bt(L),zt=ht===""?"."+Ft(L,0):ht,at(bt)?(lt="",zt!=null&&(lt=zt.replace(N,"$&/")+"/"),X(bt,et,lt,"",function(Rr){return Rr})):bt!=null&&(O(bt)&&(bt=P(bt,lt+(bt.key==null||L&&L.key===bt.key?"":(""+bt.key).replace(N,"$&/")+"/")+zt)),et.push(bt)),1;zt=0;var Me=ht===""?".":ht+":";if(at(L))for(var le=0;le<L.length;le++)ht=L[le],It=Me+Ft(ht,le),zt+=X(ht,et,lt,It,bt);else if(le=w(L),typeof le=="function")for(L=le.call(L),le=0;!(ht=L.next()).done;)ht=ht.value,It=Me+Ft(ht,le++),zt+=X(ht,et,lt,It,bt);else if(It==="object"){if(typeof L.then=="function")return X(ie(L),et,lt,ht,bt);throw et=String(L),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return zt}function st(L,et,lt){if(L==null)return L;var ht=[],bt=0;return X(L,ht,"","",function(It){return et.call(lt,It,bt++)}),ht}function ft(L){if(L._status===-1){var et=L._result;et=et(),et.then(function(lt){(L._status===0||L._status===-1)&&(L._status=1,L._result=lt)},function(lt){(L._status===0||L._status===-1)&&(L._status=2,L._result=lt)}),L._status===-1&&(L._status=0,L._result=et)}if(L._status===1)return L._result.default;throw L._result}var xt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Mt={map:st,forEach:function(L,et,lt){st(L,function(){et.apply(this,arguments)},lt)},count:function(L){var et=0;return st(L,function(){et++}),et},toArray:function(L){return st(L,function(et){return et})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return At.Activity=T,At.Children=Mt,At.Component=G,At.Fragment=n,At.Profiler=o,At.PureComponent=Q,At.StrictMode=r,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,At.__COMPILER_RUNTIME={__proto__:null,c:function(L){return D.H.useMemoCache(L)}},At.cache=function(L){return function(){return L.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(L,et,lt){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ht=V({},L.props),bt=L.key;if(et!=null)for(It in et.key!==void 0&&(bt=""+et.key),et)!A.call(et,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&et.ref===void 0||(ht[It]=et[It]);var It=arguments.length-2;if(It===1)ht.children=lt;else if(1<It){for(var zt=Array(It),Me=0;Me<It;Me++)zt[Me]=arguments[Me+2];ht.children=zt}return x(L.type,bt,ht)},At.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},At.createElement=function(L,et,lt){var ht,bt={},It=null;if(et!=null)for(ht in et.key!==void 0&&(It=""+et.key),et)A.call(et,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(bt[ht]=et[ht]);var zt=arguments.length-2;if(zt===1)bt.children=lt;else if(1<zt){for(var Me=Array(zt),le=0;le<zt;le++)Me[le]=arguments[le+2];bt.children=Me}if(L&&L.defaultProps)for(ht in zt=L.defaultProps,zt)bt[ht]===void 0&&(bt[ht]=zt[ht]);return x(L,It,bt)},At.createRef=function(){return{current:null}},At.forwardRef=function(L){return{$$typeof:d,render:L}},At.isValidElement=O,At.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ft}},At.memo=function(L,et){return{$$typeof:g,type:L,compare:et===void 0?null:et}},At.startTransition=function(L){var et=D.T,lt={};D.T=lt;try{var ht=L(),bt=D.S;bt!==null&&bt(lt,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(ut,xt)}catch(It){xt(It)}finally{et!==null&&lt.types!==null&&(et.types=lt.types),D.T=et}},At.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},At.use=function(L){return D.H.use(L)},At.useActionState=function(L,et,lt){return D.H.useActionState(L,et,lt)},At.useCallback=function(L,et){return D.H.useCallback(L,et)},At.useContext=function(L){return D.H.useContext(L)},At.useDebugValue=function(){},At.useDeferredValue=function(L,et){return D.H.useDeferredValue(L,et)},At.useEffect=function(L,et){return D.H.useEffect(L,et)},At.useEffectEvent=function(L){return D.H.useEffectEvent(L)},At.useId=function(){return D.H.useId()},At.useImperativeHandle=function(L,et,lt){return D.H.useImperativeHandle(L,et,lt)},At.useInsertionEffect=function(L,et){return D.H.useInsertionEffect(L,et)},At.useLayoutEffect=function(L,et){return D.H.useLayoutEffect(L,et)},At.useMemo=function(L,et){return D.H.useMemo(L,et)},At.useOptimistic=function(L,et){return D.H.useOptimistic(L,et)},At.useReducer=function(L,et,lt){return D.H.useReducer(L,et,lt)},At.useRef=function(L){return D.H.useRef(L)},At.useState=function(L){return D.H.useState(L)},At.useSyncExternalStore=function(L,et,lt){return D.H.useSyncExternalStore(L,et,lt)},At.useTransition=function(){return D.H.useTransition()},At.version="19.2.4",At}var xT;function Og(){return xT||(xT=1,tp.exports=gx()),tp.exports}var tt=Og();const Pg=Mg(tt);var ep={exports:{}},tu={},np={exports:{}},ip={};var IT;function yx(){return IT||(IT=1,(function(e){function t(X,st){var ft=X.length;X.push(st);t:for(;0<ft;){var xt=ft-1>>>1,Mt=X[xt];if(0<o(Mt,st))X[xt]=st,X[ft]=Mt,ft=xt;else break t}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var st=X[0],ft=X.pop();if(ft!==st){X[0]=ft;t:for(var xt=0,Mt=X.length,L=Mt>>>1;xt<L;){var et=2*(xt+1)-1,lt=X[et],ht=et+1,bt=X[ht];if(0>o(lt,ft))ht<Mt&&0>o(bt,lt)?(X[xt]=bt,X[ht]=ft,xt=ht):(X[xt]=lt,X[et]=ft,xt=et);else if(ht<Mt&&0>o(bt,ft))X[xt]=bt,X[ht]=ft,xt=ht;else break t}}return st}function o(X,st){var ft=X.sortIndex-st.sortIndex;return ft!==0?ft:X.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,T=null,b=3,w=!1,R=!1,V=!1,U=!1,G=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function rt(X){for(var st=n(g);st!==null;){if(st.callback===null)r(g);else if(st.startTime<=X)r(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(g)}}function at(X){if(V=!1,rt(X),!R)if(n(p)!==null)R=!0,ut||(ut=!0,j());else{var st=n(g);st!==null&&ie(at,st.startTime-X)}}var ut=!1,D=-1,A=5,x=-1;function P(){return U?!0:!(e.unstable_now()-x<A)}function O(){if(U=!1,ut){var X=e.unstable_now();x=X;var st=!0;try{t:{R=!1,V&&(V=!1,$(D),D=-1),w=!0;var ft=b;try{e:{for(rt(X),T=n(p);T!==null&&!(T.expirationTime>X&&P());){var xt=T.callback;if(typeof xt=="function"){T.callback=null,b=T.priorityLevel;var Mt=xt(T.expirationTime<=X);if(X=e.unstable_now(),typeof Mt=="function"){T.callback=Mt,rt(X),st=!0;break e}T===n(p)&&r(p),rt(X)}else r(p);T=n(p)}if(T!==null)st=!0;else{var L=n(g);L!==null&&ie(at,L.startTime-X),st=!1}}break t}finally{T=null,b=ft,w=!1}st=void 0}}finally{st?j():ut=!1}}}var j;if(typeof Q=="function")j=function(){Q(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ft=N.port2;N.port1.onmessage=O,j=function(){Ft.postMessage(null)}}else j=function(){G(O,0)};function ie(X,st){D=G(function(){X(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(X){switch(b){case 1:case 2:case 3:var st=3;break;default:st=b}var ft=b;b=st;try{return X()}finally{b=ft}},e.unstable_requestPaint=function(){U=!0},e.unstable_runWithPriority=function(X,st){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ft=b;b=X;try{return st()}finally{b=ft}},e.unstable_scheduleCallback=function(X,st,ft){var xt=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?xt+ft:xt):ft=xt,X){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=ft+Mt,X={id:v++,callback:st,priorityLevel:X,startTime:ft,expirationTime:Mt,sortIndex:-1},ft>xt?(X.sortIndex=ft,t(g,X),n(p)===null&&X===n(g)&&(V?($(D),D=-1):V=!0,ie(at,ft-xt))):(X.sortIndex=Mt,t(p,X),R||w||(R=!0,ut||(ut=!0,j()))),X},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(X){var st=b;return function(){var ft=b;b=st;try{return X.apply(this,arguments)}finally{b=ft}}}})(ip)),ip}var DT;function vx(){return DT||(DT=1,np.exports=yx()),np.exports}var sp={exports:{}},tn={};var NT;function _x(){if(NT)return tn;NT=1;var e=Og();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},tn.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:w}):v==="script"&&r.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},tn.requestFormReset=function(p){r.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var VT;function DS(){if(VT)return sp.exports;VT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sp.exports=_x(),sp.exports}var MT;function Tx(){if(MT)return tu;MT=1;var e=vx(),t=Og(),n=DS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),i;if(m===l)return p(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=m;break}if(S===l){_=!0,l=f,a=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===a){_=!0,a=m,l=f;break}if(S===l){_=!0,l=m,a=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Ft(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case G:return"Profiler";case U:return"StrictMode";case at:return"Suspense";case ut:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case Q:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case rt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:Ft(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return Ft(i(s))}catch{}}return null}var ie=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},xt=[],Mt=-1;function L(i){return{current:i}}function et(i){0>Mt||(i.current=xt[Mt],xt[Mt]=null,Mt--)}function lt(i,s){Mt++,xt[Mt]=i.current,i.current=s}var ht=L(null),bt=L(null),It=L(null),zt=L(null);function Me(i,s){switch(lt(It,s),lt(bt,i),lt(ht,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Q0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Q0(s),i=X0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}et(ht),lt(ht,i)}function le(){et(ht),et(bt),et(It)}function Rr(i){i.memoizedState!==null&&lt(zt,i);var s=ht.current,a=X0(s,i.type);s!==a&&(lt(bt,i),lt(ht,a))}function Aa(i){bt.current===i&&(et(ht),et(bt)),zt.current===i&&(et(zt),Xl._currentValue=ft)}var wa,Ca;function gi(i){if(wa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);wa=s&&s[1]||"",Ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+i+Ca}var Xo=!1;function xr(i,s){if(!i||Xo)return"";Xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var q=Y}Reflect.construct(i,[],J)}else{try{J.call()}catch(Y){q=Y}i.call(J.prototype)}}else{try{throw Error()}catch(Y){q=Y}(J=i())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],S=m[1];if(_&&S){var M=_.split(`
`),H=S.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===H.length)for(l=M.length-1,f=H.length-1;1<=l&&0<=f&&M[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==H[f]){var Z=`
`+M[l].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=l&&0<=f);break}}}finally{Xo=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?gi(a):""}function $o(i,s){switch(i.tag){case 26:case 27:case 5:return gi(i.type);case 16:return gi("Lazy");case 13:return i.child!==s&&s!==null?gi("Suspense Fallback"):gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return xr(i.type,!1);case 11:return xr(i.type.render,!1);case 1:return xr(i.type,!0);case 31:return gi("Activity");default:return""}}function Zo(i){try{var s="",a=null;do s+=$o(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Oe=e.unstable_scheduleCallback,Rs=e.unstable_cancelCallback,ed=e.unstable_shouldYield,Qu=e.unstable_requestPaint,on=e.unstable_now,Ir=e.unstable_getCurrentPriorityLevel,Wo=e.unstable_ImmediatePriority,Jo=e.unstable_UserBlockingPriority,xs=e.unstable_NormalPriority,nd=e.unstable_LowPriority,Xu=e.unstable_IdlePriority,$u=e.log,Zu=e.unstable_setDisableYieldValue,Xn=null,He=null;function Nn(i){if(typeof $u=="function"&&Zu(i),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Xn,i)}catch{}}var ge=Math.clz32?Math.clz32:Ju,Wu=Math.log,Ra=Math.LN2;function Ju(i){return i>>>=0,i===0?32:31-(Wu(i)/Ra|0)|0}var yi=256,Dr=262144,be=4194304;function vi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _i(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=vi(l):(_&=S,_!==0?f=vi(_):a||(a=S&~i,a!==0&&(f=vi(a))))):(S=l&~m,S!==0?f=vi(S):_!==0?f=vi(_):a||(a=l&~i,a!==0&&(f=vi(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function $n(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function id(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var i=be;return be<<=1,(be&62914560)===0&&(be=4194304),i}function Ti(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Nr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function sd(i,s,a,l,f,m){var _=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,M=i.expirationTimes,H=i.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-ge(a),J=1<<Z;S[Z]=0,M[Z]=-1;var q=H[Z];if(q!==null)for(H[Z]=null,Z=0;Z<q.length;Z++){var Y=q[Z];Y!==null&&(Y.lane&=-536870913)}a&=~J}l!==0&&Vr(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(_&~s))}function Vr(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-ge(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function tl(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-ge(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function el(i,s){var a=s&-s;return a=(a&42)!==0?1:Mr(a),(a&(i.suspendedLanes|s))!==0?0:a}function Mr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ts(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ec(){var i=st.p;return i!==0?i:(i=window.event,i===void 0?32:vT(i.type))}function Zn(i,s){var a=st.p;try{return st.p=i,s()}finally{st.p=a}}var Wn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Wn,je="__reactProps$"+Wn,Ei="__reactContainer$"+Wn,xa="__reactEvents$"+Wn,rd="__reactListeners$"+Wn,nc="__reactHandles$"+Wn,ic="__reactResources$"+Wn,bi="__reactMarker$"+Wn;function Ia(i){delete i[Se],delete i[je],delete i[xa],delete i[rd],delete i[nc]}function Si(i){var s=i[Se];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Ei]||a[Se]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=nT(i);i!==null;){if(a=i[Se])return a;i=nT(i)}return s}i=a,a=i.parentNode}return null}function Vn(i){if(i=i[Se]||i[Ei]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function bn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ai(i){var s=i[ic];return s||(s=i[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ae(i){i[bi]=!0}var nl=new Set,il={};function wi(i,s){Ci(i,s),Ci(i+"Capture",s)}function Ci(i,s){for(il[i]=s,i=0;i<s.length;i++)nl.add(s[i])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},al={};function sc(i){return Ee.call(al,i)?!0:Ee.call(rl,i)?!1:sl.test(i)?al[i]=!0:(rl[i]=!0,!1)}function Da(i,s,a){if(sc(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Sn(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function we(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function ze(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Is(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ol(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Qt(i){if(!i._valueTracker){var s=Is(i)?"checked":"value";i._valueTracker=ol(i,s,""+i[s])}}function Or(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Is(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function Ri(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Pr=/[\n"\\]/g;function dn(i){return i.replace(Pr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Na(i,s,a,l,f,m,_,S){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ze(s)):i.value!==""+ze(s)&&(i.value=""+ze(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?ll(i,_,ze(s)):a!=null?ll(i,_,ze(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+ze(S):i.removeAttribute("name")}function rc(i,s,a,l,f,m,_,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Qt(i);return}a=a!=null?""+ze(a):"",s=s!=null?""+ze(s):a,S||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Qt(i)}function ll(i,s,a){s==="number"&&Ri(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Ds(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+ze(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function ac(i,s,a){if(s!=null&&(s=""+ze(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+ze(a):""}function Ns(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ie(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=ze(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),Qt(i)}function mn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||oc.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function cl(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&ul(i,f,l)}else for(var m in s)s.hasOwnProperty(m)&&ul(i,m,s[m])}function Va(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(i){return Vs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Jn(){}var hl=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ms=null,xi=null;function kr(i){var s=Vn(i);if(s&&(i=s.stateNode)){var a=i[je]||null;t:switch(i=s.stateNode,s.type){case"input":if(Na(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[je]||null;if(!f)throw Error(r(90));Na(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Or(l)}break t;case"textarea":ac(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ds(i,!!a.multiple,s,!1)}}}var Oa=!1;function Os(i,s,a){if(Oa)return i(s,a);Oa=!0;try{var l=i(s);return l}finally{if(Oa=!1,(Ms!==null||xi!==null)&&(eh(),Ms&&(s=Ms,i=xi,xi=Ms=null,kr(s),i)))for(s=0;s<i.length;s++)kr(i[s])}}function ti(i,s){var a=i.stateNode;if(a===null)return null;var l=a[je]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(On)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Lr=!1}var Ii=null,fl=null,Ur=null;function dl(){if(Ur)return Ur;var i,s=fl,a=s.length,l,f="value"in Ii?Ii.value:Ii.textContent,m=f.length;for(i=0;i<a&&s[i]===f[i];i++);var _=a-i;for(l=1;l<=_&&s[a-l]===f[m-l];l++);return Ur=f.slice(i,1<l?1-l:void 0)}function jr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function es(){return!0}function ei(){return!1}function qe(i){function s(a,l,f,m,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?es:ei,this.isPropagationStopped=ei,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),s}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=qe(ns),Ps=T({},ns,{view:0,detail:0}),ml=qe(Ps),ks,Pa,Ni,ka=T({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ni&&(Ni&&i.type==="mousemove"?(ks=i.screenX-Ni.screenX,Pa=i.screenY-Ni.screenY):Pa=ks=0,Ni=i),ks)},movementY:function(i){return"movementY"in i?i.movementY:Pa}}),pl=qe(ka),zr=T({},ka,{dataTransfer:0}),uc=qe(zr),cc=T({},Ps,{relatedTarget:0}),Br=qe(cc),gl=T({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=qe(gl),La=T({},ns,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fc=qe(La),dc=T({},ns,{data:0}),Vi=qe(dc),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=gc[i])?!!s[i]:!1}function Ls(){return yc}var ln=T({},Ps,{key:function(i){if(i.key){var s=mc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=jr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(i){return i.type==="keypress"?jr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?jr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vc=qe(ln),_c=T({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=qe(_c),h=T({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),y=qe(h),E=T({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=qe(E),B=T({},ka,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),K=qe(B),ot=T({},ns,{newState:0,oldState:0}),Ct=qe(ot),ye=[9,13,27,32],Gt=On&&"CompositionEvent"in window,ue=null;On&&"documentMode"in document&&(ue=document.documentMode);var Pn=On&&"TextEvent"in window&&!ue,Mi=On&&(!Gt||ue&&8<ue&&11>=ue),ni=" ",ii=!1;function Fr(i,s){switch(i){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ja=!1;function UC(i,s){switch(i){case"compositionend":return Ua(s);case"keypress":return s.which!==32?null:(ii=!0,ni);case"textInput":return i=s.data,i===ni&&ii?null:i;default:return null}}function jC(i,s){if(ja)return i==="compositionend"||!Gt&&Fr(i,s)?(i=dl(),Ur=fl=Ii=null,ja=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Mi&&s.locale!=="ko"?null:s.data;default:return null}}var zC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rv(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!zC[i.type]:s==="textarea"}function av(i,s,a,l){Ms?xi?xi.push(l):xi=[l]:Ms=l,s=lh(s,"onChange"),0<s.length&&(a=new Di("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var yl=null,vl=null;function BC(i){F0(i,0)}function Tc(i){var s=bn(i);if(Or(s))return i}function ov(i,s){if(i==="change")return s}var lv=!1;if(On){var ad;if(On){var od="oninput"in document;if(!od){var uv=document.createElement("div");uv.setAttribute("oninput","return;"),od=typeof uv.oninput=="function"}ad=od}else ad=!1;lv=ad&&(!document.documentMode||9<document.documentMode)}function cv(){yl&&(yl.detachEvent("onpropertychange",hv),vl=yl=null)}function hv(i){if(i.propertyName==="value"&&Tc(vl)){var s=[];av(s,vl,i,Mn(i)),Os(BC,s)}}function FC(i,s,a){i==="focusin"?(cv(),yl=s,vl=a,yl.attachEvent("onpropertychange",hv)):i==="focusout"&&cv()}function HC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Tc(vl)}function qC(i,s){if(i==="click")return Tc(s)}function GC(i,s){if(i==="input"||i==="change")return Tc(s)}function KC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var An=typeof Object.is=="function"?Object.is:KC;function _l(i,s){if(An(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ee.call(s,f)||!An(i[f],s[f]))return!1}return!0}function fv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function dv(i,s){var a=fv(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=fv(a)}}function mv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?mv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function pv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ri(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Ri(i.document)}return s}function ld(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var YC=On&&"documentMode"in document&&11>=document.documentMode,za=null,ud=null,Tl=null,cd=!1;function gv(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cd||za==null||za!==Ri(l)||(l=za,"selectionStart"in l&&ld(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&_l(Tl,l)||(Tl=l,l=lh(ud,"onSelect"),0<l.length&&(s=new Di("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=za)))}function Hr(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Ba={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},hd={},yv={};On&&(yv=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function qr(i){if(hd[i])return hd[i];if(!Ba[i])return i;var s=Ba[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in yv)return hd[i]=s[a];return i}var vv=qr("animationend"),_v=qr("animationiteration"),Tv=qr("animationstart"),QC=qr("transitionrun"),XC=qr("transitionstart"),$C=qr("transitioncancel"),Ev=qr("transitionend"),bv=new Map,fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fd.push("scrollEnd");function si(i,s){bv.set(i,s),wi(s,[i])}var Ec=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},kn=[],Fa=0,dd=0;function bc(){for(var i=Fa,s=dd=Fa=0;s<i;){var a=kn[s];kn[s++]=null;var l=kn[s];kn[s++]=null;var f=kn[s];kn[s++]=null;var m=kn[s];if(kn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}m!==0&&Sv(a,f,m)}}function Sc(i,s,a,l){kn[Fa++]=i,kn[Fa++]=s,kn[Fa++]=a,kn[Fa++]=l,dd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function md(i,s,a,l){return Sc(i,s,a,l),Ac(i)}function Gr(i,s){return Sc(i,null,null,s),Ac(i)}function Sv(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&s!==null&&(f=31-ge(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),m):null}function Ac(i){if(50<Fl)throw Fl=0,Sm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ha={};function ZC(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(i,s,a,l){return new ZC(i,s,a,l)}function pd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ss(i,s){var a=i.alternate;return a===null?(a=wn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Av(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function wc(i,s,a,l,f,m){var _=0;if(l=i,typeof i=="function")pd(i)&&(_=1);else if(typeof i=="string")_=nx(i,a,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=wn(31,a,s,f),i.elementType=x,i.lanes=m,i;case V:return Kr(a.children,f,m,s);case U:_=8,f|=24;break;case G:return i=wn(12,a,s,f|2),i.elementType=G,i.lanes=m,i;case at:return i=wn(13,a,s,f),i.elementType=at,i.lanes=m,i;case ut:return i=wn(19,a,s,f),i.elementType=ut,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Q:_=10;break t;case $:_=9;break t;case rt:_=11;break t;case D:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=wn(_,a,s,f),s.elementType=i,s.type=l,s.lanes=m,s}function Kr(i,s,a,l){return i=wn(7,i,l,s),i.lanes=a,i}function gd(i,s,a){return i=wn(6,i,null,s),i.lanes=a,i}function wv(i){var s=wn(18,null,null,0);return s.stateNode=i,s}function yd(i,s,a){return s=wn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Cv=new WeakMap;function Ln(i,s){if(typeof i=="object"&&i!==null){var a=Cv.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Zo(s)},Cv.set(i,s),s)}return{value:i,source:s,stack:Zo(s)}}var qa=[],Ga=0,Cc=null,El=0,Un=[],jn=0,Us=null,Oi=1,Pi="";function rs(i,s){qa[Ga++]=El,qa[Ga++]=Cc,Cc=i,El=s}function Rv(i,s,a){Un[jn++]=Oi,Un[jn++]=Pi,Un[jn++]=Us,Us=i;var l=Oi;i=Pi;var f=32-ge(l)-1;l&=~(1<<f),a+=1;var m=32-ge(s)+f;if(30<m){var _=f-f%5;m=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Oi=1<<32-ge(s)+f|a<<f|l,Pi=m+i}else Oi=1<<m|a<<f|l,Pi=i}function vd(i){i.return!==null&&(rs(i,1),Rv(i,1,0))}function _d(i){for(;i===Cc;)Cc=qa[--Ga],qa[Ga]=null,El=qa[--Ga],qa[Ga]=null;for(;i===Us;)Us=Un[--jn],Un[jn]=null,Pi=Un[--jn],Un[jn]=null,Oi=Un[--jn],Un[jn]=null}function xv(i,s){Un[jn++]=Oi,Un[jn++]=Pi,Un[jn++]=Us,Oi=s.id,Pi=s.overflow,Us=i}var Ge=null,se=null,jt=!1,js=null,zn=!1,Td=Error(r(519));function zs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Ln(s,i)),Td}function Iv(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[Se]=i,s[je]=l,a){case"dialog":Vt("cancel",s),Vt("close",s);break;case"iframe":case"object":case"embed":Vt("load",s);break;case"video":case"audio":for(a=0;a<ql.length;a++)Vt(ql[a],s);break;case"source":Vt("error",s);break;case"img":case"image":case"link":Vt("error",s),Vt("load",s);break;case"details":Vt("toggle",s);break;case"input":Vt("invalid",s),rc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",s);break;case"textarea":Vt("invalid",s),Ns(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||K0(s.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",s),Vt("toggle",s)),l.onScroll!=null&&Vt("scroll",s),l.onScrollEnd!=null&&Vt("scrollend",s),l.onClick!=null&&(s.onclick=Jn),s=!0):s=!1,s||zs(i,!0)}function Dv(i){for(Ge=i.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ge=Ge.return}}function Ka(i){if(i!==Ge)return!1;if(!jt)return Dv(i),jt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Um(i.type,i.memoizedProps)),a=!a),a&&se&&zs(i),Dv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));se=eT(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));se=eT(i)}else s===27?(s=se,tr(i.type)?(i=Hm,Hm=null,se=i):se=s):se=Ge?Fn(i.stateNode.nextSibling):null;return!0}function Yr(){se=Ge=null,jt=!1}function Ed(){var i=js;return i!==null&&(vn===null?vn=i:vn.push.apply(vn,i),js=null),i}function bl(i){js===null?js=[i]:js.push(i)}var bd=L(null),Qr=null,as=null;function Bs(i,s,a){lt(bd,s._currentValue),s._currentValue=a}function os(i){i._currentValue=bd.current,et(bd)}function Sd(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Ad(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var M=0;M<s.length;M++)if(S.context===s[M]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Sd(m.return,a,i),l||(_=null);break t}m=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Sd(_,a,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ya(i,s,a,l){i=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;An(f.pendingProps.value,_.value)||(i!==null?i.push(S):i=[S])}}else if(f===zt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Xl):i=[Xl])}f=f.return}i!==null&&Ad(s,i,a,l),s.flags|=262144}function Rc(i){for(i=i.firstContext;i!==null;){if(!An(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Xr(i){Qr=i,as=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ke(i){return Nv(Qr,i)}function xc(i,s){return Qr===null&&Xr(i),Nv(i,s)}function Nv(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},as===null){if(i===null)throw Error(r(308));as=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else as=as.next=s;return a}var WC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},JC=e.unstable_scheduleCallback,tR=e.unstable_NormalPriority,Ce={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new WC,data:new Map,refCount:0}}function Sl(i){i.refCount--,i.refCount===0&&JC(tR,function(){i.controller.abort()})}var Al=null,Cd=0,Qa=0,Xa=null;function eR(i,s){if(Al===null){var a=Al=[];Cd=0,Qa=Im(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Cd++,s.then(Vv,Vv),s}function Vv(){if(--Cd===0&&Al!==null){Xa!==null&&(Xa.status="fulfilled");var i=Al;Al=null,Qa=0,Xa=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function nR(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Mv=X.S;X.S=function(i,s){g0=on(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&eR(i,s),Mv!==null&&Mv(i,s)};var $r=L(null);function Rd(){var i=$r.current;return i!==null?i:ee.pooledCache}function Ic(i,s){s===null?lt($r,$r.current):lt($r,s.pool)}function Ov(){var i=Rd();return i===null?null:{parent:Ce._currentValue,pool:i}}var $a=Error(r(460)),xd=Error(r(474)),Dc=Error(r(542)),Nc={then:function(){}};function Pv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function kv(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(Jn,Jn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Uv(i),i;default:if(typeof s.status=="string")s.then(Jn,Jn);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Uv(i),i}throw Wr=s,$a}}function Zr(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wr=a,$a):a}}var Wr=null;function Lv(){if(Wr===null)throw Error(r(459));var i=Wr;return Wr=null,i}function Uv(i){if(i===$a||i===Dc)throw Error(r(483))}var Za=null,wl=0;function Vc(i){var s=wl;return wl+=1,Za===null&&(Za=[]),kv(Za,i,s)}function Cl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Mc(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function jv(i){function s(z,k){if(i){var F=z.deletions;F===null?(z.deletions=[k],z.flags|=16):F.push(k)}}function a(z,k){if(!i)return null;for(;k!==null;)s(z,k),k=k.sibling;return null}function l(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=ss(z,k),z.index=0,z.sibling=null,z}function m(z,k,F){return z.index=F,i?(F=z.alternate,F!==null?(F=F.index,F<k?(z.flags|=67108866,k):F):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function _(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function S(z,k,F,W){return k===null||k.tag!==6?(k=gd(F,z.mode,W),k.return=z,k):(k=f(k,F),k.return=z,k)}function M(z,k,F,W){var yt=F.type;return yt===V?Z(z,k,F.props.children,W,F.key):k!==null&&(k.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&Zr(yt)===k.type)?(k=f(k,F.props),Cl(k,F),k.return=z,k):(k=wc(F.type,F.key,F.props,null,z.mode,W),Cl(k,F),k.return=z,k)}function H(z,k,F,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=yd(F,z.mode,W),k.return=z,k):(k=f(k,F.children||[]),k.return=z,k)}function Z(z,k,F,W,yt){return k===null||k.tag!==7?(k=Kr(F,z.mode,W,yt),k.return=z,k):(k=f(k,F),k.return=z,k)}function J(z,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=gd(""+k,z.mode,F),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return F=wc(k.type,k.key,k.props,null,z.mode,F),Cl(F,k),F.return=z,F;case R:return k=yd(k,z.mode,F),k.return=z,k;case A:return k=Zr(k),J(z,k,F)}if(ie(k)||j(k))return k=Kr(k,z.mode,F,null),k.return=z,k;if(typeof k.then=="function")return J(z,Vc(k),F);if(k.$$typeof===Q)return J(z,xc(z,k),F);Mc(z,k)}return null}function q(z,k,F,W){var yt=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return yt!==null?null:S(z,k,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return F.key===yt?M(z,k,F,W):null;case R:return F.key===yt?H(z,k,F,W):null;case A:return F=Zr(F),q(z,k,F,W)}if(ie(F)||j(F))return yt!==null?null:Z(z,k,F,W,null);if(typeof F.then=="function")return q(z,k,Vc(F),W);if(F.$$typeof===Q)return q(z,k,xc(z,F),W);Mc(z,F)}return null}function Y(z,k,F,W,yt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(F)||null,S(k,z,""+W,yt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return z=z.get(W.key===null?F:W.key)||null,M(k,z,W,yt);case R:return z=z.get(W.key===null?F:W.key)||null,H(k,z,W,yt);case A:return W=Zr(W),Y(z,k,F,W,yt)}if(ie(W)||j(W))return z=z.get(F)||null,Z(k,z,W,yt,null);if(typeof W.then=="function")return Y(z,k,F,Vc(W),yt);if(W.$$typeof===Q)return Y(z,k,F,xc(k,W),yt);Mc(k,W)}return null}function dt(z,k,F,W){for(var yt=null,Ht=null,pt=k,Dt=k=0,Pt=null;pt!==null&&Dt<F.length;Dt++){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var qt=q(z,pt,F[Dt],W);if(qt===null){pt===null&&(pt=Pt);break}i&&pt&&qt.alternate===null&&s(z,pt),k=m(qt,k,Dt),Ht===null?yt=qt:Ht.sibling=qt,Ht=qt,pt=Pt}if(Dt===F.length)return a(z,pt),jt&&rs(z,Dt),yt;if(pt===null){for(;Dt<F.length;Dt++)pt=J(z,F[Dt],W),pt!==null&&(k=m(pt,k,Dt),Ht===null?yt=pt:Ht.sibling=pt,Ht=pt);return jt&&rs(z,Dt),yt}for(pt=l(pt);Dt<F.length;Dt++)Pt=Y(pt,z,Dt,F[Dt],W),Pt!==null&&(i&&Pt.alternate!==null&&pt.delete(Pt.key===null?Dt:Pt.key),k=m(Pt,k,Dt),Ht===null?yt=Pt:Ht.sibling=Pt,Ht=Pt);return i&&pt.forEach(function(rr){return s(z,rr)}),jt&&rs(z,Dt),yt}function _t(z,k,F,W){if(F==null)throw Error(r(151));for(var yt=null,Ht=null,pt=k,Dt=k=0,Pt=null,qt=F.next();pt!==null&&!qt.done;Dt++,qt=F.next()){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var rr=q(z,pt,qt.value,W);if(rr===null){pt===null&&(pt=Pt);break}i&&pt&&rr.alternate===null&&s(z,pt),k=m(rr,k,Dt),Ht===null?yt=rr:Ht.sibling=rr,Ht=rr,pt=Pt}if(qt.done)return a(z,pt),jt&&rs(z,Dt),yt;if(pt===null){for(;!qt.done;Dt++,qt=F.next())qt=J(z,qt.value,W),qt!==null&&(k=m(qt,k,Dt),Ht===null?yt=qt:Ht.sibling=qt,Ht=qt);return jt&&rs(z,Dt),yt}for(pt=l(pt);!qt.done;Dt++,qt=F.next())qt=Y(pt,z,Dt,qt.value,W),qt!==null&&(i&&qt.alternate!==null&&pt.delete(qt.key===null?Dt:qt.key),k=m(qt,k,Dt),Ht===null?yt=qt:Ht.sibling=qt,Ht=qt);return i&&pt.forEach(function(dx){return s(z,dx)}),jt&&rs(z,Dt),yt}function te(z,k,F,W){if(typeof F=="object"&&F!==null&&F.type===V&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case w:t:{for(var yt=F.key;k!==null;){if(k.key===yt){if(yt=F.type,yt===V){if(k.tag===7){a(z,k.sibling),W=f(k,F.props.children),W.return=z,z=W;break t}}else if(k.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&Zr(yt)===k.type){a(z,k.sibling),W=f(k,F.props),Cl(W,F),W.return=z,z=W;break t}a(z,k);break}else s(z,k);k=k.sibling}F.type===V?(W=Kr(F.props.children,z.mode,W,F.key),W.return=z,z=W):(W=wc(F.type,F.key,F.props,null,z.mode,W),Cl(W,F),W.return=z,z=W)}return _(z);case R:t:{for(yt=F.key;k!==null;){if(k.key===yt)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){a(z,k.sibling),W=f(k,F.children||[]),W.return=z,z=W;break t}else{a(z,k);break}else s(z,k);k=k.sibling}W=yd(F,z.mode,W),W.return=z,z=W}return _(z);case A:return F=Zr(F),te(z,k,F,W)}if(ie(F))return dt(z,k,F,W);if(j(F)){if(yt=j(F),typeof yt!="function")throw Error(r(150));return F=yt.call(F),_t(z,k,F,W)}if(typeof F.then=="function")return te(z,k,Vc(F),W);if(F.$$typeof===Q)return te(z,k,xc(z,F),W);Mc(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(a(z,k.sibling),W=f(k,F),W.return=z,z=W):(a(z,k),W=gd(F,z.mode,W),W.return=z,z=W),_(z)):a(z,k)}return function(z,k,F,W){try{wl=0;var yt=te(z,k,F,W);return Za=null,yt}catch(pt){if(pt===$a||pt===Dc)throw pt;var Ht=wn(29,pt,null,z.mode);return Ht.lanes=W,Ht.return=z,Ht}}}var Jr=jv(!0),zv=jv(!1),Fs=!1;function Id(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Hs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function qs(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Ac(i),Sv(i,null,a),s}return Sc(i,l,s,a),Ac(i)}function Rl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,tl(i,a)}}function Nd(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Vd=!1;function xl(){if(Vd){var i=Xa;if(i!==null)throw i}}function Il(i,s,a,l){Vd=!1;var f=i.updateQueue;Fs=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,H=M.next;M.next=null,_===null?m=H:_.next=H,_=M;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=H:S.next=H,Z.lastBaseUpdate=M))}if(m!==null){var J=f.baseState;_=0,Z=H=M=null,S=m;do{var q=S.lane&-536870913,Y=q!==S.lane;if(Y?(Ot&q)===q:(l&q)===q){q!==0&&q===Qa&&(Vd=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var dt=i,_t=S;q=s;var te=a;switch(_t.tag){case 1:if(dt=_t.payload,typeof dt=="function"){J=dt.call(te,J,q);break t}J=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=_t.payload,q=typeof dt=="function"?dt.call(te,J,q):dt,q==null)break t;J=T({},J,q);break t;case 2:Fs=!0}}q=S.callback,q!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(H=Z=Y,M=J):Z=Z.next=Y,_|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);Z===null&&(M=J),f.baseState=M,f.firstBaseUpdate=H,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),Xs|=_,i.lanes=_,i.memoizedState=J}}function Bv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Fv(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Bv(a[i],s)}var Wa=L(null),Oc=L(0);function Hv(i,s){i=gs,lt(Oc,i),lt(Wa,s),gs=i|s.baseLanes}function Md(){lt(Oc,gs),lt(Wa,Wa.current)}function Od(){gs=Oc.current,et(Wa),et(Oc)}var Cn=L(null),Bn=null;function Gs(i){var s=i.alternate;lt(ve,ve.current&1),lt(Cn,i),Bn===null&&(s===null||Wa.current!==null||s.memoizedState!==null)&&(Bn=i)}function Pd(i){lt(ve,ve.current),lt(Cn,i),Bn===null&&(Bn=i)}function qv(i){i.tag===22?(lt(ve,ve.current),lt(Cn,i),Bn===null&&(Bn=i)):Ks()}function Ks(){lt(ve,ve.current),lt(Cn,Cn.current)}function Rn(i){et(Cn),Bn===i&&(Bn=null),et(ve)}var ve=L(0);function Pc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bm(a)||Fm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ls=0,Rt=null,Wt=null,Re=null,kc=!1,Ja=!1,ta=!1,Lc=0,Dl=0,to=null,iR=0;function de(){throw Error(r(321))}function kd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!An(i[a],s[a]))return!1;return!0}function Ld(i,s,a,l,f,m){return ls=m,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=i===null||i.memoizedState===null?R_:Wd,ta=!1,m=a(l,f),ta=!1,Ja&&(m=Kv(s,a,l,f)),Gv(i),m}function Gv(i){X.H=Ml;var s=Wt!==null&&Wt.next!==null;if(ls=0,Re=Wt=Rt=null,kc=!1,Dl=0,to=null,s)throw Error(r(300));i===null||xe||(i=i.dependencies,i!==null&&Rc(i)&&(xe=!0))}function Kv(i,s,a,l){Rt=i;var f=0;do{if(Ja&&(to=null),Dl=0,Ja=!1,25<=f)throw Error(r(301));if(f+=1,Re=Wt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=x_,m=s(a,l)}while(Ja);return m}function sR(){var i=X.H,s=i.useState()[0];return s=typeof s.then=="function"?Nl(s):s,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Rt.flags|=1024),s}function Ud(){var i=Lc!==0;return Lc=0,i}function jd(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function zd(i){if(kc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}kc=!1}ls=0,Re=Wt=Rt=null,Ja=!1,Dl=Lc=0,to=null}function un(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Rt.memoizedState=Re=i:Re=Re.next=i,Re}function _e(){if(Wt===null){var i=Rt.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var s=Re===null?Rt.memoizedState:Re.next;if(s!==null)Re=s,Wt=i;else{if(i===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Re===null?Rt.memoizedState=Re=i:Re=Re.next=i}return Re}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(i){var s=Dl;return Dl+=1,to===null&&(to=[]),i=kv(to,i,s),s=Rt,(Re===null?s.memoizedState:Re.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?R_:Wd),i}function jc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nl(i);if(i.$$typeof===Q)return Ke(i)}throw Error(r(438,String(i)))}function Bd(i){var s=null,a=Rt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Uc(),Rt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=P;return s.index++,a}function us(i,s){return typeof s=="function"?s(i):s}function zc(i){var s=_e();return Fd(s,Wt,i)}function Fd(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}s.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{s=f.next;var S=_=null,M=null,H=s,Z=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Ot&J)===J:(ls&J)===J){var q=H.revertLane;if(q===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Qa&&(Z=!0);else if((ls&q)===q){H=H.next,q===Qa&&(Z=!0);continue}else J={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(S=M=J,_=m):M=M.next=J,Rt.lanes|=q,Xs|=q;J=H.action,ta&&a(m,J),m=H.hasEagerState?H.eagerState:a(m,J)}else q={lane:J,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(S=M=q,_=m):M=M.next=q,Rt.lanes|=J,Xs|=J;H=H.next}while(H!==null&&H!==s);if(M===null?_=m:M.next=S,!An(m,i.memoizedState)&&(xe=!0,Z&&(a=Xa,a!==null)))throw a;i.memoizedState=m,i.baseState=_,i.baseQueue=M,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Hd(i){var s=_e(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=i(m,_.action),_=_.next;while(_!==f);An(m,s.memoizedState)||(xe=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Yv(i,s,a){var l=Rt,f=_e(),m=jt;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!An((Wt||f).memoizedState,a);if(_&&(f.memoizedState=a,xe=!0),f=f.queue,Kd($v.bind(null,l,f,i),[i]),f.getSnapshot!==s||_||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,eo(9,{destroy:void 0},Xv.bind(null,l,f,a,s),null),ee===null)throw Error(r(349));m||(ls&127)!==0||Qv(l,s,a)}return a}function Qv(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Rt.updateQueue,s===null?(s=Uc(),Rt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function Xv(i,s,a,l){s.value=a,s.getSnapshot=l,Zv(s)&&Wv(i)}function $v(i,s,a){return a(function(){Zv(s)&&Wv(i)})}function Zv(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!An(i,a)}catch{return!0}}function Wv(i){var s=Gr(i,2);s!==null&&_n(s,i,2)}function qd(i){var s=un();if(typeof i=="function"){var a=i;if(i=a(),ta){Nn(!0);try{a()}finally{Nn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:i},s}function Jv(i,s,a,l){return i.baseState=a,Fd(i,Wt,typeof l=="function"?l:us)}function rR(i,s,a,l,f){if(Hc(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,t_(s,m)):(m.next=a.next,s.pending=a.next=m)}}function t_(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var m=X.T,_={};X.T=_;try{var S=a(f,l),M=X.S;M!==null&&M(_,S),e_(i,s,S)}catch(H){Gd(i,s,H)}finally{m!==null&&_.types!==null&&(m.types=_.types),X.T=m}}else try{m=a(f,l),e_(i,s,m)}catch(H){Gd(i,s,H)}}function e_(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){n_(i,s,l)},function(l){return Gd(i,s,l)}):n_(i,s,a)}function n_(i,s,a){s.status="fulfilled",s.value=a,i_(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,t_(i,a)))}function Gd(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,i_(s),s=s.next;while(s!==l)}i.action=null}function i_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function s_(i,s){return s}function r_(i,s){if(jt){var a=ee.formState;if(a!==null){t:{var l=Rt;if(jt){if(se){e:{for(var f=se,m=zn;f.nodeType!==8;){if(!m){f=null;break e}if(f=Fn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){se=Fn(f.nextSibling),l=f.data==="F!";break t}}zs(l)}l=!1}l&&(s=a[0])}}return a=un(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s_,lastRenderedState:s},a.queue=l,a=A_.bind(null,Rt,l),l.dispatch=a,l=qd(!1),m=Zd.bind(null,Rt,!1,l.queue),l=un(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=rR.bind(null,Rt,f,m,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function a_(i){var s=_e();return o_(s,Wt,i)}function o_(i,s,a){if(s=Fd(i,s,s_)[0],i=zc(us)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Nl(s)}catch(_){throw _===$a?Dc:_}else l=s;s=_e();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Rt.flags|=2048,eo(9,{destroy:void 0},aR.bind(null,f,a),null)),[l,m,i]}function aR(i,s){i.action=s}function l_(i){var s=_e(),a=Wt;if(a!==null)return o_(s,a,i);_e(),s=s.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function eo(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Rt.updateQueue,s===null&&(s=Uc(),Rt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function u_(){return _e().memoizedState}function Bc(i,s,a,l){var f=un();Rt.flags|=i,f.memoizedState=eo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Fc(i,s,a,l){var f=_e();l=l===void 0?null:l;var m=f.memoizedState.inst;Wt!==null&&l!==null&&kd(l,Wt.memoizedState.deps)?f.memoizedState=eo(s,m,a,l):(Rt.flags|=i,f.memoizedState=eo(1|s,m,a,l))}function c_(i,s){Bc(8390656,8,i,s)}function Kd(i,s){Fc(2048,8,i,s)}function oR(i){Rt.flags|=4;var s=Rt.updateQueue;if(s===null)s=Uc(),Rt.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function h_(i){var s=_e().memoizedState;return oR({ref:s,nextImpl:i}),function(){if((Kt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function f_(i,s){return Fc(4,2,i,s)}function d_(i,s){return Fc(4,4,i,s)}function m_(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function p_(i,s,a){a=a!=null?a.concat([i]):null,Fc(4,4,m_.bind(null,s,i),a)}function Yd(){}function g_(i,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&kd(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function y_(i,s){var a=_e();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&kd(s,l[1]))return l[0];if(l=i(),ta){Nn(!0);try{i()}finally{Nn(!1)}}return a.memoizedState=[l,s],l}function Qd(i,s,a){return a===void 0||(ls&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=v0(),Rt.lanes|=i,Xs|=i,a)}function v_(i,s,a,l){return An(a,s)?a:Wa.current!==null?(i=Qd(i,a,l),An(i,s)||(xe=!0),i):(ls&42)===0||(ls&1073741824)!==0&&(Ot&261930)===0?(xe=!0,i.memoizedState=a):(i=v0(),Rt.lanes|=i,Xs|=i,s)}function __(i,s,a,l,f){var m=st.p;st.p=m!==0&&8>m?m:8;var _=X.T,S={};X.T=S,Zd(i,!1,s,a);try{var M=f(),H=X.S;if(H!==null&&H(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=nR(M,l);Vl(i,s,Z,Dn(i))}else Vl(i,s,l,Dn(i))}catch(J){Vl(i,s,{then:function(){},status:"rejected",reason:J},Dn())}finally{st.p=m,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function lR(){}function Xd(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=T_(i).queue;__(i,f,s,ft,a===null?lR:function(){return E_(i),a(l)})}function T_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function E_(i){var s=T_(i);s.next===null&&(s=i.alternate.memoizedState),Vl(i,s.next.queue,{},Dn())}function $d(){return Ke(Xl)}function b_(){return _e().memoizedState}function S_(){return _e().memoizedState}function uR(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Dn();i=Hs(a);var l=qs(s,i,a);l!==null&&(_n(l,s,a),Rl(l,s,a)),s={cache:wd()},i.payload=s;return}s=s.return}}function cR(i,s,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hc(i)?w_(s,a):(a=md(i,s,a,l),a!==null&&(_n(a,i,l),C_(a,s,l)))}function A_(i,s,a){var l=Dn();Vl(i,s,a,l)}function Vl(i,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hc(i))w_(s,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,S=m(_,a);if(f.hasEagerState=!0,f.eagerState=S,An(S,_))return Sc(i,s,f,0),ee===null&&bc(),!1}catch{}if(a=md(i,s,f,l),a!==null)return _n(a,i,l),C_(a,s,l),!0}return!1}function Zd(i,s,a,l){if(l={lane:2,revertLane:Im(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hc(i)){if(s)throw Error(r(479))}else s=md(i,a,l,2),s!==null&&_n(s,i,2)}function Hc(i){var s=i.alternate;return i===Rt||s!==null&&s===Rt}function w_(i,s){Ja=kc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function C_(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,tl(i,a)}}var Ml={readContext:Ke,use:jc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Ml.useEffectEvent=de;var R_={readContext:Ke,use:jc,useCallback:function(i,s){return un().memoizedState=[i,s===void 0?null:s],i},useContext:Ke,useEffect:c_,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Bc(4194308,4,m_.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Bc(4194308,4,i,s)},useInsertionEffect:function(i,s){Bc(4,2,i,s)},useMemo:function(i,s){var a=un();s=s===void 0?null:s;var l=i();if(ta){Nn(!0);try{i()}finally{Nn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=un();if(a!==void 0){var f=a(s);if(ta){Nn(!0);try{a(s)}finally{Nn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=cR.bind(null,Rt,i),[l.memoizedState,i]},useRef:function(i){var s=un();return i={current:i},s.memoizedState=i},useState:function(i){i=qd(i);var s=i.queue,a=A_.bind(null,Rt,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Yd,useDeferredValue:function(i,s){var a=un();return Qd(a,i,s)},useTransition:function(){var i=qd(!1);return i=__.bind(null,Rt,i.queue,!0,!1),un().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Rt,f=un();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ee===null)throw Error(r(349));(Ot&127)!==0||Qv(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,c_($v.bind(null,l,m,i),[i]),l.flags|=2048,eo(9,{destroy:void 0},Xv.bind(null,l,m,a,s),null),a},useId:function(){var i=un(),s=ee.identifierPrefix;if(jt){var a=Pi,l=Oi;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Lc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=iR++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:$d,useFormState:r_,useActionState:r_,useOptimistic:function(i){var s=un();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Zd.bind(null,Rt,!0,a),a.dispatch=s,[i,s]},useMemoCache:Bd,useCacheRefresh:function(){return un().memoizedState=uR.bind(null,Rt)},useEffectEvent:function(i){var s=un(),a={impl:i};return s.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Wd={readContext:Ke,use:jc,useCallback:g_,useContext:Ke,useEffect:Kd,useImperativeHandle:p_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:y_,useReducer:zc,useRef:u_,useState:function(){return zc(us)},useDebugValue:Yd,useDeferredValue:function(i,s){var a=_e();return v_(a,Wt.memoizedState,i,s)},useTransition:function(){var i=zc(us)[0],s=_e().memoizedState;return[typeof i=="boolean"?i:Nl(i),s]},useSyncExternalStore:Yv,useId:b_,useHostTransitionStatus:$d,useFormState:a_,useActionState:a_,useOptimistic:function(i,s){var a=_e();return Jv(a,Wt,i,s)},useMemoCache:Bd,useCacheRefresh:S_};Wd.useEffectEvent=h_;var x_={readContext:Ke,use:jc,useCallback:g_,useContext:Ke,useEffect:Kd,useImperativeHandle:p_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:y_,useReducer:Hd,useRef:u_,useState:function(){return Hd(us)},useDebugValue:Yd,useDeferredValue:function(i,s){var a=_e();return Wt===null?Qd(a,i,s):v_(a,Wt.memoizedState,i,s)},useTransition:function(){var i=Hd(us)[0],s=_e().memoizedState;return[typeof i=="boolean"?i:Nl(i),s]},useSyncExternalStore:Yv,useId:b_,useHostTransitionStatus:$d,useFormState:l_,useActionState:l_,useOptimistic:function(i,s){var a=_e();return Wt!==null?Jv(a,Wt,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Bd,useCacheRefresh:S_};x_.useEffectEvent=h_;function Jd(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var tm={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Dn(),f=Hs(l);f.payload=s,a!=null&&(f.callback=a),s=qs(i,f,l),s!==null&&(_n(s,i,l),Rl(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Dn(),f=Hs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=qs(i,f,l),s!==null&&(_n(s,i,l),Rl(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Dn(),l=Hs(a);l.tag=2,s!=null&&(l.callback=s),s=qs(i,l,a),s!==null&&(_n(s,i,a),Rl(s,i,a))}};function I_(i,s,a,l,f,m,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,_):s.prototype&&s.prototype.isPureReactComponent?!_l(a,l)||!_l(f,m):!0}function D_(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&tm.enqueueReplaceState(s,s.state,null)}function ea(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=T({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function N_(i){Ec(i)}function V_(i){console.error(i)}function M_(i){Ec(i)}function qc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function O_(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function em(i,s,a){return a=Hs(a),a.tag=3,a.payload={element:null},a.callback=function(){qc(i,s)},a}function P_(i){return i=Hs(i),i.tag=3,i}function k_(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){O_(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){O_(s,a,l),typeof f!="function"&&($s===null?$s=new Set([this]):$s.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function hR(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ya(s,a,f,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?nh():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Nc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Cm(i,l,f)),!1;case 22:return a.flags|=65536,l===Nc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Cm(i,l,f)),!1}throw Error(r(435,a.tag))}return Cm(i,l,f),nh(),!1}if(jt)return s=Cn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Td&&(i=Error(r(422),{cause:l}),bl(Ln(i,a)))):(l!==Td&&(s=Error(r(423),{cause:l}),bl(Ln(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Ln(l,a),f=em(i.stateNode,l,f),Nd(i,f),me!==4&&(me=2)),!1;var m=Error(r(520),{cause:l});if(m=Ln(m,a),Bl===null?Bl=[m]:Bl.push(m),me!==4&&(me=2),s===null)return!0;l=Ln(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=em(a.stateNode,l,i),Nd(a,i),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&($s===null||!$s.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=P_(f),k_(f,i,a,l),Nd(a,f),!1}a=a.return}while(a!==null);return!1}var nm=Error(r(461)),xe=!1;function Ye(i,s,a,l){s.child=i===null?zv(s,null,a,l):Jr(s,i.child,a,l)}function L_(i,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Xr(s),l=Ld(i,s,a,_,m,f),S=Ud(),i!==null&&!xe?(jd(i,s,f),cs(i,s,f)):(jt&&S&&vd(s),s.flags|=1,Ye(i,s,l,f),s.child)}function U_(i,s,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!pd(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,j_(i,s,m,l,f)):(i=wc(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!cm(i,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(_,l)&&i.ref===s.ref)return cs(i,s,f)}return s.flags|=1,i=ss(m,l),i.ref=s.ref,i.return=s,s.child=i}function j_(i,s,a,l,f){if(i!==null){var m=i.memoizedProps;if(_l(m,l)&&i.ref===s.ref)if(xe=!1,s.pendingProps=l=m,cm(i,f))(i.flags&131072)!==0&&(xe=!0);else return s.lanes=i.lanes,cs(i,s,f)}return im(i,s,a,l,f)}function z_(i,s,a,l){var f=l.children,m=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,i!==null){for(l=s.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,s.child=null;return B_(i,s,m,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ic(s,m!==null?m.cachePool:null),m!==null?Hv(s,m):Md(),qv(s);else return l=s.lanes=536870912,B_(i,s,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Ic(s,m.cachePool),Hv(s,m),Ks(),s.memoizedState=null):(i!==null&&Ic(s,null),Md(),Ks());return Ye(i,s,f,a),s.child}function Ol(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function B_(i,s,a,l,f){var m=Rd();return m=m===null?null:{parent:Ce._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},i!==null&&Ic(s,null),Md(),qv(s),i!==null&&Ya(i,s,l,!0),s.childLanes=f,null}function Gc(i,s){return s=Yc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function F_(i,s,a){return Jr(s,i.child,null,a),i=Gc(s,s.pendingProps),i.flags|=2,Rn(s),s.memoizedState=null,i}function fR(i,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(jt){if(l.mode==="hidden")return i=Gc(s,l),s.lanes=536870912,Ol(null,i);if(Pd(s),(i=se)?(i=tT(i,zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Us!==null?{id:Oi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},a=wv(i),a.return=s,s.child=a,Ge=s,se=null)):i=null,i===null)throw zs(s);return s.lanes=536870912,null}return Gc(s,l)}var m=i.memoizedState;if(m!==null){var _=m.dehydrated;if(Pd(s),f)if(s.flags&256)s.flags&=-257,s=F_(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(xe||Ya(i,s,a,!1),f=(a&i.childLanes)!==0,xe||f){if(l=ee,l!==null&&(_=el(l,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,Gr(i,_),_n(l,i,_),nm;nh(),s=F_(i,s,a)}else i=m.treeContext,se=Fn(_.nextSibling),Ge=s,jt=!0,js=null,zn=!1,i!==null&&xv(s,i),s=Gc(s,l),s.flags|=4096;return s}return i=ss(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Kc(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function im(i,s,a,l,f){return Xr(s),a=Ld(i,s,a,l,void 0,f),l=Ud(),i!==null&&!xe?(jd(i,s,f),cs(i,s,f)):(jt&&l&&vd(s),s.flags|=1,Ye(i,s,a,f),s.child)}function H_(i,s,a,l,f,m){return Xr(s),s.updateQueue=null,a=Kv(s,l,a,f),Gv(i),l=Ud(),i!==null&&!xe?(jd(i,s,m),cs(i,s,m)):(jt&&l&&vd(s),s.flags|=1,Ye(i,s,a,m),s.child)}function q_(i,s,a,l,f){if(Xr(s),s.stateNode===null){var m=Ha,_=a.contextType;typeof _=="object"&&_!==null&&(m=Ke(_)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=tm,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Id(s),_=a.contextType,m.context=typeof _=="object"&&_!==null?Ke(_):Ha,m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jd(s,a,_,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&tm.enqueueReplaceState(m,m.state,null),Il(s,l,m,f),xl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){m=s.stateNode;var S=s.memoizedProps,M=ea(a,S);m.props=M;var H=m.context,Z=a.contextType;_=Ha,typeof Z=="object"&&Z!==null&&(_=Ke(Z));var J=a.getDerivedStateFromProps;Z=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||H!==_)&&D_(s,m,l,_),Fs=!1;var q=s.memoizedState;m.state=q,Il(s,l,m,f),xl(),H=s.memoizedState,S||q!==H||Fs?(typeof J=="function"&&(Jd(s,a,J,l),H=s.memoizedState),(M=Fs||I_(s,a,M,l,q,H,_))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=H),m.props=l,m.state=H,m.context=_,l=M):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Dd(i,s),_=s.memoizedProps,Z=ea(a,_),m.props=Z,J=s.pendingProps,q=m.context,H=a.contextType,M=Ha,typeof H=="object"&&H!==null&&(M=Ke(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==J||q!==M)&&D_(s,m,l,M),Fs=!1,q=s.memoizedState,m.state=q,Il(s,l,m,f),xl();var Y=s.memoizedState;_!==J||q!==Y||Fs||i!==null&&i.dependencies!==null&&Rc(i.dependencies)?(typeof S=="function"&&(Jd(s,a,S,l),Y=s.memoizedState),(Z=Fs||I_(s,a,Z,l,q,Y,M)||i!==null&&i.dependencies!==null&&Rc(i.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,M)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Y),m.props=l,m.state=Y,m.context=M,l=Z):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=1024),l=!1)}return m=l,Kc(i,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&l?(s.child=Jr(s,i.child,null,f),s.child=Jr(s,null,a,f)):Ye(i,s,a,f),s.memoizedState=m.state,i=s.child):i=cs(i,s,f),i}function G_(i,s,a,l){return Yr(),s.flags|=256,Ye(i,s,a,l),s.child}var sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rm(i){return{baseLanes:i,cachePool:Ov()}}function am(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=In),i}function K_(i,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=i!==null&&i.memoizedState===null?!1:(ve.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(jt){if(f?Gs(s):Ks(),(i=se)?(i=tT(i,zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Us!==null?{id:Oi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},a=wv(i),a.return=s,s.child=a,Ge=s,se=null)):i=null,i===null)throw zs(s);return Fm(i)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Ks(),f=s.mode,S=Yc({mode:"hidden",children:S},f),l=Kr(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=rm(a),l.childLanes=am(i,_,a),s.memoizedState=sm,Ol(null,l)):(Gs(s),om(s,S))}var M=i.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(m)s.flags&256?(Gs(s),s.flags&=-257,s=lm(i,s,a)):s.memoizedState!==null?(Ks(),s.child=i.child,s.flags|=128,s=null):(Ks(),S=l.fallback,f=s.mode,l=Yc({mode:"visible",children:l.children},f),S=Kr(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,Jr(s,i.child,null,a),l=s.child,l.memoizedState=rm(a),l.childLanes=am(i,_,a),s.memoizedState=sm,s=Ol(null,l));else if(Gs(s),Fm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(r(419)),l.stack="",l.digest=_,bl({value:l,source:null,stack:null}),s=lm(i,s,a)}else if(xe||Ya(i,s,a,!1),_=(a&i.childLanes)!==0,xe||_){if(_=ee,_!==null&&(l=el(_,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Gr(i,l),_n(_,i,l),nm;Bm(S)||nh(),s=lm(i,s,a)}else Bm(S)?(s.flags|=192,s.child=i.child,s=null):(i=M.treeContext,se=Fn(S.nextSibling),Ge=s,jt=!0,js=null,zn=!1,i!==null&&xv(s,i),s=om(s,l.children),s.flags|=4096);return s}return f?(Ks(),S=l.fallback,f=s.mode,M=i.child,H=M.sibling,l=ss(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,H!==null?S=ss(H,S):(S=Kr(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,Ol(null,l),l=s.child,S=i.child.memoizedState,S===null?S=rm(a):(f=S.cachePool,f!==null?(M=Ce._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=Ov(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=am(i,_,a),s.memoizedState=sm,Ol(i.child,l)):(Gs(s),a=i.child,i=a.sibling,a=ss(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=a,s.memoizedState=null,a)}function om(i,s){return s=Yc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Yc(i,s){return i=wn(22,i,null,s),i.lanes=0,i}function lm(i,s,a){return Jr(s,i.child,null,a),i=om(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Y_(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),Sd(i.return,s,a)}function um(i,s,a,l,f,m){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=m)}function Q_(i,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var _=ve.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,lt(ve,_),Ye(i,s,l,a),l=jt?El:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Y_(i,a,s);else if(i.tag===19)Y_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&Pc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),um(s,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Pc(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}um(s,!0,a,null,m,l);break;case"together":um(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function cs(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Xs|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Ya(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=ss(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=ss(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function cm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Rc(i)))}function dR(i,s,a){switch(s.tag){case 3:Me(s,s.stateNode.containerInfo),Bs(s,Ce,i.memoizedState.cache),Yr();break;case 27:case 5:Rr(s);break;case 4:Me(s,s.stateNode.containerInfo);break;case 10:Bs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Pd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Gs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?K_(i,s,a):(Gs(s),i=cs(i,s,a),i!==null?i.sibling:null);Gs(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ya(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Q_(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(ve,ve.current),l)break;return null;case 22:return s.lanes=0,z_(i,s,a,s.pendingProps);case 24:Bs(s,Ce,i.memoizedState.cache)}return cs(i,s,a)}function X_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)xe=!0;else{if(!cm(i,a)&&(s.flags&128)===0)return xe=!1,dR(i,s,a);xe=(i.flags&131072)!==0}else xe=!1,jt&&(s.flags&1048576)!==0&&Rv(s,El,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(i=Zr(s.elementType),s.type=i,typeof i=="function")pd(i)?(l=ea(i,l),s.tag=1,s=q_(null,s,i,l,a)):(s.tag=0,s=im(null,s,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===rt){s.tag=11,s=L_(null,s,i,l,a);break t}else if(f===D){s.tag=14,s=U_(null,s,i,l,a);break t}}throw s=Ft(i)||i,Error(r(306,s,""))}}return s;case 0:return im(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=ea(l,s.pendingProps),q_(i,s,l,f,a);case 3:t:{if(Me(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;f=m.element,Dd(i,s),Il(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Bs(s,Ce,l),l!==m.cache&&Ad(s,[Ce],a,!0),xl(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=G_(i,s,l,a);break t}else if(l!==f){f=Ln(Error(r(424)),s),bl(f),s=G_(i,s,l,a);break t}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,se=Fn(i.firstChild),Ge=s,jt=!0,js=null,zn=!0,a=zv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Yr(),l===f){s=cs(i,s,a);break t}Ye(i,s,l,a)}s=s.child}return s;case 26:return Kc(i,s),i===null?(a=aT(s.type,null,s.pendingProps,null))?s.memoizedState=a:jt||(a=s.type,i=s.pendingProps,l=uh(It.current).createElement(a),l[Se]=s,l[je]=i,Qe(l,a,i),Ae(l),s.stateNode=l):s.memoizedState=aT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Rr(s),i===null&&jt&&(l=s.stateNode=iT(s.type,s.pendingProps,It.current),Ge=s,zn=!0,f=se,tr(s.type)?(Hm=f,se=Fn(l.firstChild)):se=f),Ye(i,s,s.pendingProps.children,a),Kc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&jt&&((f=l=se)&&(l=HR(l,s.type,s.pendingProps,zn),l!==null?(s.stateNode=l,Ge=s,se=Fn(l.firstChild),zn=!1,f=!0):f=!1),f||zs(s)),Rr(s),f=s.type,m=s.pendingProps,_=i!==null?i.memoizedProps:null,l=m.children,Um(f,m)?l=null:_!==null&&Um(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Ld(i,s,sR,null,null,a),Xl._currentValue=f),Kc(i,s),Ye(i,s,l,a),s.child;case 6:return i===null&&jt&&((i=a=se)&&(a=qR(a,s.pendingProps,zn),a!==null?(s.stateNode=a,Ge=s,se=null,i=!0):i=!1),i||zs(s)),null;case 13:return K_(i,s,a);case 4:return Me(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=Jr(s,null,l,a):Ye(i,s,l,a),s.child;case 11:return L_(i,s,s.type,s.pendingProps,a);case 7:return Ye(i,s,s.pendingProps,a),s.child;case 8:return Ye(i,s,s.pendingProps.children,a),s.child;case 12:return Ye(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Bs(s,s.type,l.value),Ye(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Xr(s),f=Ke(f),l=l(f),s.flags|=1,Ye(i,s,l,a),s.child;case 14:return U_(i,s,s.type,s.pendingProps,a);case 15:return j_(i,s,s.type,s.pendingProps,a);case 19:return Q_(i,s,a);case 31:return fR(i,s,a);case 22:return z_(i,s,a,s.pendingProps);case 24:return Xr(s),l=Ke(Ce),i===null?(f=Rd(),f===null&&(f=ee,m=wd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},Id(s),Bs(s,Ce,f)):((i.lanes&a)!==0&&(Dd(i,s),Il(s,null,null,a),xl()),f=i.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Bs(s,Ce,l)):(l=m.cache,Bs(s,Ce,l),l!==f.cache&&Ad(s,[Ce],a,!0))),Ye(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function hs(i){i.flags|=4}function hm(i,s,a,l,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(b0())i.flags|=8192;else throw Wr=Nc,xd}else i.flags&=-16777217}function $_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!hT(s))if(b0())i.flags|=8192;else throw Wr=Nc,xd}function Qc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?tc():536870912,i.lanes|=s,ro|=s)}function Pl(i,s){if(!jt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function re(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function mR(i,s,a){var l=s.pendingProps;switch(_d(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(s),null;case 1:return re(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),os(Ce),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ka(s)?hs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ed())),re(s),null;case 26:var f=s.type,m=s.memoizedState;return i===null?(hs(s),m!==null?(re(s),$_(s,m)):(re(s),hm(s,f,null,l,a))):m?m!==i.memoizedState?(hs(s),re(s),$_(s,m)):(re(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&hs(s),re(s),hm(s,f,i,l,a)),null;case 27:if(Aa(s),a=It.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&hs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return re(s),null}i=ht.current,Ka(s)?Iv(s):(i=iT(f,l,a),s.stateNode=i,hs(s))}return re(s),null;case 5:if(Aa(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&hs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return re(s),null}if(m=ht.current,Ka(s))Iv(s);else{var _=uh(It.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}m[Se]=s,m[je]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;t:switch(Qe(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&hs(s)}}return re(s),hm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&hs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=It.current,Ka(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=Ge,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Se]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K0(i.nodeValue,a)),i||zs(s,!0)}else i=uh(i).createTextNode(l),i[Se]=s,s.stateNode=i}return re(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=Ka(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Se]=s}else Yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),i=!1}else a=Ed(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(Rn(s),s):(Rn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return re(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ka(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Se]=s}else Yr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),f=!1}else f=Ed(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Rn(s),s):(Rn(s),null)}return Rn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),Qc(s,s.updateQueue),re(s),null);case 4:return le(),i===null&&Mm(s.stateNode.containerInfo),re(s),null;case 10:return os(s.type),re(s),null;case 19:if(et(ve),l=s.memoizedState,l===null)return re(s),null;if(f=(s.flags&128)!==0,m=l.rendering,m===null)if(f)Pl(l,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=Pc(i),m!==null){for(s.flags|=128,Pl(l,!1),i=m.updateQueue,s.updateQueue=i,Qc(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)Av(a,i),a=a.sibling;return lt(ve,ve.current&1|2),jt&&rs(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&on()>Jc&&(s.flags|=128,f=!0,Pl(l,!1),s.lanes=4194304)}else{if(!f)if(i=Pc(m),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Qc(s,i),Pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!jt)return re(s),null}else 2*on()-l.renderingStartTime>Jc&&a!==536870912&&(s.flags|=128,f=!0,Pl(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(i=l.last,i!==null?i.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=on(),i.sibling=null,a=ve.current,lt(ve,f?a&1|2:a&1),jt&&rs(s,l.treeForkCount),i):(re(s),null);case 22:case 23:return Rn(s),Od(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(re(s),s.subtreeFlags&6&&(s.flags|=8192)):re(s),a=s.updateQueue,a!==null&&Qc(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&et($r),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),os(Ce),re(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function pR(i,s){switch(_d(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return os(Ce),le(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Aa(s),null;case 31:if(s.memoizedState!==null){if(Rn(s),s.alternate===null)throw Error(r(340));Yr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Rn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Yr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return et(ve),null;case 4:return le(),null;case 10:return os(s.type),null;case 22:case 23:return Rn(s),Od(),i!==null&&et($r),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return os(Ce),null;case 25:return null;default:return null}}function Z_(i,s){switch(_d(s),s.tag){case 3:os(Ce),le();break;case 26:case 27:case 5:Aa(s);break;case 4:le();break;case 31:s.memoizedState!==null&&Rn(s);break;case 13:Rn(s);break;case 19:et(ve);break;case 10:os(s.type);break;case 22:case 23:Rn(s),Od(),i!==null&&et($r);break;case 24:os(Ce)}}function kl(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){$t(s,s.return,S)}}function Ys(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=s;var M=a,H=S;try{H()}catch(Z){$t(f,M,Z)}}}l=l.next}while(l!==m)}}catch(Z){$t(s,s.return,Z)}}function W_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Fv(s,a)}catch(l){$t(i,i.return,l)}}}function J_(i,s,a){a.props=ea(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){$t(i,s,l)}}function Ll(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){$t(i,s,f)}}function ki(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$t(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$t(i,s,f)}else a.current=null}function t0(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$t(i,i.return,f)}}function fm(i,s,a){try{var l=i.stateNode;LR(l,i.type,a,s),l[je]=s}catch(f){$t(i,i.return,f)}}function e0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&tr(i.type)||i.tag===4}function dm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||e0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&tr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mm(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Jn));else if(l!==4&&(l===27&&tr(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(mm(i,s,a),i=i.sibling;i!==null;)mm(i,s,a),i=i.sibling}function Xc(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&tr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Xc(i,s,a),i=i.sibling;i!==null;)Xc(i,s,a),i=i.sibling}function n0(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Qe(s,l,a),s[Se]=i,s[je]=a}catch(m){$t(i,i.return,m)}}var fs=!1,Ie=!1,pm=!1,i0=typeof WeakSet=="function"?WeakSet:Set,Be=null;function gR(i,s){if(i=i.containerInfo,km=gh,i=pv(i),ld(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var _=0,S=-1,M=-1,H=0,Z=0,J=i,q=null;e:for(;;){for(var Y;J!==a||f!==0&&J.nodeType!==3||(S=_+f),J!==m||l!==0&&J.nodeType!==3||(M=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(Y=J.firstChild)!==null;)q=J,J=Y;for(;;){if(J===i)break e;if(q===a&&++H===f&&(S=_),q===m&&++Z===l&&(M=_),(Y=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=Y}a=S===-1||M===-1?null:{start:S,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lm={focusedElem:i,selectionRange:a},gh=!1,Be=s;Be!==null;)if(s=Be,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Be=i;else for(;Be!==null;){switch(s=Be,m=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var dt=ea(a.type,f);i=l.getSnapshotBeforeUpdate(dt,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(_t){$t(a,a.return,_t)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)zm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Be=i;break}Be=s.return}}function s0(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ms(i,a),l&4&&kl(5,a);break;case 1:if(ms(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(_){$t(a,a.return,_)}else{var f=ea(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}l&64&&W_(a),l&512&&Ll(a,a.return);break;case 3:if(ms(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Fv(i,s)}catch(_){$t(a,a.return,_)}}break;case 27:s===null&&l&4&&n0(a);case 26:case 5:ms(i,a),s===null&&l&4&&t0(a),l&512&&Ll(a,a.return);break;case 12:ms(i,a);break;case 31:ms(i,a),l&4&&o0(i,a);break;case 13:ms(i,a),l&4&&l0(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=wR.bind(null,a),GR(i,a))));break;case 22:if(l=a.memoizedState!==null||fs,!l){s=s!==null&&s.memoizedState!==null||Ie,f=fs;var m=Ie;fs=l,(Ie=s)&&!m?ps(i,a,(a.subtreeFlags&8772)!==0):ms(i,a),fs=f,Ie=m}break;case 30:break;default:ms(i,a)}}function r0(i){var s=i.alternate;s!==null&&(i.alternate=null,r0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ia(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ce=null,pn=!1;function ds(i,s,a){for(a=a.child;a!==null;)a0(i,s,a),a=a.sibling}function a0(i,s,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Ie||ki(a,s),ds(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||ki(a,s);var l=ce,f=pn;tr(a.type)&&(ce=a.stateNode,pn=!1),ds(i,s,a),Kl(a.stateNode),ce=l,pn=f;break;case 5:Ie||ki(a,s);case 6:if(l=ce,f=pn,ce=null,ds(i,s,a),ce=l,pn=f,ce!==null)if(pn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(m){$t(a,s,m)}else try{ce.removeChild(a.stateNode)}catch(m){$t(a,s,m)}break;case 18:ce!==null&&(pn?(i=ce,W0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),mo(i)):W0(ce,a.stateNode));break;case 4:l=ce,f=pn,ce=a.stateNode.containerInfo,pn=!0,ds(i,s,a),ce=l,pn=f;break;case 0:case 11:case 14:case 15:Ys(2,a,s),Ie||Ys(4,a,s),ds(i,s,a);break;case 1:Ie||(ki(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&J_(a,s,l)),ds(i,s,a);break;case 21:ds(i,s,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,ds(i,s,a),Ie=l;break;default:ds(i,s,a)}}function o0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{mo(i)}catch(a){$t(s,s.return,a)}}}function l0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mo(i)}catch(a){$t(s,s.return,a)}}function yR(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new i0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new i0),s;default:throw Error(r(435,i.tag))}}function $c(i,s){var a=yR(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=CR.bind(null,i,l);l.then(f,f)}})}function gn(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,_=s,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(tr(S.type)){ce=S.stateNode,pn=!1;break t}break;case 5:ce=S.stateNode,pn=!1;break t;case 3:case 4:ce=S.stateNode.containerInfo,pn=!0;break t}S=S.return}if(ce===null)throw Error(r(160));a0(m,_,f),ce=null,pn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)u0(s,i),s=s.sibling}var ri=null;function u0(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:gn(s,i),yn(i),l&4&&(Ys(3,i,i.return),kl(3,i),Ys(5,i,i.return));break;case 1:gn(s,i),yn(i),l&512&&(Ie||a===null||ki(a,a.return)),l&64&&fs&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ri;if(gn(s,i),yn(i),l&512&&(Ie||a===null||ki(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[bi]||m[Se]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Qe(m,l,a),m[Se]=i,Ae(m),l=m;break t;case"link":var _=uT("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(m=_[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}m=f.createElement(l),Qe(m,l,a),f.head.appendChild(m);break;case"meta":if(_=uT("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(m=_[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}m=f.createElement(l),Qe(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[Se]=i,Ae(m),l=m}i.stateNode=l}else cT(f,i.type,i.stateNode);else i.stateNode=lT(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?cT(f,i.type,i.stateNode):lT(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&fm(i,i.memoizedProps,a.memoizedProps)}break;case 27:gn(s,i),yn(i),l&512&&(Ie||a===null||ki(a,a.return)),a!==null&&l&4&&fm(i,i.memoizedProps,a.memoizedProps);break;case 5:if(gn(s,i),yn(i),l&512&&(Ie||a===null||ki(a,a.return)),i.flags&32){f=i.stateNode;try{mn(f,"")}catch(dt){$t(i,i.return,dt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,fm(i,f,a!==null?a.memoizedProps:f)),l&1024&&(pm=!0);break;case 6:if(gn(s,i),yn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(dt){$t(i,i.return,dt)}}break;case 3:if(fh=null,f=ri,ri=ch(s.containerInfo),gn(s,i),ri=f,yn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mo(s.containerInfo)}catch(dt){$t(i,i.return,dt)}pm&&(pm=!1,c0(i));break;case 4:l=ri,ri=ch(i.stateNode.containerInfo),gn(s,i),yn(i),ri=l;break;case 12:gn(s,i),yn(i);break;case 31:gn(s,i),yn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,$c(i,l)));break;case 13:gn(s,i),yn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wc=on()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,$c(i,l)));break;case 22:f=i.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,H=fs,Z=Ie;if(fs=H||f,Ie=Z||M,gn(s,i),Ie=Z,fs=H,yn(i),l&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||fs||Ie||na(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(m=M.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=M.stateNode;var J=M.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(dt){$t(M,M.return,dt)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(dt){$t(M,M.return,dt)}}}else if(s.tag===18){if(a===null){M=s;try{var Y=M.stateNode;f?J0(Y,!0):J0(M.stateNode,!1)}catch(dt){$t(M,M.return,dt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$c(i,a))));break;case 19:gn(s,i),yn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,$c(i,l)));break;case 30:break;case 21:break;default:gn(s,i),yn(i)}}function yn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(e0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=dm(i);Xc(i,m,f);break;case 5:var _=a.stateNode;a.flags&32&&(mn(_,""),a.flags&=-33);var S=dm(i);Xc(i,S,_);break;case 3:case 4:var M=a.stateNode.containerInfo,H=dm(i);mm(i,H,M);break;default:throw Error(r(161))}}catch(Z){$t(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function c0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;c0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ms(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)s0(i,s.alternate,s),s=s.sibling}function na(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ys(4,s,s.return),na(s);break;case 1:ki(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&J_(s,s.return,a),na(s);break;case 27:Kl(s.stateNode);case 26:case 5:ki(s,s.return),na(s);break;case 22:s.memoizedState===null&&na(s);break;case 30:na(s);break;default:na(s)}i=i.sibling}}function ps(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:ps(f,m,a),kl(4,m);break;case 1:if(ps(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$t(l,l.return,H)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Bv(M[f],S)}catch(H){$t(l,l.return,H)}}a&&_&64&&W_(m),Ll(m,m.return);break;case 27:n0(m);case 26:case 5:ps(f,m,a),a&&l===null&&_&4&&t0(m),Ll(m,m.return);break;case 12:ps(f,m,a);break;case 31:ps(f,m,a),a&&_&4&&o0(f,m);break;case 13:ps(f,m,a),a&&_&4&&l0(f,m);break;case 22:m.memoizedState===null&&ps(f,m,a),Ll(m,m.return);break;case 30:break;default:ps(f,m,a)}s=s.sibling}}function gm(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Sl(a))}function ym(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Sl(i))}function ai(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)h0(i,s,a,l),s=s.sibling}function h0(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ai(i,s,a,l),f&2048&&kl(9,s);break;case 1:ai(i,s,a,l);break;case 3:ai(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Sl(i)));break;case 12:if(f&2048){ai(i,s,a,l),i=s.stateNode;try{var m=s.memoizedProps,_=m.id,S=m.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){$t(s,s.return,M)}}else ai(i,s,a,l);break;case 31:ai(i,s,a,l);break;case 13:ai(i,s,a,l);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?ai(i,s,a,l):Ul(i,s):m._visibility&2?ai(i,s,a,l):(m._visibility|=2,no(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&gm(_,s);break;case 24:ai(i,s,a,l),f&2048&&ym(s.alternate,s);break;default:ai(i,s,a,l)}}function no(i,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=i,_=s,S=a,M=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:no(m,_,S,M,f),kl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?no(m,_,S,M,f):Ul(m,_):(Z._visibility|=2,no(m,_,S,M,f)),f&&H&2048&&gm(_.alternate,_);break;case 24:no(m,_,S,M,f),f&&H&2048&&ym(_.alternate,_);break;default:no(m,_,S,M,f)}s=s.sibling}}function Ul(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:Ul(a,l),f&2048&&gm(l.alternate,l);break;case 24:Ul(a,l),f&2048&&ym(l.alternate,l);break;default:Ul(a,l)}s=s.sibling}}var jl=8192;function io(i,s,a){if(i.subtreeFlags&jl)for(i=i.child;i!==null;)f0(i,s,a),i=i.sibling}function f0(i,s,a){switch(i.tag){case 26:io(i,s,a),i.flags&jl&&i.memoizedState!==null&&ix(a,ri,i.memoizedState,i.memoizedProps);break;case 5:io(i,s,a);break;case 3:case 4:var l=ri;ri=ch(i.stateNode.containerInfo),io(i,s,a),ri=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=jl,jl=16777216,io(i,s,a),jl=l):io(i,s,a));break;default:io(i,s,a)}}function d0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function zl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Be=l,p0(l,i)}d0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)m0(i),i=i.sibling}function m0(i){switch(i.tag){case 0:case 11:case 15:zl(i),i.flags&2048&&Ys(9,i,i.return);break;case 3:zl(i);break;case 12:zl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Zc(i)):zl(i);break;default:zl(i)}}function Zc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Be=l,p0(l,i)}d0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ys(8,s,s.return),Zc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Zc(s));break;default:Zc(s)}i=i.sibling}}function p0(i,s){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:Ys(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else t:for(a=i;Be!==null;){l=Be;var f=l.sibling,m=l.return;if(r0(l),l===a){Be=null;break t}if(f!==null){f.return=m,Be=f;break t}Be=m}}}var vR={getCacheForType:function(i){var s=Ke(Ce),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return Ke(Ce).controller.signal}},_R=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ee=null,Nt=null,Ot=0,Xt=0,xn=null,Qs=!1,so=!1,vm=!1,gs=0,me=0,Xs=0,ia=0,_m=0,In=0,ro=0,Bl=null,vn=null,Tm=!1,Wc=0,g0=0,Jc=1/0,th=null,$s=null,Pe=0,Zs=null,ao=null,ys=0,Em=0,bm=null,y0=null,Fl=0,Sm=null;function Dn(){return(Kt&2)!==0&&Ot!==0?Ot&-Ot:X.T!==null?Im():ec()}function v0(){if(In===0)if((Ot&536870912)===0||jt){var i=Dr;Dr<<=1,(Dr&3932160)===0&&(Dr=262144),In=i}else In=536870912;return i=Cn.current,i!==null&&(i.flags|=32),In}function _n(i,s,a){(i===ee&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)&&(oo(i,0),Ws(i,Ot,In,!1)),Nr(i,a),((Kt&2)===0||i!==ee)&&(i===ee&&((Kt&2)===0&&(ia|=a),me===4&&Ws(i,Ot,In,!1)),Li(i))}function _0(i,s,a){if((Kt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||$n(i,s),f=l?bR(i,s):wm(i,s,!0),m=l;do{if(f===0){so&&!l&&Ws(i,s,0,!1);break}else{if(a=i.current.alternate,m&&!TR(a)){f=wm(i,s,!1),m=!1;continue}if(f===2){if(m=s,i.errorRecoveryDisabledLanes&m)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var S=i;f=Bl;var M=S.current.memoizedState.isDehydrated;if(M&&(oo(S,_).flags|=256),_=wm(S,_,!1),_!==2){if(vm&&!M){S.errorRecoveryDisabledLanes|=m,ia|=m,f=4;break t}m=vn,vn=f,m!==null&&(vn===null?vn=m:vn.push.apply(vn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){oo(i,0),Ws(i,s,0,!0);break}t:{switch(l=i,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ws(l,s,In,!Qs);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Wc+300-on(),10<f)){if(Ws(l,s,In,!Qs),_i(l,0,!0)!==0)break t;ys=s,l.timeoutHandle=$0(T0.bind(null,l,a,vn,th,Tm,s,In,ia,ro,Qs,m,"Throttled",-0,0),f);break t}T0(l,a,vn,th,Tm,s,In,ia,ro,Qs,m,null,-0,0)}}break}while(!0);Li(i)}function T0(i,s,a,l,f,m,_,S,M,H,Z,J,q,Y){if(i.timeoutHandle=-1,J=s.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},f0(s,m,J);var dt=(m&62914560)===m?Wc-on():(m&4194048)===m?g0-on():0;if(dt=sx(J,dt),dt!==null){ys=m,i.cancelPendingCommit=dt(x0.bind(null,i,s,m,a,l,f,_,S,M,Z,J,null,q,Y)),Ws(i,m,_,!H);return}}x0(i,s,m,a,l,f,_,S,M)}function TR(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!An(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ws(i,s,a,l){s&=~_m,s&=~ia,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var m=31-ge(f),_=1<<m;l[m]=-1,f&=~_}a!==0&&Vr(i,a,s)}function eh(){return(Kt&6)===0?(Hl(0),!1):!0}function Am(){if(Nt!==null){if(Xt===0)var i=Nt.return;else i=Nt,as=Qr=null,zd(i),Za=null,wl=0,i=Nt;for(;i!==null;)Z_(i.alternate,i),i=i.return;Nt=null}}function oo(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,zR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),ys=0,Am(),ee=i,Nt=a=ss(i.current,null),Ot=s,Xt=0,xn=null,Qs=!1,so=$n(i,s),vm=!1,ro=In=_m=ia=Xs=me=0,vn=Bl=null,Tm=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-ge(l),m=1<<f;s|=i[f],l&=~m}return gs=s,bc(),a}function E0(i,s){Rt=null,X.H=Ml,s===$a||s===Dc?(s=Lv(),Xt=3):s===xd?(s=Lv(),Xt=4):Xt=s===nm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xn=s,Nt===null&&(me=1,qc(i,Ln(s,i.current)))}function b0(){var i=Cn.current;return i===null?!0:(Ot&4194048)===Ot?Bn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Bn:!1}function S0(){var i=X.H;return X.H=Ml,i===null?Ml:i}function A0(){var i=X.A;return X.A=vR,i}function nh(){me=4,Qs||(Ot&4194048)!==Ot&&Cn.current!==null||(so=!0),(Xs&134217727)===0&&(ia&134217727)===0||ee===null||Ws(ee,Ot,In,!1)}function wm(i,s,a){var l=Kt;Kt|=2;var f=S0(),m=A0();(ee!==i||Ot!==s)&&(th=null,oo(i,s)),s=!1;var _=me;t:do try{if(Xt!==0&&Nt!==null){var S=Nt,M=xn;switch(Xt){case 8:Am(),_=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(s=!0);var H=Xt;if(Xt=0,xn=null,lo(i,S,M,H),a&&so){_=0;break t}break;default:H=Xt,Xt=0,xn=null,lo(i,S,M,H)}}ER(),_=me;break}catch(Z){E0(i,Z)}while(!0);return s&&i.shellSuspendCounter++,as=Qr=null,Kt=l,X.H=f,X.A=m,Nt===null&&(ee=null,Ot=0,bc()),_}function ER(){for(;Nt!==null;)w0(Nt)}function bR(i,s){var a=Kt;Kt|=2;var l=S0(),f=A0();ee!==i||Ot!==s?(th=null,Jc=on()+500,oo(i,s)):so=$n(i,s);t:do try{if(Xt!==0&&Nt!==null){s=Nt;var m=xn;e:switch(Xt){case 1:Xt=0,xn=null,lo(i,s,m,1);break;case 2:case 9:if(Pv(m)){Xt=0,xn=null,C0(s);break}s=function(){Xt!==2&&Xt!==9||ee!==i||(Xt=7),Li(i)},m.then(s,s);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Pv(m)?(Xt=0,xn=null,C0(s)):(Xt=0,xn=null,lo(i,s,m,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var S=Nt;if(_?hT(_):S.stateNode.complete){Xt=0,xn=null;var M=S.sibling;if(M!==null)Nt=M;else{var H=S.return;H!==null?(Nt=H,ih(H)):Nt=null}break e}}Xt=0,xn=null,lo(i,s,m,5);break;case 6:Xt=0,xn=null,lo(i,s,m,6);break;case 8:Am(),me=6;break t;default:throw Error(r(462))}}SR();break}catch(Z){E0(i,Z)}while(!0);return as=Qr=null,X.H=l,X.A=f,Kt=a,Nt!==null?0:(ee=null,Ot=0,bc(),me)}function SR(){for(;Nt!==null&&!ed();)w0(Nt)}function w0(i){var s=X_(i.alternate,i,gs);i.memoizedProps=i.pendingProps,s===null?ih(i):Nt=s}function C0(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=H_(a,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=H_(a,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:zd(s);default:Z_(a,s),s=Nt=Av(s,gs),s=X_(a,s,gs)}i.memoizedProps=i.pendingProps,s===null?ih(i):Nt=s}function lo(i,s,a,l){as=Qr=null,zd(s),Za=null,wl=0;var f=s.return;try{if(hR(i,f,s,a,Ot)){me=1,qc(i,Ln(a,i.current)),Nt=null;return}}catch(m){if(f!==null)throw Nt=f,m;me=1,qc(i,Ln(a,i.current)),Nt=null;return}s.flags&32768?(jt||l===1?i=!0:so||(Ot&536870912)!==0?i=!1:(Qs=i=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),R0(s,i)):ih(s)}function ih(i){var s=i;do{if((s.flags&32768)!==0){R0(s,Qs);return}i=s.return;var a=mR(s.alternate,s,gs);if(a!==null){Nt=a;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=i}while(s!==null);me===0&&(me=5)}function R0(i,s){do{var a=pR(i.alternate,i);if(a!==null){a.flags&=32767,Nt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=a}while(i!==null);me=6,Nt=null}function x0(i,s,a,l,f,m,_,S,M){i.cancelPendingCommit=null;do sh();while(Pe!==0);if((Kt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=dd,sd(i,a,m,_,S,M),i===ee&&(Nt=ee=null,Ot=0),ao=s,Zs=i,ys=a,Em=m,bm=f,y0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,RR(xs,function(){return M0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=st.p,st.p=2,_=Kt,Kt|=4;try{gR(i,s,a)}finally{Kt=_,st.p=f,X.T=l}}Pe=1,I0(),D0(),N0()}}function I0(){if(Pe===1){Pe=0;var i=Zs,s=ao,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=st.p;st.p=2;var f=Kt;Kt|=4;try{u0(s,i);var m=Lm,_=pv(i.containerInfo),S=m.focusedElem,M=m.selectionRange;if(_!==S&&S&&S.ownerDocument&&mv(S.ownerDocument.documentElement,S)){if(M!==null&&ld(S)){var H=M.start,Z=M.end;if(Z===void 0&&(Z=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(Z,S.value.length);else{var J=S.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var Y=q.getSelection(),dt=S.textContent.length,_t=Math.min(M.start,dt),te=M.end===void 0?_t:Math.min(M.end,dt);!Y.extend&&_t>te&&(_=te,te=_t,_t=_);var z=dv(S,_t),k=dv(S,te);if(z&&k&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var F=J.createRange();F.setStart(z.node,z.offset),Y.removeAllRanges(),_t>te?(Y.addRange(F),Y.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),Y.addRange(F))}}}}for(J=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&J.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var W=J[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}gh=!!km,Lm=km=null}finally{Kt=f,st.p=l,X.T=a}}i.current=s,Pe=2}}function D0(){if(Pe===2){Pe=0;var i=Zs,s=ao,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=st.p;st.p=2;var f=Kt;Kt|=4;try{s0(i,s.alternate,s)}finally{Kt=f,st.p=l,X.T=a}}Pe=3}}function N0(){if(Pe===4||Pe===3){Pe=0,Qu();var i=Zs,s=ao,a=ys,l=y0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pe=5:(Pe=0,ao=Zs=null,V0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&($s=null),ts(a),s=s.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Xn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=X.T,f=st.p,st.p=2,X.T=null;try{for(var m=i.onRecoverableError,_=0;_<l.length;_++){var S=l[_];m(S.value,{componentStack:S.stack})}}finally{X.T=s,st.p=f}}(ys&3)!==0&&sh(),Li(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===Sm?Fl++:(Fl=0,Sm=i):Fl=0,Hl(0)}}function V0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Sl(s)))}function sh(){return I0(),D0(),N0(),M0()}function M0(){if(Pe!==5)return!1;var i=Zs,s=Em;Em=0;var a=ts(ys),l=X.T,f=st.p;try{st.p=32>a?32:a,X.T=null,a=bm,bm=null;var m=Zs,_=ys;if(Pe=0,ao=Zs=null,ys=0,(Kt&6)!==0)throw Error(r(331));var S=Kt;if(Kt|=4,m0(m.current),h0(m,m.current,_,a),Kt=S,Hl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Xn,m)}catch{}return!0}finally{st.p=f,X.T=l,V0(i,s)}}function O0(i,s,a){s=Ln(a,s),s=em(i.stateNode,s,2),i=qs(i,s,2),i!==null&&(Nr(i,2),Li(i))}function $t(i,s,a){if(i.tag===3)O0(i,i,a);else for(;s!==null;){if(s.tag===3){O0(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($s===null||!$s.has(l))){i=Ln(a,i),a=P_(2),l=qs(s,a,2),l!==null&&(k_(a,l,s,i),Nr(l,2),Li(l));break}}s=s.return}}function Cm(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new _R;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(vm=!0,f.add(a),i=AR.bind(null,i,s,a),s.then(i,i))}function AR(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ee===i&&(Ot&a)===a&&(me===4||me===3&&(Ot&62914560)===Ot&&300>on()-Wc?(Kt&2)===0&&oo(i,0):_m|=a,ro===Ot&&(ro=0)),Li(i)}function P0(i,s){s===0&&(s=tc()),i=Gr(i,s),i!==null&&(Nr(i,s),Li(i))}function wR(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),P0(i,a)}function CR(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),P0(i,a)}function RR(i,s){return Oe(i,s)}var rh=null,uo=null,Rm=!1,ah=!1,xm=!1,Js=0;function Li(i){i!==uo&&i.next===null&&(uo===null?rh=uo=i:uo=uo.next=i),ah=!0,Rm||(Rm=!0,IR())}function Hl(i,s){if(!xm&&ah){xm=!0;do for(var a=!1,l=rh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var _=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-ge(42|i)+1)-1,m&=f&~(_&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,j0(l,m))}else m=Ot,m=_i(l,l===ee?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||$n(l,m)||(a=!0,j0(l,m));l=l.next}while(a);xm=!1}}function xR(){k0()}function k0(){ah=Rm=!1;var i=0;Js!==0&&jR()&&(i=Js);for(var s=on(),a=null,l=rh;l!==null;){var f=l.next,m=L0(l,s);m===0?(l.next=null,a===null?rh=f:a.next=f,f===null&&(uo=a)):(a=l,(i!==0||(m&3)!==0)&&(ah=!0)),l=f}Pe!==0&&Pe!==5||Hl(i),Js!==0&&(Js=0)}function L0(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var _=31-ge(m),S=1<<_,M=f[_];M===-1?((S&a)===0||(S&l)!==0)&&(f[_]=id(S,s)):M<=s&&(i.expiredLanes|=S),m&=~S}if(s=ee,a=Ot,a=_i(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Rs(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||$n(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&Rs(l),ts(a)){case 2:case 8:a=Jo;break;case 32:a=xs;break;case 268435456:a=Xu;break;default:a=xs}return l=U0.bind(null,i),a=Oe(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&Rs(l),i.callbackPriority=2,i.callbackNode=null,2}function U0(i,s){if(Pe!==0&&Pe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(sh()&&i.callbackNode!==a)return null;var l=Ot;return l=_i(i,i===ee?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(_0(i,l,s),L0(i,on()),i.callbackNode!=null&&i.callbackNode===a?U0.bind(null,i):null)}function j0(i,s){if(sh())return null;_0(i,s,!0)}function IR(){BR(function(){(Kt&6)!==0?Oe(Wo,xR):k0()})}function Im(){if(Js===0){var i=Qa;i===0&&(i=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Js=i}return Js}function z0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ma(""+i)}function B0(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function DR(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=z0((f[je]||null).action),_=l.submitter;_&&(s=(s=_[je]||null)?z0(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var S=new Di("action","action",null,l,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var M=_?B0(f,_):new FormData(f);Xd(a,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(S.preventDefault(),M=_?B0(f,_):new FormData(f),Xd(a,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var Dm=0;Dm<fd.length;Dm++){var Nm=fd[Dm],NR=Nm.toLowerCase(),VR=Nm[0].toUpperCase()+Nm.slice(1);si(NR,"on"+VR)}si(vv,"onAnimationEnd"),si(_v,"onAnimationIteration"),si(Tv,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(QC,"onTransitionRun"),si(XC,"onTransitionStart"),si($C,"onTransitionCancel"),si(Ev,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function F0(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var _=l.length-1;0<=_;_--){var S=l[_],M=S.instance,H=S.currentTarget;if(S=S.listener,M!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=H;try{m(f)}catch(Z){Ec(Z)}f.currentTarget=null,m=M}else for(_=0;_<l.length;_++){if(S=l[_],M=S.instance,H=S.currentTarget,S=S.listener,M!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=H;try{m(f)}catch(Z){Ec(Z)}f.currentTarget=null,m=M}}}}function Vt(i,s){var a=s[xa];a===void 0&&(a=s[xa]=new Set);var l=i+"__bubble";a.has(l)||(H0(s,i,2,!1),a.add(l))}function Vm(i,s,a){var l=0;s&&(l|=4),H0(a,i,l,s)}var oh="_reactListening"+Math.random().toString(36).slice(2);function Mm(i){if(!i[oh]){i[oh]=!0,nl.forEach(function(a){a!=="selectionchange"&&(MR.has(a)||Vm(a,!1,i),Vm(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[oh]||(s[oh]=!0,Vm("selectionchange",!1,s))}}function H0(i,s,a,l){switch(vT(s)){case 2:var f=ox;break;case 8:f=lx;break;default:f=Qm}a=f.bind(null,s,a,i),f=void 0,!Lr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function Om(i,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Si(S),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=m=_;continue t}S=S.parentNode}}l=l.return}Os(function(){var H=m,Z=Mn(a),J=[];t:{var q=bv.get(i);if(q!==void 0){var Y=Di,dt=i;switch(i){case"keypress":if(jr(a)===0)break t;case"keydown":case"keyup":Y=vc;break;case"focusin":dt="focus",Y=Br;break;case"focusout":dt="blur",Y=Br;break;case"beforeblur":case"afterblur":Y=Br;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case vv:case _v:case Tv:Y=hc;break;case Ev:Y=C;break;case"scroll":case"scrollend":Y=ml;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=is;break;case"toggle":case"beforetoggle":Y=Ct}var _t=(s&4)!==0,te=!_t&&(i==="scroll"||i==="scrollend"),z=_t?q!==null?q+"Capture":null:q;_t=[];for(var k=H,F;k!==null;){var W=k;if(F=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||F===null||z===null||(W=ti(k,z),W!=null&&_t.push(Gl(k,W,F))),te)break;k=k.return}0<_t.length&&(q=new Y(q,dt,null,a,Z),J.push({event:q,listeners:_t}))}}if((s&7)===0){t:{if(q=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",q&&a!==hl&&(dt=a.relatedTarget||a.fromElement)&&(Si(dt)||dt[Ei]))break t;if((Y||q)&&(q=Z.window===Z?Z:(q=Z.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(dt=a.relatedTarget||a.toElement,Y=H,dt=dt?Si(dt):null,dt!==null&&(te=u(dt),_t=dt.tag,dt!==te||_t!==5&&_t!==27&&_t!==6)&&(dt=null)):(Y=null,dt=H),Y!==dt)){if(_t=pl,W="onMouseLeave",z="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(_t=is,W="onPointerLeave",z="onPointerEnter",k="pointer"),te=Y==null?q:bn(Y),F=dt==null?q:bn(dt),q=new _t(W,k+"leave",Y,a,Z),q.target=te,q.relatedTarget=F,W=null,Si(Z)===H&&(_t=new _t(z,k+"enter",dt,a,Z),_t.target=F,_t.relatedTarget=te,W=_t),te=W,Y&&dt)e:{for(_t=OR,z=Y,k=dt,F=0,W=z;W;W=_t(W))F++;W=0;for(var yt=k;yt;yt=_t(yt))W++;for(;0<F-W;)z=_t(z),F--;for(;0<W-F;)k=_t(k),W--;for(;F--;){if(z===k||k!==null&&z===k.alternate){_t=z;break e}z=_t(z),k=_t(k)}_t=null}else _t=null;Y!==null&&q0(J,q,Y,_t,!1),dt!==null&&te!==null&&q0(J,te,dt,_t,!0)}}t:{if(q=H?bn(H):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var Ht=ov;else if(rv(q))if(lv)Ht=GC;else{Ht=HC;var pt=FC}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Va(H.elementType)&&(Ht=ov):Ht=qC;if(Ht&&(Ht=Ht(i,H))){av(J,Ht,a,Z);break t}pt&&pt(i,q,H),i==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&ll(q,"number",q.value)}switch(pt=H?bn(H):window,i){case"focusin":(rv(pt)||pt.contentEditable==="true")&&(za=pt,ud=H,Tl=null);break;case"focusout":Tl=ud=za=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,gv(J,a,Z);break;case"selectionchange":if(YC)break;case"keydown":case"keyup":gv(J,a,Z)}var Dt;if(Gt)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else ja?Fr(i,a)&&(Pt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Mi&&a.locale!=="ko"&&(ja||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&ja&&(Dt=dl()):(Ii=Z,fl="value"in Ii?Ii.value:Ii.textContent,ja=!0)),pt=lh(H,Pt),0<pt.length&&(Pt=new Vi(Pt,i,null,a,Z),J.push({event:Pt,listeners:pt}),Dt?Pt.data=Dt:(Dt=Ua(a),Dt!==null&&(Pt.data=Dt)))),(Dt=Pn?UC(i,a):jC(i,a))&&(Pt=lh(H,"onBeforeInput"),0<Pt.length&&(pt=new Vi("onBeforeInput","beforeinput",null,a,Z),J.push({event:pt,listeners:Pt}),pt.data=Dt)),DR(J,i,H,a,Z)}F0(J,s)})}function Gl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function lh(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ti(i,a),f!=null&&l.unshift(Gl(i,f,m)),f=ti(i,s),f!=null&&l.push(Gl(i,f,m))),i.tag===3)return l;i=i.return}return[]}function OR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function q0(i,s,a,l,f){for(var m=s._reactName,_=[];a!==null&&a!==l;){var S=a,M=S.alternate,H=S.stateNode;if(S=S.tag,M!==null&&M===l)break;S!==5&&S!==26&&S!==27||H===null||(M=H,f?(H=ti(a,m),H!=null&&_.unshift(Gl(a,H,M))):f||(H=ti(a,m),H!=null&&_.push(Gl(a,H,M)))),a=a.return}_.length!==0&&i.push({event:s,listeners:_})}var PR=/\r\n?/g,kR=/\u0000|\uFFFD/g;function G0(i){return(typeof i=="string"?i:""+i).replace(PR,`
`).replace(kR,"")}function K0(i,s){return s=G0(s),G0(i)===s}function Jt(i,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||mn(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&mn(i,""+l);break;case"className":Sn(i,"class",l);break;case"tabIndex":Sn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(i,a,l);break;case"style":cl(i,l,m);break;case"data":if(s!=="object"){Sn(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ma(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&Jt(i,s,"name",f.name,f,null),Jt(i,s,"formEncType",f.formEncType,f,null),Jt(i,s,"formMethod",f.formMethod,f,null),Jt(i,s,"formTarget",f.formTarget,f,null)):(Jt(i,s,"encType",f.encType,f,null),Jt(i,s,"method",f.method,f,null),Jt(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ma(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=Jn);break;case"onScroll":l!=null&&Vt("scroll",i);break;case"onScrollEnd":l!=null&&Vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Ma(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Vt("beforetoggle",i),Vt("toggle",i),Da(i,"popover",l);break;case"xlinkActuate":we(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Da(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lc.get(a)||a,Da(i,a,l))}}function Pm(i,s,a,l,f,m){switch(a){case"style":cl(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?mn(i,l):(typeof l=="number"||typeof l=="bigint")&&mn(i,""+l);break;case"onScroll":l!=null&&Vt("scroll",i);break;case"onScrollEnd":l!=null&&Vt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=i[je]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Da(i,a,l)}}}function Qe(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",i),Vt("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jt(i,s,m,_,a,null)}}f&&Jt(i,s,"srcSet",a.srcSet,a,null),l&&Jt(i,s,"src",a.src,a,null);return;case"input":Vt("invalid",i);var S=m=_=f=null,M=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":M=Z;break;case"defaultChecked":H=Z;break;case"value":m=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Jt(i,s,l,Z,a,null)}}rc(i,m,S,M,H,_,f,!1);return;case"select":Vt("invalid",i),l=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Jt(i,s,f,S,a,null)}s=m,a=_,i.multiple=!!l,s!=null?Ds(i,!!l,s,!1):a!=null&&Ds(i,!!l,a,!0);return;case"textarea":Vt("invalid",i),m=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Jt(i,s,_,S,a,null)}Ns(i,l,f,m);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(i,s,M,l,a,null));return;case"dialog":Vt("beforetoggle",i),Vt("toggle",i),Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":Vt("load",i);break;case"video":case"audio":for(l=0;l<ql.length;l++)Vt(ql[l],i);break;case"image":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"embed":case"source":case"link":Vt("error",i),Vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jt(i,s,H,l,a,null)}return;default:if(Va(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Pm(i,s,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Jt(i,s,S,l,a,null))}function LR(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,S=null,M=null,H=null,Z=null;for(Y in a){var J=a[Y];if(a.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=J;default:l.hasOwnProperty(Y)||Jt(i,s,Y,null,l,J)}}for(var q in l){var Y=l[q];if(J=a[q],l.hasOwnProperty(q)&&(Y!=null||J!=null))switch(q){case"type":m=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":Z=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==J&&Jt(i,s,q,Y,l,J)}}Na(i,_,S,M,H,Z,m,f);return;case"select":Y=_=S=q=null;for(m in a)if(M=a[m],a.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":Y=M;default:l.hasOwnProperty(m)||Jt(i,s,m,null,l,M)}for(f in l)if(m=l[f],M=a[f],l.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":q=m;break;case"defaultValue":S=m;break;case"multiple":_=m;default:m!==M&&Jt(i,s,f,m,l,M)}s=S,a=_,l=Y,q!=null?Ds(i,!!a,q,!1):!!l!=!!a&&(s!=null?Ds(i,!!a,s,!0):Ds(i,!!a,a?[]:"",!1));return;case"textarea":Y=q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Jt(i,s,S,null,l,f)}for(_ in l)if(f=l[_],m=a[_],l.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":q=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&Jt(i,s,_,f,l,m)}ac(i,q,Y);return;case"option":for(var dt in a)q=a[dt],a.hasOwnProperty(dt)&&q!=null&&!l.hasOwnProperty(dt)&&(dt==="selected"?i.selected=!1:Jt(i,s,dt,null,l,q));for(M in l)q=l[M],Y=a[M],l.hasOwnProperty(M)&&q!==Y&&(q!=null||Y!=null)&&(M==="selected"?i.selected=q&&typeof q!="function"&&typeof q!="symbol":Jt(i,s,M,q,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)q=a[_t],a.hasOwnProperty(_t)&&q!=null&&!l.hasOwnProperty(_t)&&Jt(i,s,_t,null,l,q);for(H in l)if(q=l[H],Y=a[H],l.hasOwnProperty(H)&&q!==Y&&(q!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:Jt(i,s,H,q,l,Y)}return;default:if(Va(s)){for(var te in a)q=a[te],a.hasOwnProperty(te)&&q!==void 0&&!l.hasOwnProperty(te)&&Pm(i,s,te,void 0,l,q);for(Z in l)q=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||q===Y||q===void 0&&Y===void 0||Pm(i,s,Z,q,l,Y);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!l.hasOwnProperty(z)&&Jt(i,s,z,null,l,q);for(J in l)q=l[J],Y=a[J],!l.hasOwnProperty(J)||q===Y||q==null&&Y==null||Jt(i,s,J,q,l,Y)}function Y0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,_=f.initiatorType,S=f.duration;if(m&&S&&Y0(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],H=M.startTime;if(H>S)break;var Z=M.transferSize,J=M.initiatorType;Z&&Y0(J)&&(M=M.responseEnd,_+=Z*(M<S?1:(S-H)/(M-H)))}if(--l,s+=8*(m+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var km=null,Lm=null;function uh(i){return i.nodeType===9?i:i.ownerDocument}function Q0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Um(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jm=null;function jR(){var i=window.event;return i&&i.type==="popstate"?i===jm?!1:(jm=i,!0):(jm=null,!1)}var $0=typeof setTimeout=="function"?setTimeout:void 0,zR=typeof clearTimeout=="function"?clearTimeout:void 0,Z0=typeof Promise=="function"?Promise:void 0,BR=typeof queueMicrotask=="function"?queueMicrotask:typeof Z0<"u"?function(i){return Z0.resolve(null).then(i).catch(FR)}:$0;function FR(i){setTimeout(function(){throw i})}function tr(i){return i==="head"}function W0(i,s){var a=s,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),mo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Kl(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Kl(a);for(var m=a.firstChild;m;){var _=m.nextSibling,S=m.nodeName;m[bi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&Kl(i.ownerDocument.body);a=f}while(a);mo(s)}function J0(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function zm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zm(a),Ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function HR(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[bi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Fn(i.nextSibling),i===null)break}return null}function qR(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Fn(i.nextSibling),i===null))return null;return i}function tT(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Fn(i.nextSibling),i===null))return null;return i}function Bm(i){return i.data==="$?"||i.data==="$~"}function Fm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function GR(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Fn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Hm=null;function eT(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return Fn(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function nT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function iT(i,s,a){switch(s=uh(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Kl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ia(i)}var Hn=new Map,sT=new Set;function ch(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var vs=st.d;st.d={f:KR,r:YR,D:QR,C:XR,L:$R,m:ZR,X:JR,S:WR,M:tx};function KR(){var i=vs.f(),s=eh();return i||s}function YR(i){var s=Vn(i);s!==null&&s.tag===5&&s.type==="form"?E_(s):vs.r(i)}var co=typeof document>"u"?null:document;function rT(i,s,a){var l=co;if(l&&typeof s=="string"&&s){var f=dn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),sT.has(f)||(sT.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Qe(s,"link",i),Ae(s),l.head.appendChild(s)))}}function QR(i){vs.D(i),rT("dns-prefetch",i,null)}function XR(i,s){vs.C(i,s),rT("preconnect",i,s)}function $R(i,s,a){vs.L(i,s,a);var l=co;if(l&&i&&s){var f='link[rel="preload"][as="'+dn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dn(a.imageSizes)+'"]')):f+='[href="'+dn(i)+'"]';var m=f;switch(s){case"style":m=ho(i);break;case"script":m=fo(i)}Hn.has(m)||(i=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),Hn.set(m,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(Yl(m))||s==="script"&&l.querySelector(Ql(m))||(s=l.createElement("link"),Qe(s,"link",i),Ae(s),l.head.appendChild(s)))}}function ZR(i,s){vs.m(i,s);var a=co;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=fo(i)}if(!Hn.has(m)&&(i=T({rel:"modulepreload",href:i},s),Hn.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(m)))return}l=a.createElement("link"),Qe(l,"link",i),Ae(l),a.head.appendChild(l)}}}function WR(i,s,a){vs.S(i,s,a);var l=co;if(l&&i){var f=Ai(l).hoistableStyles,m=ho(i);s=s||"default";var _=f.get(m);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Yl(m)))S.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":s},a),(a=Hn.get(m))&&qm(i,a);var M=_=l.createElement("link");Ae(M),Qe(M,"link",i),M._p=new Promise(function(H,Z){M.onload=H,M.onerror=Z}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,hh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(m,_)}}}function JR(i,s){vs.X(i,s);var a=co;if(a&&i){var l=Ai(a).hoistableScripts,f=fo(i),m=l.get(f);m||(m=a.querySelector(Ql(f)),m||(i=T({src:i,async:!0},s),(s=Hn.get(f))&&Gm(i,s),m=a.createElement("script"),Ae(m),Qe(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function tx(i,s){vs.M(i,s);var a=co;if(a&&i){var l=Ai(a).hoistableScripts,f=fo(i),m=l.get(f);m||(m=a.querySelector(Ql(f)),m||(i=T({src:i,async:!0,type:"module"},s),(s=Hn.get(f))&&Gm(i,s),m=a.createElement("script"),Ae(m),Qe(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function aT(i,s,a,l){var f=(f=It.current)?ch(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ho(a.href),a=Ai(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=ho(a.href);var m=Ai(f).hoistableStyles,_=m.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,_),(m=f.querySelector(Yl(i)))&&!m._p&&(_.instance=m,_.state.loading=5),Hn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(i,a),m||ex(f,i,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fo(a),a=Ai(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ho(i){return'href="'+dn(i)+'"'}function Yl(i){return'link[rel="stylesheet"]['+i+"]"}function oT(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function ex(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Qe(s,"link",a),Ae(s),i.head.appendChild(s))}function fo(i){return'[src="'+dn(i)+'"]'}function Ql(i){return"script[async]"+i}function lT(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return s.instance=l,Ae(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Ae(l),Qe(l,"style",f),hh(l,a.precedence,i),s.instance=l;case"stylesheet":f=ho(a.href);var m=i.querySelector(Yl(f));if(m)return s.state.loading|=4,s.instance=m,Ae(m),m;l=oT(a),(f=Hn.get(f))&&qm(l,f),m=(i.ownerDocument||i).createElement("link"),Ae(m);var _=m;return _._p=new Promise(function(S,M){_.onload=S,_.onerror=M}),Qe(m,"link",l),s.state.loading|=4,hh(m,a.precedence,i),s.instance=m;case"script":return m=fo(a.src),(f=i.querySelector(Ql(m)))?(s.instance=f,Ae(f),f):(l=a,(f=Hn.get(m))&&(l=T({},a),Gm(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ae(f),Qe(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,hh(l,a.precedence,i));return s.instance}function hh(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===s)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function qm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Gm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var fh=null;function uT(i,s,a){if(fh===null){var l=new Map,f=fh=new Map;f.set(a,l)}else f=fh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[bi]||m[Se]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=i+_;var S=l.get(_);S?S.push(m):l.set(_,[m])}}return l}function cT(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function nx(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function hT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function ix(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ho(l.href),m=s.querySelector(Yl(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=dh.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=m,Ae(m);return}m=s.ownerDocument||s,l=oT(l),(f=Hn.get(f))&&qm(l,f),m=m.createElement("link"),Ae(m);var _=m;_._p=new Promise(function(S,M){_.onload=S,_.onerror=M}),Qe(m,"link",l),a.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=dh.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Km=0;function sx(i,s){return i.stylesheets&&i.count===0&&ph(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&ph(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+s);0<i.imgBytes&&Km===0&&(Km=62500*UR());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ph(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>Km?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mh=null;function ph(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mh=new Map,s.forEach(rx,i),mh=null,dh.call(i))}function rx(i,s){if(!(s.state.loading&4)){var a=mh.get(i);if(a)var l=a.get(null);else{a=new Map,mh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,f),a.set(_,f),this.count++,l=dh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Xl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function ax(i,s,a,l,f,m,_,S,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function fT(i,s,a,l,f,m,_,S,M,H,Z,J){return i=new ax(i,s,a,_,M,H,Z,J,S),s=1,m===!0&&(s|=24),m=wn(3,null,null,s),i.current=m,m.stateNode=i,s=wd(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Id(m),i}function dT(i){return i?(i=Ha,i):Ha}function mT(i,s,a,l,f,m){f=dT(f),l.context===null?l.context=f:l.pendingContext=f,l=Hs(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=qs(i,l,s),a!==null&&(_n(a,i,s),Rl(a,i,s))}function pT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Ym(i,s){pT(i,s),(i=i.alternate)&&pT(i,s)}function gT(i){if(i.tag===13||i.tag===31){var s=Gr(i,67108864);s!==null&&_n(s,i,67108864),Ym(i,67108864)}}function yT(i){if(i.tag===13||i.tag===31){var s=Dn();s=Mr(s);var a=Gr(i,s);a!==null&&_n(a,i,s),Ym(i,s)}}var gh=!0;function ox(i,s,a,l){var f=X.T;X.T=null;var m=st.p;try{st.p=2,Qm(i,s,a,l)}finally{st.p=m,X.T=f}}function lx(i,s,a,l){var f=X.T;X.T=null;var m=st.p;try{st.p=8,Qm(i,s,a,l)}finally{st.p=m,X.T=f}}function Qm(i,s,a,l){if(gh){var f=Xm(l);if(f===null)Om(i,s,l,yh,a),_T(i,l);else if(cx(f,i,s,a,l))l.stopPropagation();else if(_T(i,l),s&4&&-1<ux.indexOf(i)){for(;f!==null;){var m=Vn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=vi(m.pendingLanes);if(_!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var M=1<<31-ge(_);S.entanglements[1]|=M,_&=~M}Li(m),(Kt&6)===0&&(Jc=on()+500,Hl(0))}}break;case 31:case 13:S=Gr(m,2),S!==null&&_n(S,m,2),eh(),Ym(m,2)}if(m=Xm(l),m===null&&Om(i,s,l,yh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Om(i,s,l,null,a)}}function Xm(i){return i=Mn(i),$m(i)}var yh=null;function $m(i){if(yh=null,i=Si(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=d(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return yh=i,null}function vT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ir()){case Wo:return 2;case Jo:return 8;case xs:case nd:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var Zm=!1,er=null,nr=null,ir=null,$l=new Map,Zl=new Map,sr=[],ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _T(i,s){switch(i){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":$l.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(s.pointerId)}}function Wl(i,s,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Vn(s),s!==null&&gT(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function cx(i,s,a,l,f){switch(s){case"focusin":return er=Wl(er,i,s,a,l,f),!0;case"dragenter":return nr=Wl(nr,i,s,a,l,f),!0;case"mouseover":return ir=Wl(ir,i,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return $l.set(m,Wl($l.get(m)||null,i,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Zl.set(m,Wl(Zl.get(m)||null,i,s,a,l,f)),!0}return!1}function TT(i){var s=Si(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Zn(i.priority,function(){yT(a)});return}}else if(s===31){if(s=d(a),s!==null){i.blockedOn=s,Zn(i.priority,function(){yT(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Xm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);hl=l,a.target.dispatchEvent(l),hl=null}else return s=Vn(a),s!==null&&gT(s),i.blockedOn=a,!1;s.shift()}return!0}function ET(i,s,a){vh(i)&&a.delete(s)}function hx(){Zm=!1,er!==null&&vh(er)&&(er=null),nr!==null&&vh(nr)&&(nr=null),ir!==null&&vh(ir)&&(ir=null),$l.forEach(ET),Zl.forEach(ET)}function _h(i,s){i.blockedOn===s&&(i.blockedOn=null,Zm||(Zm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hx)))}var Th=null;function bT(i){Th!==i&&(Th=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Th===i&&(Th=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if($m(l||a)===null)continue;break}var m=Vn(a);m!==null&&(i.splice(s,3),s-=3,Xd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function mo(i){function s(M){return _h(M,i)}er!==null&&_h(er,i),nr!==null&&_h(nr,i),ir!==null&&_h(ir,i),$l.forEach(s),Zl.forEach(s);for(var a=0;a<sr.length;a++){var l=sr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<sr.length&&(a=sr[0],a.blockedOn===null);)TT(a),a.blockedOn===null&&sr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],_=f[je]||null;if(typeof m=="function")_||bT(a);else if(_){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[je]||null)S=_.formAction;else if($m(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),bT(a)}}}function ST(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Wm(i){this._internalRoot=i}Eh.prototype.render=Wm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Dn();mT(a,l,i,s,null,null)},Eh.prototype.unmount=Wm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;mT(i.current,2,null,i,null,null),eh(),s[Ei]=null}};function Eh(i){this._internalRoot=i}Eh.prototype.unstable_scheduleHydration=function(i){if(i){var s=ec();i={blockedOn:null,target:i,priority:s};for(var a=0;a<sr.length&&s!==0&&s<sr[a].priority;a++);sr.splice(a,0,i),a===0&&TT(i)}};var AT=t.version;if(AT!=="19.2.4")throw Error(r(527,AT,"19.2.4"));st.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var fx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{Xn=bh.inject(fx),He=bh}catch{}}return tu.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=N_,m=V_,_=M_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=fT(i,1,!1,null,null,a,l,null,f,m,_,ST),i[Ei]=s.current,Mm(i),new Wm(s)},tu.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",m=N_,_=V_,S=M_,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=fT(i,1,!0,s,a??null,l,f,M,m,_,S,ST),s.context=dT(null),a=s.current,l=Dn(),l=Mr(l),f=Hs(l),f.callback=null,qs(a,f,l),a=l,s.current.lanes=a,Nr(s,a),Li(s),i[Ei]=s.current,Mm(i),new Eh(s)},tu.version="19.2.4",tu}var OT;function Ex(){if(OT)return ep.exports;OT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ep.exports=Tx(),ep.exports}var bx=Ex();const Sx=Mg(bx);const NS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();const Ax=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const wx=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());const PT=e=>{const t=wx(e);return t.charAt(0).toUpperCase()+t.slice(1)};var Cx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Rx=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const xx=tt.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...d},p)=>tt.createElement("svg",{ref:p,...Cx,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:NS("lucide",o),...!u&&!Rx(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>tt.createElement(g,v)),...Array.isArray(u)?u:[u]]));const fn=(e,t)=>{const n=tt.forwardRef(({className:r,...o},u)=>tt.createElement(xx,{ref:u,iconNode:t,className:NS(`lucide-${Ax(PT(e))}`,`lucide-${e}`,r),...o}));return n.displayName=PT(e),n};const Ix=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Dx=fn("camera",Ix);const Nx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Df=fn("check",Nx);const Vx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Mx=fn("chevron-left",Vx);const Ox=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Px=fn("chevron-right",Ox);const kx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Lx=fn("clock",kx);const Ux=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],jx=fn("cloud-upload",Ux);const zx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Nf=fn("copy",zx);const Bx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Fx=fn("crown",Bx);const Hx=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],qx=fn("diamond",Hx);const Gx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Kx=fn("heart",Gx);const Yx=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Qx=fn("moon",Yx);const Xx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$x=fn("search",Xx);const Zx=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Wx=fn("sun",Zx);const Jx=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],tI=fn("ticket",Jx);const eI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],nI=fn("zap",eI);var iI=DS();const Mu=Mg(iI),sI=()=>{};var kT={};const VS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},rI=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],c=e[n++],d=e[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=e[n++],c=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},MS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,d=c?e[o+1]:0,p=o+2<e.length,g=p?e[o+2]:0,v=u>>2,T=(u&3)<<4|d>>4;let b=(d&15)<<2|g>>6,w=g&63;p||(w=64,c||(b=64)),r.push(n[v],n[T],n[b],n[w])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(VS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],d=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const T=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new aI;const b=u<<2|d>>4;if(r.push(b),g!==64){const w=d<<4&240|g>>2;if(r.push(w),T!==64){const R=g<<6&192|T;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class aI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oI=function(e){const t=VS(e);return MS.encodeByteArray(t,!0)},Jh=function(e){return oI(e).replace(/\./g,"")},OS=function(e){try{return MS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function lI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uI=()=>lI().__FIREBASE_DEFAULTS__,cI=()=>{if(typeof process>"u"||typeof kT>"u")return;const e=kT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},hI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&OS(e[1]);return t&&JSON.parse(t)},Vf=()=>{try{return sI()||uI()||cI()||hI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},PS=e=>Vf()?.emulatorHosts?.[e],kS=e=>{const t=PS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},LS=()=>Vf()?.config,US=e=>Vf()?.[`_${e}`];class fI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function va(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kg(e){return(await fetch(e,{credentials:"include"})).ok}function jS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Jh(JSON.stringify(n)),Jh(JSON.stringify(c)),""].join(".")}const uu={};function dI(){const e={prod:[],emulator:[]};for(const t of Object.keys(uu))uu[t]?e.emulator.push(t):e.prod.push(t);return e}function mI(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let LT=!1;function Lg(e,t){if(typeof window>"u"||typeof document>"u"||!va(window.location.host)||uu[e]===t||uu[e]||LT)return;uu[e]=t;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=dI().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{LT=!0,c()},b}function v(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=mI(r),w=n("text"),R=document.getElementById(w)||document.createElement("span"),V=n("learnmore"),U=document.getElementById(V)||document.createElement("a"),G=n("preprendIcon"),$=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Q=b.element;d(Q),v(U,V);const rt=g();p($,G),Q.append($,R,U,rt),document.body.appendChild(Q)}u?(R.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function gI(){const e=Vf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function _I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TI(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function EI(){return!gI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bI(){try{return typeof indexedDB=="object"}catch{return!1}}function SI(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const AI="FirebaseError";class Wi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=AI,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?wI(u,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Wi(o,d,r)}}function wI(e,t){return e.replace(CI,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const CI=/\{\$([^}]+)}/g;function RI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function da(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=e[o],c=t[o];if(UT(u)&&UT(c)){if(!da(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function UT(e){return e!==null&&typeof e=="object"}function Pu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function xI(e,t){const n=new II(e,t);return n.subscribe.bind(n)}class II{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DI(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=rp),o.error===void 0&&(o.error=rp),o.complete===void 0&&(o.complete=rp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DI(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function rp(){}function En(e){return e&&e._delegate?e._delegate:e}class vr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ra="[DEFAULT]";class NI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new fI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(MI(t))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ra){return this.instances.has(t)}getOptions(t=ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VI(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ra){return this.component?this.component.multipleInstances?t:ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VI(e){return e===ra?void 0:e}function MI(e){return e.instantiationMode==="EAGER"}class OI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new NI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var kt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(kt||(kt={}));const PI={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},kI=kt.INFO,LI={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},UI=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=LI[t];if(o)console[o](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ug{constructor(t){this.name=t,this._logLevel=kI,this._logHandler=UI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const jI=(e,t)=>t.some(n=>e instanceof n);let jT,zT;function zI(){return jT||(jT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BI(){return zT||(zT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zS=new WeakMap,jp=new WeakMap,BS=new WeakMap,ap=new WeakMap,jg=new WeakMap;function FI(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{n(dr(e.result)),o()},c=()=>{r(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&zS.set(n,e)}).catch(()=>{}),jg.set(t,e),t}function HI(e){if(jp.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});jp.set(e,t)}let zp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return jp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||BS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function qI(e){zp=e(zp)}function GI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(op(this),t,...n);return BS.set(r,t.sort?t.sort():[t]),dr(r)}:BI().includes(e)?function(...t){return e.apply(op(this),t),dr(zS.get(this))}:function(...t){return dr(e.apply(op(this),t))}}function KI(e){return typeof e=="function"?GI(e):(e instanceof IDBTransaction&&HI(e),jI(e,zI())?new Proxy(e,zp):e)}function dr(e){if(e instanceof IDBRequest)return FI(e);if(ap.has(e))return ap.get(e);const t=KI(e);return t!==e&&(ap.set(e,t),jg.set(t,e)),t}const op=e=>jg.get(e);function YI(e,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),d=dr(c);return r&&c.addEventListener("upgradeneeded",p=>{r(dr(c.result),p.oldVersion,p.newVersion,dr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const QI=["get","getKey","getAll","getAllKeys","count"],XI=["put","add","delete","clear"],lp=new Map;function BT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(lp.get(t))return lp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=XI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||QI.includes(n)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return lp.set(t,u),u}qI(e=>({...e,get:(t,n,r)=>BT(t,n)||e.get(t,n,r),has:(t,n)=>!!BT(t,n)||e.has(t,n)}));class $I{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZI(e){return e.getComponent()?.type==="VERSION"}const Bp="@firebase/app",FT="0.14.7";const bs=new Ug("@firebase/app"),WI="@firebase/app-compat",JI="@firebase/analytics-compat",t2="@firebase/analytics",e2="@firebase/app-check-compat",n2="@firebase/app-check",i2="@firebase/auth",s2="@firebase/auth-compat",r2="@firebase/database",a2="@firebase/data-connect",o2="@firebase/database-compat",l2="@firebase/functions",u2="@firebase/functions-compat",c2="@firebase/installations",h2="@firebase/installations-compat",f2="@firebase/messaging",d2="@firebase/messaging-compat",m2="@firebase/performance",p2="@firebase/performance-compat",g2="@firebase/remote-config",y2="@firebase/remote-config-compat",v2="@firebase/storage",_2="@firebase/storage-compat",T2="@firebase/firestore",E2="@firebase/ai",b2="@firebase/firestore-compat",S2="firebase",A2="12.8.0";const Fp="[DEFAULT]",w2={[Bp]:"fire-core",[WI]:"fire-core-compat",[t2]:"fire-analytics",[JI]:"fire-analytics-compat",[n2]:"fire-app-check",[e2]:"fire-app-check-compat",[i2]:"fire-auth",[s2]:"fire-auth-compat",[r2]:"fire-rtdb",[a2]:"fire-data-connect",[o2]:"fire-rtdb-compat",[l2]:"fire-fn",[u2]:"fire-fn-compat",[c2]:"fire-iid",[h2]:"fire-iid-compat",[f2]:"fire-fcm",[d2]:"fire-fcm-compat",[m2]:"fire-perf",[p2]:"fire-perf-compat",[g2]:"fire-rc",[y2]:"fire-rc-compat",[v2]:"fire-gcs",[_2]:"fire-gcs-compat",[T2]:"fire-fst",[b2]:"fire-fst-compat",[E2]:"fire-vertex","fire-js":"fire-js",[S2]:"fire-js-all"};const tf=new Map,C2=new Map,Hp=new Map;function HT(e,t){try{e.container.addComponent(t)}catch(n){bs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ma(e){const t=e.name;if(Hp.has(t))return bs.debug(`There were multiple attempts to register component ${t}.`),!1;Hp.set(t,e);for(const n of tf.values())HT(n,e);for(const n of C2.values())HT(n,e);return!0}function Mf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qn(e){return e==null?!1:e.settings!==void 0}const R2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new Ou("app","Firebase",R2);class x2{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const _a=A2;function FS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Fp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw mr.create("bad-app-name",{appName:String(o)});if(n||(n=LS()),!n)throw mr.create("no-options");const u=tf.get(o);if(u){if(da(n,u.options)&&da(r,u.config))return u;throw mr.create("duplicate-app",{appName:o})}const c=new OI(o);for(const p of Hp.values())c.addComponent(p);const d=new x2(n,r,c);return tf.set(o,d),d}function zg(e=Fp){const t=tf.get(e);if(!t&&e===Fp&&LS())return FS();if(!t)throw mr.create("no-app",{appName:e});return t}function Bi(e,t,n){let r=w2[e]??e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bs.warn(c.join(" "));return}ma(new vr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const I2="firebase-heartbeat-database",D2=1,_u="firebase-heartbeat-store";let up=null;function HS(){return up||(up=YI(I2,D2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(_u)}catch(n){console.warn(n)}}}}).catch(e=>{throw mr.create("idb-open",{originalErrorMessage:e.message})})),up}async function N2(e){try{const n=(await HS()).transaction(_u),r=await n.objectStore(_u).get(qS(e));return await n.done,r}catch(t){if(t instanceof Wi)bs.warn(t.message);else{const n=mr.create("idb-get",{originalErrorMessage:t?.message});bs.warn(n.message)}}}async function qT(e,t){try{const r=(await HS()).transaction(_u,"readwrite");await r.objectStore(_u).put(t,qS(e)),await r.done}catch(n){if(n instanceof Wi)bs.warn(n.message);else{const r=mr.create("idb-set",{originalErrorMessage:n?.message});bs.warn(r.message)}}}function qS(e){return`${e.name}!${e.options.appId}`}const V2=1024,M2=30;class O2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=GT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>M2){const o=L2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){bs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=GT(),{heartbeatsToSend:n,unsentEntries:r}=P2(this._heartbeatsCache.heartbeats),o=Jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return bs.warn(t),""}}}function GT(){return new Date().toISOString().substring(0,10)}function P2(e,t=V2){const n=[];let r=e.slice();for(const o of e){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),KT(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),KT(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bI()?SI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return qT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return qT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function KT(e){return Jh(JSON.stringify({version:2,heartbeats:e})).length}function L2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function U2(e){ma(new vr("platform-logger",t=>new $I(t),"PRIVATE")),ma(new vr("heartbeat",t=>new O2(t),"PRIVATE")),Bi(Bp,FT,e),Bi(Bp,FT,"esm2020"),Bi("fire-js","")}U2("");var j2="firebase",z2="12.8.0";Bi(j2,z2,"app");var YT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,GS;(function(){var e;function t(D,A){function x(){}x.prototype=A.prototype,D.F=A.prototype,D.prototype=new x,D.prototype.constructor=D,D.D=function(P,O,j){for(var N=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)N[Ft-2]=arguments[Ft];return A.prototype[O].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,x){x||(x=0);const P=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)P[O]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(O=0;O<16;++O)P[O]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=D.g[0],x=D.g[1],O=D.g[2];let j=D.g[3],N;N=A+(j^x&(O^j))+P[0]+3614090360&4294967295,A=x+(N<<7&4294967295|N>>>25),N=j+(O^A&(x^O))+P[1]+3905402710&4294967295,j=A+(N<<12&4294967295|N>>>20),N=O+(x^j&(A^x))+P[2]+606105819&4294967295,O=j+(N<<17&4294967295|N>>>15),N=x+(A^O&(j^A))+P[3]+3250441966&4294967295,x=O+(N<<22&4294967295|N>>>10),N=A+(j^x&(O^j))+P[4]+4118548399&4294967295,A=x+(N<<7&4294967295|N>>>25),N=j+(O^A&(x^O))+P[5]+1200080426&4294967295,j=A+(N<<12&4294967295|N>>>20),N=O+(x^j&(A^x))+P[6]+2821735955&4294967295,O=j+(N<<17&4294967295|N>>>15),N=x+(A^O&(j^A))+P[7]+4249261313&4294967295,x=O+(N<<22&4294967295|N>>>10),N=A+(j^x&(O^j))+P[8]+1770035416&4294967295,A=x+(N<<7&4294967295|N>>>25),N=j+(O^A&(x^O))+P[9]+2336552879&4294967295,j=A+(N<<12&4294967295|N>>>20),N=O+(x^j&(A^x))+P[10]+4294925233&4294967295,O=j+(N<<17&4294967295|N>>>15),N=x+(A^O&(j^A))+P[11]+2304563134&4294967295,x=O+(N<<22&4294967295|N>>>10),N=A+(j^x&(O^j))+P[12]+1804603682&4294967295,A=x+(N<<7&4294967295|N>>>25),N=j+(O^A&(x^O))+P[13]+4254626195&4294967295,j=A+(N<<12&4294967295|N>>>20),N=O+(x^j&(A^x))+P[14]+2792965006&4294967295,O=j+(N<<17&4294967295|N>>>15),N=x+(A^O&(j^A))+P[15]+1236535329&4294967295,x=O+(N<<22&4294967295|N>>>10),N=A+(O^j&(x^O))+P[1]+4129170786&4294967295,A=x+(N<<5&4294967295|N>>>27),N=j+(x^O&(A^x))+P[6]+3225465664&4294967295,j=A+(N<<9&4294967295|N>>>23),N=O+(A^x&(j^A))+P[11]+643717713&4294967295,O=j+(N<<14&4294967295|N>>>18),N=x+(j^A&(O^j))+P[0]+3921069994&4294967295,x=O+(N<<20&4294967295|N>>>12),N=A+(O^j&(x^O))+P[5]+3593408605&4294967295,A=x+(N<<5&4294967295|N>>>27),N=j+(x^O&(A^x))+P[10]+38016083&4294967295,j=A+(N<<9&4294967295|N>>>23),N=O+(A^x&(j^A))+P[15]+3634488961&4294967295,O=j+(N<<14&4294967295|N>>>18),N=x+(j^A&(O^j))+P[4]+3889429448&4294967295,x=O+(N<<20&4294967295|N>>>12),N=A+(O^j&(x^O))+P[9]+568446438&4294967295,A=x+(N<<5&4294967295|N>>>27),N=j+(x^O&(A^x))+P[14]+3275163606&4294967295,j=A+(N<<9&4294967295|N>>>23),N=O+(A^x&(j^A))+P[3]+4107603335&4294967295,O=j+(N<<14&4294967295|N>>>18),N=x+(j^A&(O^j))+P[8]+1163531501&4294967295,x=O+(N<<20&4294967295|N>>>12),N=A+(O^j&(x^O))+P[13]+2850285829&4294967295,A=x+(N<<5&4294967295|N>>>27),N=j+(x^O&(A^x))+P[2]+4243563512&4294967295,j=A+(N<<9&4294967295|N>>>23),N=O+(A^x&(j^A))+P[7]+1735328473&4294967295,O=j+(N<<14&4294967295|N>>>18),N=x+(j^A&(O^j))+P[12]+2368359562&4294967295,x=O+(N<<20&4294967295|N>>>12),N=A+(x^O^j)+P[5]+4294588738&4294967295,A=x+(N<<4&4294967295|N>>>28),N=j+(A^x^O)+P[8]+2272392833&4294967295,j=A+(N<<11&4294967295|N>>>21),N=O+(j^A^x)+P[11]+1839030562&4294967295,O=j+(N<<16&4294967295|N>>>16),N=x+(O^j^A)+P[14]+4259657740&4294967295,x=O+(N<<23&4294967295|N>>>9),N=A+(x^O^j)+P[1]+2763975236&4294967295,A=x+(N<<4&4294967295|N>>>28),N=j+(A^x^O)+P[4]+1272893353&4294967295,j=A+(N<<11&4294967295|N>>>21),N=O+(j^A^x)+P[7]+4139469664&4294967295,O=j+(N<<16&4294967295|N>>>16),N=x+(O^j^A)+P[10]+3200236656&4294967295,x=O+(N<<23&4294967295|N>>>9),N=A+(x^O^j)+P[13]+681279174&4294967295,A=x+(N<<4&4294967295|N>>>28),N=j+(A^x^O)+P[0]+3936430074&4294967295,j=A+(N<<11&4294967295|N>>>21),N=O+(j^A^x)+P[3]+3572445317&4294967295,O=j+(N<<16&4294967295|N>>>16),N=x+(O^j^A)+P[6]+76029189&4294967295,x=O+(N<<23&4294967295|N>>>9),N=A+(x^O^j)+P[9]+3654602809&4294967295,A=x+(N<<4&4294967295|N>>>28),N=j+(A^x^O)+P[12]+3873151461&4294967295,j=A+(N<<11&4294967295|N>>>21),N=O+(j^A^x)+P[15]+530742520&4294967295,O=j+(N<<16&4294967295|N>>>16),N=x+(O^j^A)+P[2]+3299628645&4294967295,x=O+(N<<23&4294967295|N>>>9),N=A+(O^(x|~j))+P[0]+4096336452&4294967295,A=x+(N<<6&4294967295|N>>>26),N=j+(x^(A|~O))+P[7]+1126891415&4294967295,j=A+(N<<10&4294967295|N>>>22),N=O+(A^(j|~x))+P[14]+2878612391&4294967295,O=j+(N<<15&4294967295|N>>>17),N=x+(j^(O|~A))+P[5]+4237533241&4294967295,x=O+(N<<21&4294967295|N>>>11),N=A+(O^(x|~j))+P[12]+1700485571&4294967295,A=x+(N<<6&4294967295|N>>>26),N=j+(x^(A|~O))+P[3]+2399980690&4294967295,j=A+(N<<10&4294967295|N>>>22),N=O+(A^(j|~x))+P[10]+4293915773&4294967295,O=j+(N<<15&4294967295|N>>>17),N=x+(j^(O|~A))+P[1]+2240044497&4294967295,x=O+(N<<21&4294967295|N>>>11),N=A+(O^(x|~j))+P[8]+1873313359&4294967295,A=x+(N<<6&4294967295|N>>>26),N=j+(x^(A|~O))+P[15]+4264355552&4294967295,j=A+(N<<10&4294967295|N>>>22),N=O+(A^(j|~x))+P[6]+2734768916&4294967295,O=j+(N<<15&4294967295|N>>>17),N=x+(j^(O|~A))+P[13]+1309151649&4294967295,x=O+(N<<21&4294967295|N>>>11),N=A+(O^(x|~j))+P[4]+4149444226&4294967295,A=x+(N<<6&4294967295|N>>>26),N=j+(x^(A|~O))+P[11]+3174756917&4294967295,j=A+(N<<10&4294967295|N>>>22),N=O+(A^(j|~x))+P[2]+718787259&4294967295,O=j+(N<<15&4294967295|N>>>17),N=x+(j^(O|~A))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+j&4294967295}r.prototype.v=function(D,A){A===void 0&&(A=D.length);const x=A-this.blockSize,P=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=x;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<A;)if(P[O++]=D.charCodeAt(j++),O==this.blockSize){o(this,P),O=0;break}}else for(;j<A;)if(P[O++]=D[j++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var x=D.length-8;x<D.length;++x)D[x]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,x=0;x<4;++x)for(let P=0;P<32;P+=8)D[A++]=this.g[x]>>>P&255;return D};function u(D,A){var x=d;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=A(D)}function c(D,A){this.h=A;const x=[];let P=!0;for(let O=D.length-1;O>=0;O--){const j=D[O]|0;P&&j==A||(x[O]=j,P=!1)}this.g=x}var d={};function p(D){return-128<=D&&D<128?u(D,function(A){return new c([A|0],A<0?-1:0)}):new c([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return U(g(-D));const A=[];let x=1;for(let P=0;D>=x;P++)A[P]=D/x|0,x*=4294967296;return new c(A,0)}function v(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return U(v(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(A,8));let P=T;for(let j=0;j<D.length;j+=8){var O=Math.min(8,D.length-j);const N=parseInt(D.substring(j,j+O),A);O<8?(O=g(Math.pow(A,O)),P=P.j(O).add(g(N))):(P=P.j(x),P=P.add(g(N)))}return P}var T=p(0),b=p(1),w=p(16777216);e=c.prototype,e.m=function(){if(V(this))return-U(this).m();let D=0,A=1;for(let x=0;x<this.g.length;x++){const P=this.i(x);D+=(P>=0?P:4294967296+P)*A,A*=4294967296}return D},e.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(R(this))return"0";if(V(this))return"-"+U(this).toString(D);const A=g(Math.pow(D,6));var x=this;let P="";for(;;){const O=rt(x,A).g;x=G(x,O.j(A));let j=((x.g.length>0?x.g[0]:x.h)>>>0).toString(D);if(x=O,R(x))return j+P;for(;j.length<6;)j="0"+j;P=j+P}},e.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function R(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function V(D){return D.h==-1}e.l=function(D){return D=G(this,D),V(D)?-1:R(D)?0:1};function U(D){const A=D.g.length,x=[];for(let P=0;P<A;P++)x[P]=~D.g[P];return new c(x,~D.h).add(b)}e.abs=function(){return V(this)?U(this):this},e.add=function(D){const A=Math.max(this.g.length,D.g.length),x=[];let P=0;for(let O=0;O<=A;O++){let j=P+(this.i(O)&65535)+(D.i(O)&65535),N=(j>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);P=N>>>16,j&=65535,N&=65535,x[O]=N<<16|j}return new c(x,x[x.length-1]&-2147483648?-1:0)};function G(D,A){return D.add(U(A))}e.j=function(D){if(R(this)||R(D))return T;if(V(this))return V(D)?U(this).j(U(D)):U(U(this).j(D));if(V(D))return U(this.j(U(D)));if(this.l(w)<0&&D.l(w)<0)return g(this.m()*D.m());const A=this.g.length+D.g.length,x=[];for(var P=0;P<2*A;P++)x[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<D.g.length;O++){const j=this.i(P)>>>16,N=this.i(P)&65535,Ft=D.i(O)>>>16,ie=D.i(O)&65535;x[2*P+2*O]+=N*ie,$(x,2*P+2*O),x[2*P+2*O+1]+=j*ie,$(x,2*P+2*O+1),x[2*P+2*O+1]+=N*Ft,$(x,2*P+2*O+1),x[2*P+2*O+2]+=j*Ft,$(x,2*P+2*O+2)}for(D=0;D<A;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=A;D<2*A;D++)x[D]=0;return new c(x,0)};function $(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function Q(D,A){this.g=D,this.h=A}function rt(D,A){if(R(A))throw Error("division by zero");if(R(D))return new Q(T,T);if(V(D))return A=rt(U(D),A),new Q(U(A.g),U(A.h));if(V(A))return A=rt(D,U(A)),new Q(U(A.g),A.h);if(D.g.length>30){if(V(D)||V(A))throw Error("slowDivide_ only works with positive integers.");for(var x=b,P=A;P.l(D)<=0;)x=at(x),P=at(P);var O=ut(x,1),j=ut(P,1);for(P=ut(P,2),x=ut(x,2);!R(P);){var N=j.add(P);N.l(D)<=0&&(O=O.add(x),j=N),P=ut(P,1),x=ut(x,1)}return A=G(D,O.j(A)),new Q(O,A)}for(O=T;D.l(A)>=0;){for(x=Math.max(1,Math.floor(D.m()/A.m())),P=Math.ceil(Math.log(x)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),j=g(x),N=j.j(A);V(N)||N.l(D)>0;)x-=P,j=g(x),N=j.j(A);R(j)&&(j=b),O=O.add(j),D=G(D,N)}return new Q(O,D)}e.B=function(D){return rt(this,D).h},e.and=function(D){const A=Math.max(this.g.length,D.g.length),x=[];for(let P=0;P<A;P++)x[P]=this.i(P)&D.i(P);return new c(x,this.h&D.h)},e.or=function(D){const A=Math.max(this.g.length,D.g.length),x=[];for(let P=0;P<A;P++)x[P]=this.i(P)|D.i(P);return new c(x,this.h|D.h)},e.xor=function(D){const A=Math.max(this.g.length,D.g.length),x=[];for(let P=0;P<A;P++)x[P]=this.i(P)^D.i(P);return new c(x,this.h^D.h)};function at(D){const A=D.g.length+1,x=[];for(let P=0;P<A;P++)x[P]=D.i(P)<<1|D.i(P-1)>>>31;return new c(x,D.h)}function ut(D,A){const x=A>>5;A%=32;const P=D.g.length-x,O=[];for(let j=0;j<P;j++)O[j]=A>0?D.i(j+x)>>>A|D.i(j+x+1)<<32-A:D.i(j+x);return new c(O,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,GS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,pr=c}).apply(typeof YT<"u"?YT:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var KS,iu,YS,kh,qp,QS,XS,$S;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(h,y){if(y)t:{var E=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var B=h[C];if(!(B in E))break t;E=E[B]}h=h[h.length-1],C=E[h],y=y(C),y!=C&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],C;for(C in y)Object.prototype.hasOwnProperty.call(y,C)&&E.push([C,y[C]]);return E}});var u=u||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(C,B,K){for(var ot=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)ot[Ct-2]=arguments[Ct];return y.prototype[B].apply(C,ot)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const y=h.length;if(y>0){const E=Array(y);for(let C=0;C<y;C++)E[C]=h[C];return E}return[]}function R(h,y){for(let C=1;C<arguments.length;C++){const B=arguments[C];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=h.length||0;const K=B.length||0;h.length=E+K;for(let ot=0;ot<K;ot++)h[E+ot]=B[ot]}else h.push(B)}}class V{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function G(){var h=D;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ${constructor(){this.h=this.g=null}add(y,E){const C=Q.get();C.set(y,E),this.h?this.h.next=C:this.g=C,this.h=C}}var Q=new V(()=>new rt,h=>h.reset());class rt{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ut=!1,D=new $,A=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(x)}};function x(){for(var h;h=G();){try{h.h.call(h.g)}catch(E){U(E)}var y=Q;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ut=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Ft(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Ft,O),Ft.prototype.init=function(h,y){const E=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ft.Z.h.call(this)},Ft.prototype.h=function(){Ft.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),X=0;function st(h,y,E,C,B){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!C,this.ha=B,this.key=++X,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xt(h,y,E){for(const C in h)y.call(E,h[C],C,h)}function Mt(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function L(h){const y={};for(const E in h)y[E]=h[E];return y}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(h,y){let E,C;for(let B=1;B<arguments.length;B++){C=arguments[B];for(E in C)h[E]=C[E];for(let K=0;K<et.length;K++)E=et[K],Object.prototype.hasOwnProperty.call(C,E)&&(h[E]=C[E])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,y,E,C,B){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const ot=It(h,y,C,B);return ot>-1?(y=h[ot],E||(y.fa=!1)):(y=new st(y,this.src,K,!!C,B),y.fa=E,h.push(y)),y};function bt(h,y){const E=y.type;if(E in h.g){var C=h.g[E],B=Array.prototype.indexOf.call(C,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(C,B,1),K&&(ft(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function It(h,y,E,C){for(let B=0;B<h.length;++B){const K=h[B];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==C)return B}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Me={};function le(h,y,E,C,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)le(h,y[K],E,C,B);return null}return E=Zo(E),h&&h[ie]?h.J(y,E,d(C)?!!C.capture:!1,B):Rr(h,y,E,!1,C,B)}function Rr(h,y,E,C,B,K){if(!y)throw Error("Invalid event type");const ot=d(B)?!!B.capture:!!B;let Ct=xr(h);if(Ct||(h[zt]=Ct=new ht(h)),E=Ct.add(y,E,C,ot,K),E.proxy)return E;if(C=Aa(),E.proxy=C,C.src=h,C.listener=E,h.addEventListener)j||(B=ot),B===void 0&&(B=!1),h.addEventListener(y.toString(),C,B);else if(h.attachEvent)h.attachEvent(gi(y.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Aa(){function h(E){return y.call(h.src,h.listener,E)}const y=Xo;return h}function wa(h,y,E,C,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)wa(h,y[K],E,C,B);else C=d(C)?!!C.capture:!!C,E=Zo(E),h&&h[ie]?(h=h.i,K=String(y).toString(),K in h.g&&(y=h.g[K],E=It(y,E,C,B),E>-1&&(ft(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[K],h.h--)))):h&&(h=xr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=It(y,E,C,B)),(E=h>-1?y[h]:null)&&Ca(E))}function Ca(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ie])bt(y.i,h);else{var E=h.type,C=h.proxy;y.removeEventListener?y.removeEventListener(E,C,h.capture):y.detachEvent?y.detachEvent(gi(E),C):y.addListener&&y.removeListener&&y.removeListener(C),(E=xr(y))?(bt(E,h),E.h==0&&(E.src=null,y[zt]=null)):ft(h)}}}function gi(h){return h in Me?Me[h]:Me[h]="on"+h}function Xo(h,y){if(h.da)h=!0;else{y=new Ft(y,this);const E=h.listener,C=h.ha||h.src;h.fa&&Ca(h),h=E.call(C,y)}return h}function xr(h){return h=h[zt],h instanceof ht?h:null}var $o="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zo(h){return typeof h=="function"?h:(h[$o]||(h[$o]=function(y){return h.handleEvent(y)}),h[$o])}function Ee(){P.call(this),this.i=new ht(this),this.M=this,this.G=null}T(Ee,P),Ee.prototype[ie]=!0,Ee.prototype.removeEventListener=function(h,y,E,C){wa(this,h,y,E,C)};function Oe(h,y){var E,C=h.G;if(C)for(E=[];C;C=C.G)E.push(C);if(h=h.M,C=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var B=y;y=new O(C,h),lt(y,B)}B=!0;let K,ot;if(E)for(ot=E.length-1;ot>=0;ot--)K=y.g=E[ot],B=Rs(K,C,!0,y)&&B;if(K=y.g=h,B=Rs(K,C,!0,y)&&B,B=Rs(K,C,!1,y)&&B,E)for(ot=0;ot<E.length;ot++)K=y.g=E[ot],B=Rs(K,C,!1,y)&&B}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let C=0;C<E.length;C++)ft(E[C]);delete h.g[y],h.h--}}this.G=null},Ee.prototype.J=function(h,y,E,C){return this.i.add(String(h),y,!1,E,C)},Ee.prototype.K=function(h,y,E,C){return this.i.add(String(h),y,!0,E,C)};function Rs(h,y,E,C){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const ot=y[K];if(ot&&!ot.da&&ot.capture==E){const Ct=ot.listener,ye=ot.ha||ot.src;ot.fa&&bt(h.i,ot),B=Ct.call(ye,C)!==!1&&B}}return B&&!C.defaultPrevented}function ed(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Qu(h){h.g=ed(()=>{h.g=null,h.i&&(h.i=!1,Qu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class on extends P{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(h){P.call(this),this.h=h,this.g={}}T(Ir,P);var Wo=[];function Jo(h){xt(h.g,function(y,E){this.g.hasOwnProperty(E)&&Ca(y)},h),h.g={}}Ir.prototype.N=function(){Ir.Z.N.call(this),Jo(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=c.JSON.stringify,nd=c.JSON.parse,Xu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function $u(){}function Zu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){O.call(this,"d")}T(He,O);function Nn(){O.call(this,"c")}T(Nn,O);var ge={},Wu=null;function Ra(){return Wu=Wu||new Ee}ge.Ia="serverreachability";function Ju(h){O.call(this,ge.Ia,h)}T(Ju,O);function yi(h){const y=Ra();Oe(y,new Ju(y))}ge.STAT_EVENT="statevent";function Dr(h,y){O.call(this,ge.STAT_EVENT,h),this.stat=y}T(Dr,O);function be(h){const y=Ra();Oe(y,new Dr(y,h))}ge.Ja="timingevent";function vi(h,y){O.call(this,ge.Ja,h),this.size=y}T(vi,O);function _i(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function id(h,y,E,C,B,K){h.info(function(){if(h.g)if(K){var ot="",Ct=K.split("&");for(let Gt=0;Gt<Ct.length;Gt++){var ye=Ct[Gt].split("=");if(ye.length>1){const ue=ye[0];ye=ye[1];const Pn=ue.split("_");ot=Pn.length>=2&&Pn[1]=="type"?ot+(ue+"="+ye+"&"):ot+(ue+"=redacted&")}}}else ot=null;else ot=K;return"XMLHTTP REQ ("+C+") [attempt "+B+"]: "+y+`
`+E+`
`+ot})}function tc(h,y,E,C,B,K,ot){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+B+"]: "+y+`
`+E+`
`+K+" "+ot})}function Ti(h,y,E,C){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+sd(h,E)+(C?" "+C:"")})}function Nr(h,y){h.info(function(){return"TIMEOUT: "+y})}$n.prototype.info=function(){};function sd(h,y){if(!h.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var E=K[h];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var B=C[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ot=1;ot<C.length;ot++)C[ot]=""}}}}return xs(K)}catch{return y}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},el;function Mr(){}T(Mr,$u),Mr.prototype.g=function(){return new XMLHttpRequest},el=new Mr;function ts(h){return encodeURIComponent(String(h))}function ec(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Zn(h,y,E,C){this.j=h,this.i=y,this.l=E,this.S=C||1,this.V=new Ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Se={},je={};function Ei(h,y,E){h.M=1,h.A=Or(we(y)),h.u=E,h.R=!0,xa(h,null)}function xa(h,y){h.F=Date.now(),bi(h),h.B=we(h.A);var E=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Va(E.i,"t",C),h.C=0,E=h.j.L,h.h=new Wn,h.g=gc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new on(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,C=h.ba;var B="readystatechange";Array.isArray(B)||(B&&(Wo[0]=B.toString()),B=Wo);for(let K=0;K<B.length;K++){const ot=le(E,B[K],C||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),yi(),id(h.i,h.v,h.B,h.l,h.S,h.u)}Zn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ei(h)==3?y.j():this.Y(h)},Zn.prototype.Y=function(h){try{if(h==this.g)t:{const Ct=ei(this.g),ye=this.g.ya(),Gt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||Ct!=4||ye==7||(ye==8||Gt<=0?yi(3):yi(2)),Si(this);var y=this.g.ca();this.X=y;var E=rd(this);if(this.o=y==200,tc(this.i,this.v,this.B,this.l,this.S,Ct,y),this.o){if(this.U&&!this.L){e:{if(this.g){var C,B=this.g;if((C=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(C)){var K=C;break e}}K=null}if(h=K)Ti(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,h);else{this.o=!1,this.m=3,be(12),bn(this),Vn(this);break t}}if(this.R){h=!0;let ue;for(;!this.K&&this.C<E.length;)if(ue=ic(this,E),ue==je){Ct==4&&(this.m=4,be(14),h=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Se){this.m=4,be(15),Ti(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ti(this.i,this.l,ue,null),Ai(this,ue);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||E.length!=0||this.h.h||(this.m=1,be(16),h=!1),this.o=this.o&&h,!h)Ti(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),Vn(this);else if(E.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),gl(ot),ot.P=!0,be(11))}}else Ti(this.i,this.l,E,null),Ai(this,E);Ct==4&&bn(this),this.o&&!this.K&&(Ct==4?fc(this.j,this):(this.o=!1,bi(this)))}else ns(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),bn(this),Vn(this)}}}catch{}};function rd(h){if(!nc(h))return h.g.la();const y=qe(h.g);if(y==="")return"";let E="";const C=y.length,B=ei(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Vn(h),"";h.h.i=new c.TextDecoder}for(let K=0;K<C;K++)h.h.h=!0,E+=h.h.i.decode(y[K],{stream:!(B&&K==C-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function nc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ic(h,y){var E=h.C,C=y.indexOf(`
`,E);return C==-1?je:(E=Number(y.substring(E,C)),isNaN(E)?Se:(C+=1,C+E>y.length?je:(y=y.slice(C,C+E),h.C=C+E,y)))}Zn.prototype.cancel=function(){this.K=!0,bn(this)};function bi(h){h.T=Date.now()+h.H,Ia(h,h.H)}function Ia(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=_i(g(h.aa,h),y)}function Si(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Zn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(yi(),be(17)),bn(this),this.m=2,Vn(this)):Ia(this,this.T-h)};function Vn(h){h.j.I==0||h.K||fc(h.j,h)}function bn(h){Si(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Jo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ai(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ci(E.h,h))){if(!h.L&&Ci(E.h,h)&&E.I==3){try{var C=E.Ba.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var B=C;if(B[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)La(E),ks(E);else break t;Br(E),be(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=_i(g(E.Va,E),6e3));wi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Vi(E,11)}else if((h.L||E.g==h)&&La(E),!N(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Gt=B[y];const ue=Gt[0];if(!(ue<=E.K))if(E.K=ue,Gt=Gt[1],E.I==2)if(Gt[0]=="c"){E.M=Gt[1],E.ba=Gt[2];const Pn=Gt[3];Pn!=null&&(E.ka=Pn,E.j.info("VER="+E.ka));const Mi=Gt[4];Mi!=null&&(E.za=Mi,E.j.info("SVER="+E.za));const ni=Gt[5];ni!=null&&typeof ni=="number"&&ni>0&&(C=1.5*ni,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const ii=h.g;if(ii){const Fr=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var K=C.h;K.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(sl(K,K.h),K.h=null))}if(C.G){const Ua=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(C.wa=Ua,Qt(C.J,C.G,Ua))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var ot=h;if(C.na=pc(C,C.L?C.ba:null,C.W),ot.L){rl(C.h,ot);var Ct=ot,ye=C.O;ye&&(Ct.H=ye),Ct.D&&(Si(Ct),bi(Ct)),C.g=ot}else cc(C);E.i.length>0&&Ni(E)}else Gt[0]!="stop"&&Gt[0]!="close"||Vi(E,7);else E.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Vi(E,7):ml(E):Gt[0]!="noop"&&E.l&&E.l.qa(Gt),E.A=0)}}yi(4)}catch{}}var Ae=class{constructor(h,y){this.g=h,this.map=y}};function nl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wi(h){return h.h?1:h.g?h.g.size:0}function Ci(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function sl(h,y){h.g?h.g.add(y):h.h=y}function rl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}nl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function al(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return w(h.i)}var sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const C=h[E].indexOf("=");let B,K=null;C>=0?(B=h[E].substring(0,C),K=h[E].substring(C+1)):B=h[E],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Sn?(this.l=h.l,ze(this,h.j),this.o=h.o,this.g=h.g,Is(this,h.u),this.h=h.h,ol(this,lc(h.i)),this.m=h.m):h&&(y=String(h).match(sc))?(this.l=!1,ze(this,y[1]||"",!0),this.o=Ri(y[2]||""),this.g=Ri(y[3]||"",!0),Is(this,y[4]),this.h=Ri(y[5]||"",!0),ol(this,y[6]||"",!0),this.m=Ri(y[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}Sn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Pr(y,Na,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Pr(y,Na,!0),"@"),h.push(ts(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Pr(E,E.charAt(0)=="/"?ll:rc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Pr(E,ac)),h.join("")},Sn.prototype.resolve=function(h){const y=we(this);let E=!!h.j;E?ze(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var C=h.h;if(E)Is(y,h.u);else if(E=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var B=y.h.lastIndexOf("/");B!=-1&&(C=y.h.slice(0,B+1)+C)}if(B=C,B==".."||B==".")C="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){C=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let ot=0;ot<B.length;){const Ct=B[ot++];Ct=="."?C&&ot==B.length&&K.push(""):Ct==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),C&&ot==B.length&&K.push("")):(K.push(Ct),C=!0)}C=K.join("/")}else C=B}return E?y.h=C:E=h.i.toString()!=="",E?ol(y,lc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function we(h){return new Sn(h)}function ze(h,y,E){h.j=E?Ri(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Is(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function ol(h,y,E){y instanceof Ns?(h.i=y,Ma(h.i,h.l)):(E||(y=Pr(y,Ds)),h.i=new Ns(y,h.l))}function Qt(h,y,E){h.i.set(y,E)}function Or(h){return Qt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ri(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pr(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,dn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Na=/[#\/\?@]/g,rc=/[#\?:]/g,ll=/[#\?]/g,Ds=/[#\?@]/g,ac=/#/g;function Ns(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function mn(h){h.g||(h.g=new Map,h.h=0,h.i&&Da(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}e=Ns.prototype,e.add=function(h,y){mn(this),this.i=null,h=Vs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function oc(h,y){mn(h),y=Vs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ul(h,y){return mn(h),y=Vs(h,y),h.g.has(y)}e.forEach=function(h,y){mn(this),this.g.forEach(function(E,C){E.forEach(function(B){h.call(y,B,C,this)},this)},this)};function cl(h,y){mn(h);let E=[];if(typeof y=="string")ul(h,y)&&(E=E.concat(h.g.get(Vs(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}e.set=function(h,y){return mn(this),this.i=null,h=Vs(this,h),ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},e.get=function(h,y){return h?(h=cl(this,h),h.length>0?String(h[0]):y):y};function Va(h,y,E){oc(h,y),E.length>0&&(h.i=null,h.g.set(Vs(h,y),w(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let C=0;C<y.length;C++){var E=y[C];const B=ts(E);E=cl(this,E);for(let K=0;K<E.length;K++){let ot=B;E[K]!==""&&(ot+="="+ts(E[K])),h.push(ot)}}return this.i=h.join("&")};function lc(h){const y=new Ns;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Vs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ma(h,y){y&&!h.j&&(mn(h),h.i=null,h.g.forEach(function(E,C){const B=C.toLowerCase();C!=B&&(oc(this,C),Va(this,B,E))},h)),h.j=y}function Jn(h,y){const E=new $n;if(c.Image){const C=new Image;C.onload=v(Mn,E,"TestLoadImage: loaded",!0,y,C),C.onerror=v(Mn,E,"TestLoadImage: error",!1,y,C),C.onabort=v(Mn,E,"TestLoadImage: abort",!1,y,C),C.ontimeout=v(Mn,E,"TestLoadImage: timeout",!1,y,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else y(!1)}function hl(h,y){const E=new $n,C=new AbortController,B=setTimeout(()=>{C.abort(),Mn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:C.signal}).then(K=>{clearTimeout(B),K.ok?Mn(E,"TestPingServer: ok",!0,y):Mn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Mn(E,"TestPingServer: error",!1,y)})}function Mn(h,y,E,C,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),C(E)}catch{}}function Ms(){this.g=new Xu}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(xi,$u),xi.prototype.g=function(){return new kr(this.i,this.h)};function kr(h,y){Ee.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(kr,Ee),e=kr.prototype,e.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ti(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Os(this):ti(this),this.readyState==3&&Oa(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Os(this))},e.Na=function(h){this.g&&(this.response=h,Os(this))},e.ga=function(){this.g&&Os(this)};function Os(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ti(h)}e.setRequestHeader=function(h,y){this.A.append(h,y)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ti(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function On(h){let y="";return xt(h,function(E,C){y+=C,y+=":",y+=E,y+=`\r
`}),y}function Lr(h,y,E){t:{for(C in E){var C=!1;break t}C=!0}C||(E=On(E),typeof h=="string"?E!=null&&ts(E):Qt(h,y,E))}function Zt(h){Ee.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Zt,Ee);var Ii=/^https?$/i,fl=["POST","PUT"];e=Zt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,y,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():el.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){Ur(this,K);return}if(h=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var B in C)E.set(B,C[B]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const K of C.keys())E.set(K,C.get(K));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(fl,y,void 0)>=0)||C||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ot]of E)this.g.setRequestHeader(K,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){Ur(this,K)}};function Ur(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,dl(h),es(h)}function dl(h){h.A||(h.A=!0,Oe(h,"complete"),Oe(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Oe(this,"complete"),Oe(this,"abort"),es(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),Zt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?jr(this):this.Xa())},e.Xa=function(){jr(this)};function jr(h){if(h.h&&typeof u<"u"){if(h.v&&ei(h)==4)setTimeout(h.Ca.bind(h),0);else if(Oe(h,"readystatechange"),ei(h)==4){h.h=!1;try{const K=h.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var C;if(C=K===0){let ot=String(h.D).match(sc)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),C=!Ii.test(ot?ot.toLowerCase():"")}E=C}if(E)Oe(h,"complete"),Oe(h,"success");else{h.o=6;try{var B=ei(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",dl(h)}}finally{es(h)}}}}function es(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Oe(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ei(h){return h.g?h.g.readyState:0}e.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),nd(y)}};function qe(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(h){const y={};h=(h.g&&ei(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(N(h[C]))continue;var E=ec(h[C]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[B]||[];y[B]=K,K.push(E)}Mt(y,function(C){return C.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Ps(h){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,h),this.Za=Di("retryDelaySeedMs",1e4,h),this.Ta=Di("forwardChannelMaxRetries",2,h),this.va=Di("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(h&&h.concurrentRequestLimit),this.Ba=new Ms,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Ps.prototype,e.ka=8,e.I=1,e.connect=function(h,y,E,C){be(0),this.W=h,this.H=y||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=pc(this,null,this.W),Ni(this)};function ml(h){if(Pa(h),h.I==3){var y=h.V++,E=we(h.J);if(Qt(E,"SID",h.M),Qt(E,"RID",y),Qt(E,"TYPE","terminate"),zr(h,E),y=new Zn(h,h.j,y),y.M=2,y.A=Or(we(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=gc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),bi(y)}mc(h)}function ks(h){h.g&&(gl(h),h.g.cancel(),h.g=null)}function Pa(h){ks(h),h.v&&(c.clearTimeout(h.v),h.v=null),La(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ni(h){if(!il(h.h)&&!h.m){h.m=!0;var y=h.Ea;at||A(),ut||(at(),ut=!0),D.add(y,h),h.D=0}}function ka(h,y){return wi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=_i(g(h.Ea,h,y),dc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new Zn(this,this.j,h);let K=this.o;if(this.U&&(K?(K=L(K),lt(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(y+=C,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=uc(this,B,y),E=we(this.J),Qt(E,"RID",h),Qt(E,"CVER",22),this.G&&Qt(E,"X-HTTP-Session-Id",this.G),zr(this,E),K&&(this.R?y="headers="+ts(On(K))+"&"+y:this.u&&Lr(E,this.u,K)),sl(this.h,B),this.Ra&&Qt(E,"TYPE","init"),this.S?(Qt(E,"$req",y),Qt(E,"SID","null"),B.U=!0,Ei(B,E,null)):Ei(B,E,y),this.I=2}}else this.I==3&&(h?pl(this,h):this.i.length==0||il(this.h)||pl(this))};function pl(h,y){var E;y?E=y.l:E=h.V++;const C=we(h.J);Qt(C,"SID",h.M),Qt(C,"RID",E),Qt(C,"AID",h.K),zr(h,C),h.u&&h.o&&Lr(C,h.u,h.o),E=new Zn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=uc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),sl(h.h,E),Ei(E,C,y)}function zr(h,y){h.H&&xt(h.H,function(E,C){Qt(y,C,E)}),h.l&&xt({},function(E,C){Qt(y,C,E)})}function uc(h,y,E){E=Math.min(h.i.length,E);const C=h.l?g(h.l.Ka,h.l,h):null;t:{var B=h.i;let Ct=-1;for(;;){const ye=["count="+E];Ct==-1?E>0?(Ct=B[0].g,ye.push("ofs="+Ct)):Ct=0:ye.push("ofs="+Ct);let Gt=!0;for(let ue=0;ue<E;ue++){var K=B[ue].g;const Pn=B[ue].map;if(K-=Ct,K<0)Ct=Math.max(0,B[ue].g-100),Gt=!1;else try{K="req"+K+"_"||"";try{var ot=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Mi,ni]of ot){let ii=ni;d(ni)&&(ii=xs(ni)),ye.push(K+Mi+"="+encodeURIComponent(ii))}}catch(Mi){throw ye.push(K+"type="+encodeURIComponent("_badmap")),Mi}}catch{C&&C(Pn)}}if(Gt){ot=ye.join("&");break t}}ot=void 0}return h=h.i.splice(0,E),y.G=h,ot}function cc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;at||A(),ut||(at(),ut=!0),D.add(y,h),h.A=0}}function Br(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=_i(g(h.Da,h),dc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=_i(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),ks(this),hc(this))};function gl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function hc(h){h.g=new Zn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=we(h.na);Qt(y,"RID","rpc"),Qt(y,"SID",h.M),Qt(y,"AID",h.K),Qt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qt(y,"TO",h.ia),Qt(y,"TYPE","xmlhttp"),zr(h,y),h.u&&h.o&&Lr(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Or(we(y)),E.u=null,E.R=!0,xa(E,h)}e.Va=function(){this.C!=null&&(this.C=null,ks(this),Br(this),be(19))};function La(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function fc(h,y){var E=null;if(h.g==y){La(h),gl(h),h.g=null;var C=2}else if(Ci(h.h,y))E=y.G,rl(h.h,y),C=1;else return;if(h.I!=0){if(y.o)if(C==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=h.D;C=Ra(),Oe(C,new vi(C,E)),Ni(h)}else cc(h);else if(B=y.m,B==3||B==0&&y.X>0||!(C==1&&ka(h,y)||C==2&&Br(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),B){case 1:Vi(h,5);break;case 4:Vi(h,10);break;case 3:Vi(h,6);break;default:Vi(h,2)}}}function dc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Vi(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),C=h.Ua;const B=!C;C=new Sn(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ze(C,"https"),Or(C),B?Jn(C.toString(),E):hl(C.toString(),E)}else be(2);h.I=0,h.l&&h.l.pa(y),mc(h),Pa(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function mc(h){if(h.I=0,h.ja=[],h.l){const y=al(h.h);(y.length!=0||h.i.length!=0)&&(R(h.ja,y),R(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function pc(h,y,E){var C=E instanceof Sn?we(E):new Sn(E);if(C.g!="")y&&(C.g=y+"."+C.g),Is(C,C.u);else{var B=c.location;C=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new Sn(null);C&&ze(K,C),y&&(K.g=y),B&&Is(K,B),E&&(K.h=E),C=K}return E=h.G,y=h.wa,E&&y&&Qt(C,E,y),Qt(C,"VER",h.ka),zr(h,C),C}function gc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Zt(new xi({ab:E})):new Zt(h.ma),y.Fa(h.L),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}e=yc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Ls(){}Ls.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){Ee.call(this),this.g=new Ps(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new is(this)}T(ln,Ee),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ml(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=xs(h),h=E);y.i.push(new Ae(y.Ya++,h)),y.I==3&&Ni(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,ln.Z.N.call(this)};function vc(h){He.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(vc,He);function _c(){Nn.call(this),this.status=1}T(_c,Nn);function is(h){this.g=h}T(is,yc),is.prototype.ra=function(){Oe(this.g,"a")},is.prototype.qa=function(h){Oe(this.g,new vc(h))},is.prototype.pa=function(h){Oe(this.g,new _c)},is.prototype.oa=function(){Oe(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,$S=function(){return new Ls},XS=function(){return Ra()},QS=ge,qp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,kh=Vr,tl.COMPLETE="complete",YS=tl,Zu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,iu=Zu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,KS=Zt}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Bo="12.8.0";function B2(e){Bo=e}const pa=new Ug("@firebase/firestore");function po(){return pa.logLevel}function ct(e,...t){if(pa.logLevel<=kt.DEBUG){const n=t.map(Bg);pa.debug(`Firestore (${Bo}): ${e}`,...n)}}function Ss(e,...t){if(pa.logLevel<=kt.ERROR){const n=t.map(Bg);pa.error(`Firestore (${Bo}): ${e}`,...n)}}function Mo(e,...t){if(pa.logLevel<=kt.WARN){const n=t.map(Bg);pa.warn(`Firestore (${Bo}): ${e}`,...n)}}function Bg(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function Tt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,ZS(e,r,n)}function ZS(e,t,n){let r=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ss(r),new Error(r)}function Yt(e,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,e||ZS(t,o,r)}function wt(e,t){return e}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Wi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class WS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class F2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class H2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class q2{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new WS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class G2{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class K2{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new G2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class QT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const r=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new QT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new QT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Q2(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Fg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Q2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Lt(e,t){return e<t?-1:e>t?1:0}function Gp(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const o=e.charAt(r),u=t.charAt(r);if(o!==u)return cp(o)===cp(u)?Lt(o,u):cp(o)?1:-1}return Lt(e.length,t.length)}const X2=55296,$2=57343;function cp(e){const t=e.charCodeAt(0);return t>=X2&&t<=$2}function Oo(e,t,n){return e.length===t.length&&e.every(((r,o)=>n(r,t[o])))}const XT="__name__";class ji{constructor(t,n,r){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Tt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ji.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ji?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=ji.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Lt(t.length,n.length)}static compareSegments(t,n){const r=ji.isNumericId(t),o=ji.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?ji.extractNumericId(t).compare(ji.extractNumericId(n)):Gp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return pr.fromString(t.substring(4,t.length-2))}}class ae extends ji{construct(t,n,r){return new ae(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new gt(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const Z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends ji{construct(t,n,r){return new Ze(t,n,r)}static isValidIdentifier(t){return Z2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XT}static keyField(){return new Ze([XT])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new gt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new gt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new gt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(u(),o++)}if(u(),c)throw new gt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ae.fromString(t))}static fromName(t){return new vt(ae.fromString(t).popFirst(5))}static empty(){return new vt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ae(t.slice()))}}function JS(e,t,n){if(!n)throw new gt(it.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function W2(e,t,n,r){if(t===!0&&r===!0)throw new gt(it.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function $T(e){if(!vt.isDocumentKey(e))throw new gt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ZT(e){if(vt.isDocumentKey(e))throw new gt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function tA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Hg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function ef(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hg(e);throw new gt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Ve(e,t){const n={typeString:e};return t&&(n.value=t),n}function ku(e,t){if(!tA(e))throw new gt(it.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const c=e[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new gt(it.INVALID_ARGUMENT,n);return!0}const WT=-62135596800,JT=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*JT);return new oe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<WT)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JT}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ku(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-WT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ve("string",oe._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new oe(0,0))}static max(){return new St(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tu=-1;function J2(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new oe(n+1,0):new oe(n,r));return new _r(o,vt.empty(),t)}function tD(e){return new _r(e.readTime,e.key,Tu)}class _r{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new _r(St.min(),vt.empty(),Tu)}static max(){return new _r(St.max(),vt.empty(),Tu)}}function eD(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:Lt(e.largestBatchId,t.largestBatchId))}const nD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Fo(e){if(e.code!==it.FAILED_PRECONDITION||e.message!==nD)throw e;ct("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,r)=>{n(t)}))}static reject(t){return new nt(((n,r)=>{r(t)}))}static waitFor(t){return new nt(((n,r)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&n()}),(p=>r(p)))})),c=!0,u===o&&n()}))}static or(t){let n=nt.resolve(!1);for(const r of t)n=n.next((o=>o?nt.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new nt(((r,o)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((v=>{c[g]=v,++d,d===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,n){return new nt(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function sD(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(e){return e.name==="IndexedDbTransactionError"}class Of{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Of.ce=-1;const qg=-1;function Pf(e){return e==null}function nf(e){return e===0&&1/e==-1/0}function rD(e){return typeof e=="number"&&Number.isInteger(e)&&!nf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const eA="";function aD(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=tE(t)),t=oD(e.get(n),t);return tE(t)}function oD(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case eA:n+="";break;default:n+=u}}return n}function tE(e){return e+eA+""}function eE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ta(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class fe{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ah(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ah(this.root,t,this.comparator,!0)}}class Ah{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new $e(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(t){return new nE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class nE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ui{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new ui([])}unionWith(t){let n=new Ue(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ui(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Oo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class iA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iA("Invalid base64 string: "+u):u}})(t);return new Je(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const lD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(e){if(Yt(!!e,39018),typeof e=="string"){let t=0;const n=lD.exec(e);if(Yt(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(e.seconds),nanos:Te(e.nanos)}}function Te(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Er(e){return typeof e=="string"?Je.fromBase64String(e):Je.fromUint8Array(e)}const sA="server_timestamp",rA="__type__",aA="__previous_value__",oA="__local_write_time__";function Gg(e){return(e?.mapValue?.fields||{})[rA]?.stringValue===sA}function kf(e){const t=e.mapValue.fields[aA];return Gg(t)?kf(t):t}function Eu(e){const t=Tr(e.mapValue.fields[oA].timestampValue);return new oe(t.seconds,t.nanos)}class uD{constructor(t,n,r,o,u,c,d,p,g,v,T){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=T}}const sf="(default)";class bu{constructor(t,n){this.projectId=t,this.database=n||sf}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===sf}isEqual(t){return t instanceof bu&&t.projectId===this.projectId&&t.database===this.database}}function cD(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(e.options.projectId,t)}const lA="__type__",hD="__max__",wh={mapValue:{}},uA="__vector__",rf="value";function br(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gg(e)?4:dD(e)?9007199254740991:fD(e)?10:11:Tt(28295,{value:e})}function Yi(e,t){if(e===t)return!0;const n=br(e);if(n!==br(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Eu(e).isEqual(Eu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Tr(o.timestampValue),d=Tr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,u){return Er(o.bytesValue).isEqual(Er(u.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(e,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Te(o.doubleValue),d=Te(u.doubleValue);return c===d?nf(c)===nf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Oo(e.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(eE(c)!==eE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Yi(c[p],d[p])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function Su(e,t){return(e.values||[]).find((n=>Yi(n,t)))!==void 0}function Po(e,t){if(e===t)return 0;const n=br(e),r=br(t);if(n!==r)return Lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(e.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=Te(u.integerValue||u.doubleValue),p=Te(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(e,t);case 3:return iE(e.timestampValue,t.timestampValue);case 4:return iE(Eu(e),Eu(t));case 5:return Gp(e.stringValue,t.stringValue);case 6:return(function(u,c){const d=Er(u),p=Er(c);return d.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Lt(d[g],p[g]);if(v!==0)return v}return Lt(d.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=Lt(Te(u.latitude),Te(c.latitude));return d!==0?d:Lt(Te(u.longitude),Te(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return sE(e.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},g=d[rf]?.arrayValue,v=p[rf]?.arrayValue,T=Lt(g?.values?.length||0,v?.values?.length||0);return T!==0?T:sE(g,v)})(e.mapValue,t.mapValue);case 11:return(function(u,c){if(u===wh.mapValue&&c===wh.mapValue)return 0;if(u===wh.mapValue)return 1;if(c===wh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const b=Gp(p[T],v[T]);if(b!==0)return b;const w=Po(d[p[T]],g[v[T]]);if(w!==0)return w}return Lt(p.length,v.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function iE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Lt(e,t);const n=Tr(e),r=Tr(t),o=Lt(n.seconds,r.seconds);return o!==0?o:Lt(n.nanos,r.nanos)}function sE(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Po(n[o],r[o]);if(u)return u}return Lt(n.length,r.length)}function ko(e){return Kp(e)}function Kp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=Tr(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Er(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return vt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Kp(u);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${Kp(n.fields[c])}`;return o+"}"})(e.mapValue):Tt(61005,{value:e})}function Lh(e){switch(br(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=kf(e);return t?16+Lh(t):16;case 5:return 2*e.stringValue.length;case 6:return Er(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Lh(u)),0)})(e.arrayValue);case 10:case 11:return(function(r){let o=0;return Ta(r.fields,((u,c)=>{o+=u.length+Lh(c)})),o})(e.mapValue);default:throw Tt(13486,{value:e})}}function Yp(e){return!!e&&"integerValue"in e}function Kg(e){return!!e&&"arrayValue"in e}function rE(e){return!!e&&"nullValue"in e}function aE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Uh(e){return!!e&&"mapValue"in e}function fD(e){return(e?.mapValue?.fields||{})[lA]?.stringValue===uA}function cu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ta(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=cu(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=cu(e.arrayValue.values[n]);return t}return{...e}}function dD(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===hD}class Gn{constructor(t){this.value=t}static empty(){return new Gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Uh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=cu(n)}setAll(t){let n=Ze.emptyPath(),r={},o=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=d.popLast()}c?r[d.lastSegment()]=cu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){Ta(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Gn(cu(this.value))}}function cA(e){const t=[];return Ta(e.fields,((n,r)=>{const o=new Ze([n]);if(Uh(r)){const u=cA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ui(t)}class sn{constructor(t,n,r,o,u,c,d){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new sn(t,0,St.min(),St.min(),St.min(),Gn.empty(),0)}static newFoundDocument(t,n,r,o){return new sn(t,1,n,St.min(),r,o,0)}static newNoDocument(t,n){return new sn(t,2,n,St.min(),St.min(),Gn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,St.min(),St.min(),Gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class af{constructor(t,n){this.position=t,this.inclusive=n}}function oE(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?r=vt.comparator(vt.fromName(c.referenceValue),n.key):r=Po(c,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function lE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Yi(e.position[n],t.position[n]))return!1;return!0}class of{constructor(t,n="asc"){this.field=t,this.dir=n}}function mD(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class hA{}class Le extends hA{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new gD(t,n,r):n==="array-contains"?new _D(t,r):n==="in"?new TD(t,r):n==="not-in"?new ED(t,r):n==="array-contains-any"?new bD(t,r):new Le(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new yD(t,r):new vD(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&br(this.value)===br(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends hA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Qi(t,n)}matches(t){return fA(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fA(e){return e.op==="and"}function dA(e){return pD(e)&&fA(e)}function pD(e){for(const t of e.filters)if(t instanceof Qi)return!1;return!0}function Qp(e){if(e instanceof Le)return e.field.canonicalString()+e.op.toString()+ko(e.value);if(dA(e))return e.filters.map((t=>Qp(t))).join(",");{const t=e.filters.map((n=>Qp(n))).join(",");return`${e.op}(${t})`}}function mA(e,t){return e instanceof Le?(function(r,o){return o instanceof Le&&r.op===o.op&&r.field.isEqual(o.field)&&Yi(r.value,o.value)})(e,t):e instanceof Qi?(function(r,o){return o instanceof Qi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,d)=>u&&mA(c,o.filters[d])),!0):!1})(e,t):void Tt(19439)}function pA(e){return e instanceof Le?(function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`})(e):e instanceof Qi?(function(n){return n.op.toString()+" {"+n.getFilters().map(pA).join(" ,")+"}"})(e):"Filter"}class gD extends Le{constructor(t,n,r){super(t,n,r),this.key=vt.fromName(r.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class yD extends Le{constructor(t,n){super(t,"in",n),this.keys=gA("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class vD extends Le{constructor(t,n){super(t,"not-in",n),this.keys=gA("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function gA(e,t){return(t.arrayValue?.values||[]).map((n=>vt.fromName(n.referenceValue)))}class _D extends Le{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Kg(n)&&Su(n.arrayValue,this.value)}}class TD extends Le{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class ED extends Le{constructor(t,n){super(t,"not-in",n)}matches(t){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Su(this.value.arrayValue,n)}}class bD extends Le{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Su(this.value.arrayValue,r)))}}class SD{constructor(t,n=null,r=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function uE(e,t=null,n=[],r=[],o=null,u=null,c=null){return new SD(e,t,n,r,o,u,c)}function Yg(e){const t=wt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Qp(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Pf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>ko(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>ko(r))).join(",")),t.Te=n}return t.Te}function Qg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mD(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lE(e.startAt,t.startAt)&&lE(e.endAt,t.endAt)}function Xp(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Lf{constructor(t,n=null,r=[],o=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function AD(e,t,n,r,o,u,c,d){return new Lf(e,t,n,r,o,u,c,d)}function yA(e){return new Lf(e)}function cE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function wD(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function CD(e){return e.collectionGroup!==null}function hu(e){const t=wt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ue(Ze.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new of(u,r))})),n.has(Ze.keyField().canonicalString())||t.Ie.push(new of(Ze.keyField(),r))}return t.Ie}function Fi(e){const t=wt(e);return t.Ee||(t.Ee=RD(t,hu(e))),t.Ee}function RD(e,t){if(e.limitType==="F")return uE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new of(o.field,u)}));const n=e.endAt?new af(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new af(e.startAt.position,e.startAt.inclusive):null;return uE(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $p(e,t,n){return new Lf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uf(e,t){return Qg(Fi(e),Fi(t))&&e.limitType===t.limitType}function vA(e){return`${Yg(Fi(e))}|lt:${e.limitType}`}function go(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>pA(o))).join(", ")}]`),Pf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>ko(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>ko(o))).join(",")),`Target(${r})`})(Fi(e))}; limitType=${e.limitType})`}function jf(e,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):vt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(e,t)&&(function(r,o){for(const u of hu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(e,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(e,t)&&(function(r,o){return!(r.startAt&&!(function(c,d,p){const g=oE(c,d,p);return c.inclusive?g<=0:g<0})(r.startAt,hu(r),o)||r.endAt&&!(function(c,d,p){const g=oE(c,d,p);return c.inclusive?g>=0:g>0})(r.endAt,hu(r),o))})(e,t)}function xD(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _A(e){return(t,n)=>{let r=!1;for(const o of hu(e)){const u=ID(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function ID(e,t,n){const r=e.field.isKeyField()?vt.comparator(t.key,n.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Po(p,g):Tt(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:e.dir})}}class Ea{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ta(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return nA(this.inner)}size(){return this.innerSize}}const DD=new fe(vt.comparator);function As(){return DD}const TA=new fe(vt.comparator);function su(...e){let t=TA;for(const n of e)t=t.insert(n.key,n);return t}function EA(e){let t=TA;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function oa(){return fu()}function bA(){return fu()}function fu(){return new Ea((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ND=new fe(vt.comparator),VD=new Ue(vt.comparator);function Ut(...e){let t=VD;for(const n of e)t=t.add(n);return t}const MD=new Ue(Lt);function OD(){return MD}function Xg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(t)?"-0":t}}function SA(e){return{integerValue:""+e}}function PD(e,t){return rD(t)?SA(t):Xg(e,t)}class zf{constructor(){this._=void 0}}function kD(e,t,n){return e instanceof Au?(function(o,u){const c={fields:{[rA]:{stringValue:sA},[oA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gg(u)&&(u=kf(u)),u&&(c.fields[aA]=u),{mapValue:c}})(n,t):e instanceof wu?wA(e,t):e instanceof Cu?CA(e,t):(function(o,u){const c=AA(o,u),d=hE(c)+hE(o.Ae);return Yp(c)&&Yp(o.Ae)?SA(d):Xg(o.serializer,d)})(e,t)}function LD(e,t,n){return e instanceof wu?wA(e,t):e instanceof Cu?CA(e,t):n}function AA(e,t){return e instanceof lf?(function(r){return Yp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Au extends zf{}class wu extends zf{constructor(t){super(),this.elements=t}}function wA(e,t){const n=RA(t);for(const r of e.elements)n.some((o=>Yi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Cu extends zf{constructor(t){super(),this.elements=t}}function CA(e,t){let n=RA(t);for(const r of e.elements)n=n.filter((o=>!Yi(o,r)));return{arrayValue:{values:n}}}class lf extends zf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function hE(e){return Te(e.integerValue||e.doubleValue)}function RA(e){return Kg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class UD{constructor(t,n){this.field=t,this.transform=n}}function jD(e,t){return e.field.isEqual(t.field)&&(function(r,o){return r instanceof wu&&o instanceof wu||r instanceof Cu&&o instanceof Cu?Oo(r.elements,o.elements,Yi):r instanceof lf&&o instanceof lf?Yi(r.Ae,o.Ae):r instanceof Au&&o instanceof Au})(e.transform,t.transform)}class zD{constructor(t,n){this.version=t,this.transformResults=n}}class Es{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Es}static exists(t){return new Es(void 0,t)}static updateTime(t){return new Es(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Bf{}function xA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new DA(e.key,Es.none()):new Lu(e.key,e.data,Es.none());{const n=e.data,r=Gn.empty();let o=new Ue(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new ba(e.key,r,new ui(o.toArray()),Es.none())}}function BD(e,t,n){e instanceof Lu?(function(o,u,c){const d=o.value.clone(),p=dE(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof ba?(function(o,u,c){if(!jh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=dE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(IA(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function du(e,t,n,r){return e instanceof Lu?(function(u,c,d,p){if(!jh(u.precondition,c))return d;const g=u.value.clone(),v=mE(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,r):e instanceof ba?(function(u,c,d,p){if(!jh(u.precondition,c))return d;const g=mE(u.fieldTransforms,p,c),v=c.data;return v.setAll(IA(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(e,t,n,r):(function(u,c,d){return jh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function FD(e,t){let n=null;for(const r of e.fieldTransforms){const o=t.data.field(r.field),u=AA(r.transform,o||null);u!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,u))}return n||null}function fE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Oo(r,o,((u,c)=>jD(u,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Lu extends Bf{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ba extends Bf{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function IA(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function dE(e,t,n){const r=new Map;Yt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let o=0;o<n.length;o++){const u=e[o],c=u.transform,d=t.data.field(u.field);r.set(u.field,LD(c,d,n[o]))}return r}function mE(e,t,n){const r=new Map;for(const o of e){const u=o.transform,c=n.data.field(o.field);r.set(o.field,kD(u,c,t))}return r}class DA extends Bf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HD extends Bf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qD{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&BD(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=du(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=du(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=bA();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=n.has(o.key)?null:d;const p=xA(c,d);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Oo(this.mutations,t.mutations,((n,r)=>fE(n,r)))&&Oo(this.baseMutations,t.baseMutations,((n,r)=>fE(n,r)))}}class $g{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Yt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return ND})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new $g(t,n,r,o)}}class GD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KD{constructor(t,n){this.count=t,this.unchangedNames=n}}var De,Bt;function YD(e){switch(e){case it.OK:return Tt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function NA(e){if(e===void 0)return Ss("GRPC error has no .code"),it.UNKNOWN;switch(e){case De.OK:return it.OK;case De.CANCELLED:return it.CANCELLED;case De.UNKNOWN:return it.UNKNOWN;case De.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case De.INTERNAL:return it.INTERNAL;case De.UNAVAILABLE:return it.UNAVAILABLE;case De.UNAUTHENTICATED:return it.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case De.NOT_FOUND:return it.NOT_FOUND;case De.ALREADY_EXISTS:return it.ALREADY_EXISTS;case De.PERMISSION_DENIED:return it.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case De.ABORTED:return it.ABORTED;case De.OUT_OF_RANGE:return it.OUT_OF_RANGE;case De.UNIMPLEMENTED:return it.UNIMPLEMENTED;case De.DATA_LOSS:return it.DATA_LOSS;default:return Tt(39323,{code:e})}}(Bt=De||(De={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function QD(){return new TextEncoder}const XD=new pr([4294967295,4294967295],0);function pE(e){const t=QD().encode(e),n=new GS;return n.update(t),new Uint8Array(n.digest())}function gE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new pr([n,r],0),new pr([o,u],0)]}class Zg{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=pr.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(pr.fromNumber(r)));return o.compare(XD)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=pE(t),[r,o]=gE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Zg(u,o,n);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=pE(t),[r,o]=gE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.be(c)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ff{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Uu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ff(St.min(),o,new fe(Lt),As(),Ut())}}class Uu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Uu(r,n,Ut(),Ut(),Ut())}}class zh{constructor(t,n,r,o){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=o}}class VA{constructor(t,n){this.targetId=t,this.Ce=n}}class MA{constructor(t,n,r=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class yE{constructor(){this.ve=0,this.Fe=vE(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),r=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Tt(38017,{changeType:u})}})),new Uu(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=vE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $D{constructor(t){this.Ge=t,this.ze=new Map,this.je=As(),this.He=Ch(),this.Je=Ch(),this.Ze=new fe(Lt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Xp(u))if(r===0){const c=new vt(u.path);this.et(n,c,sn.newNoDocument(c,St.min()))}else Yt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let c,d;try{c=Er(r).toUint8Array()}catch(p){if(p instanceof iA)return Mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Zg(c,o,u)}catch(p){return Mo(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Xp(d.target)){const p=new vt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,sn.newNoDocument(p,t))}u.Be&&(n.set(c,u.ke()),u.Ke())}}));let r=Ut();this.Je.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Ff(t,n,this.Ze,this.je,r);return this.je=As(),this.He=Ch(),this.Je=Ch(),this.Ze=new fe(Lt),o}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new yE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Ue(Lt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Ue(Lt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new yE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Ch(){return new fe(vt.comparator)}function vE(){return new fe(vt.comparator)}const ZD={asc:"ASCENDING",desc:"DESCENDING"},WD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JD={and:"AND",or:"OR"};class tN{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Zp(e,t){return e.useProto3Json||Pf(t)?t:{value:t}}function uf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function OA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function eN(e,t){return uf(e,t.toTimestamp())}function Hi(e){return Yt(!!e,49232),St.fromTimestamp((function(n){const r=Tr(n);return new oe(r.seconds,r.nanos)})(e))}function Wg(e,t){return Wp(e,t).canonicalString()}function Wp(e,t){const n=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?n:n.child(t)}function PA(e){const t=ae.fromString(e);return Yt(zA(t),10190,{key:t.toString()}),t}function Jp(e,t){return Wg(e.databaseId,t.path)}function hp(e,t){const n=PA(t);if(n.get(1)!==e.databaseId.projectId)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(LA(n))}function kA(e,t){return Wg(e.databaseId,t)}function nN(e){const t=PA(e);return t.length===4?ae.emptyPath():LA(t)}function tg(e){return new ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function LA(e){return Yt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function _E(e,t,n){return{name:Jp(e,t),fields:n.value.mapValue.fields}}function iN(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Yt(v===void 0||typeof v=="string",58123),Je.fromBase64String(v||"")):(Yt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Je.fromUint8Array(v||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?it.UNKNOWN:NA(g.code);return new gt(v,g.message||"")})(c);n=new MA(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=hp(e,r.document.name),u=Hi(r.document.updateTime),c=r.document.createTime?Hi(r.document.createTime):St.min(),d=new Gn({mapValue:{fields:r.document.fields}}),p=sn.newFoundDocument(o,u,c,d),g=r.targetIds||[],v=r.removedTargetIds||[];n=new zh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=hp(e,r.document),u=r.readTime?Hi(r.readTime):St.min(),c=sn.newNoDocument(o,u),d=r.removedTargetIds||[];n=new zh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=hp(e,r.document),u=r.removedTargetIds||[];n=new zh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new KD(o,u),d=r.targetId;n=new VA(d,c)}}return n}function sN(e,t){let n;if(t instanceof Lu)n={update:_E(e,t.key,t.value)};else if(t instanceof DA)n={delete:Jp(e,t.key)};else if(t instanceof ba)n={update:_E(e,t.key,t.data),updateMask:dN(t.fieldMask)};else{if(!(t instanceof HD))return Tt(16599,{dt:t.type});n={verify:Jp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const d=c.transform;if(d instanceof Au)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof lf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Tt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:eN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(e,t.precondition)),n}function rN(e,t){return e&&e.length>0?(Yt(t!==void 0,14353),e.map((n=>(function(o,u){let c=o.updateTime?Hi(o.updateTime):Hi(u);return c.isEqual(St.min())&&(c=Hi(u)),new zD(c,o.transformResults||[])})(n,t)))):[]}function aN(e,t){return{documents:[kA(e,t.path)]}}function oN(e,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kA(e,o);const u=(function(g){if(g.length!==0)return jA(Qi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(b){return{field:yo(b.field),direction:cN(b.dir)}})(v)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Zp(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function lN(e){let t=nN(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Yt(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const b=UA(T);return b instanceof Qi&&dA(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((b=>(function(R){return new of(vo(R.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let b;return b=typeof T=="object"?T.value:T,Pf(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,w=T.values||[];return new af(w,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const b=!T.before,w=T.values||[];return new af(w,b)})(n.endAt)),AD(t,o,c,u,d,"F",p,g)}function uN(e,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function UA(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vo(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return Le.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return Le.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vo(n.unaryFilter.field);return Le.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Le.create(vo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Qi.create(n.compositeFilter.filters.map((r=>UA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(e):Tt(30097,{filter:e})}function cN(e){return ZD[e]}function hN(e){return WD[e]}function fN(e){return JD[e]}function yo(e){return{fieldPath:e.canonicalString()}}function vo(e){return Ze.fromServerFormat(e.fieldPath)}function jA(e){return e instanceof Le?(function(n){if(n.op==="=="){if(aE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(rE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(rE(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:hN(n.op),value:n.value}}})(e):e instanceof Qi?(function(n){const r=n.getFilters().map((o=>jA(o)));return r.length===1?r[0]:{compositeFilter:{op:fN(n.op),filters:r}}})(e):Tt(54877,{filter:e})}function dN(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function zA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function BA(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class hr{constructor(t,n,r,o,u=St.min(),c=St.min(),d=Je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class mN{constructor(t){this.yt=t}}function pN(e){const t=lN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?$p(t,t.limit,"L"):t}class gN{constructor(){this.Sn=new yN}addToCollectionParentIndex(t,n){return this.Sn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(_r.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(_r.min())}updateCollectionGroup(t,n,r){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class yN{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Ue(ae.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ue(ae.comparator)).toArray()}}const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FA=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(FA,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class Lo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Lo(0)}static ar(){return new Lo(-1)}}const EE="LruGarbageCollector",vN=1048576;function bE([e,t],[n,r]){const o=Lt(e,n);return o===0?Lt(t,r):o}class _N{constructor(t){this.Pr=t,this.buffer=new Ue(bE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TN{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ct(EE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?ct(EE,"Ignoring IndexedDB error during garbage collection: ",n):await Fo(n)}await this.Ar(3e5)}))}}class EN{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(Of.ce);const r=new _N(n);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(TE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,o,u,c,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,d=Date.now(),this.removeTargets(t,r,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),po()<=kt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function bN(e,t){return new EN(e,t)}class SN{constructor(){this.changes=new Ea((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?nt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class AN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class wN{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&du(r.mutation,o,ui.empty(),oe.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Ut()){const o=oa();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let c=su();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=oa();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Ut())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,r,o){let u=As();const c=fu(),d=(function(){return fu()})();return n.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ba)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),du(v.mutation,g,v.mutation.getFieldMask(),oe.now())):c.set(g.key,ui.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>d.set(g,new AN(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const r=fu();let o=new fe(((c,d)=>c-d)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=r.get(p)||ui.empty();v=d.applyToLocalView(g,v),r.set(p,v);const T=(o.get(d.batchId)||Ut()).add(p);o=o.insert(d.batchId,T)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,T=bA();v.forEach((b=>{if(!u.has(b)){const w=xA(n.get(b),r.get(b));w!==null&&T.set(b,w),u=u.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return nt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return wD(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):CD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):nt.resolve(oa());let d=Tu,p=u;return c.next((g=>nt.forEach(g,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(v)?nt.resolve():this.remoteDocumentCache.getEntry(t,v).next((b=>{p=p.insert(v,b)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((v=>({batchId:d,changes:EA(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((r=>{let o=su();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let c=su();return this.indexManager.getCollectionParents(t,u).next((d=>nt.forEach(d,(p=>{const g=(function(T,b){return new Lf(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))}));let d=su();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&du(v.mutation,g,ui.empty(),oe.now()),jf(n,g)&&(d=d.insert(p,g))})),d}))}}class CN{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return nt.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:pN(o.bundledQuery),readTime:Hi(o.readTime)}})(n)),nt.resolve()}}class RN{constructor(){this.overlays=new fe(vt.comparator),this.Lr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=oa();return nt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.bt(t,n,u)})),nt.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),nt.resolve()}getOverlaysForCollection(t,n,r){const o=oa(),u=n.length+1,c=new vt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new fe(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=oa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return nt.resolve(d)}bt(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new GD(n,r));let u=this.Lr.get(n);u===void 0&&(u=Ut(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class xN{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}class Jg{constructor(){this.kr=new Ue(Fe.Kr),this.qr=new Ue(Fe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Fe(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new Fe(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new vt(new ae([])),r=new Fe(n,t),o=new Fe(n,t+1),u=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new vt(new ae([])),r=new Fe(n,t),o=new Fe(n,t+1);let u=Ut();return this.qr.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new Fe(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return vt.comparator(t.key,n.key)||Lt(t.Hr,n.Hr)}static Ur(t,n){return Lt(t.Hr,n.Hr)||vt.comparator(t.key,n.key)}}class IN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ue(Fe.Kr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new qD(u,n,r,o);this.mutationQueue.push(c);for(const d of o)this.Jr=this.Jr.add(new Fe(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?qg:this.Yn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Fe(n,0),o=new Fe(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(c=>{const d=this.Zr(c.Hr);u.push(d)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ue(Lt);return n.forEach((o=>{const u=new Fe(o,0),c=new Fe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(d=>{r=r.add(d.Hr)}))})),nt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;vt.isDocumentKey(u)||(u=u.child(""));const c=new Fe(new vt(u),0);let d=new Ue(Lt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)}),c),nt.resolve(this.Yr(d))}Yr(t){const n=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Yt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return nt.forEach(n.mutations,(o=>{const u=new Fe(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new Fe(n,0),o=this.Jr.firstAfterOrEqual(r);return nt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class DN{constructor(t){this.ti=t,this.docs=(function(){return new fe(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return nt.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let r=As();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),nt.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=As();const c=n.path,d=new vt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||eD(tD(v),r)<=0||(o.has(v.key)||jf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,n,r,o){Tt(9500)}ni(t,n){return nt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new NN(this)}getSize(t){return nt.resolve(this.size)}}class NN extends SN{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),nt.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class VN{constructor(t){this.persistence=t,this.ri=new Ea((n=>Yg(n)),Qg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new Jg,this.targetCount=0,this.oi=Lo._r()}forEachTarget(t,n){return this.ri.forEach(((r,o)=>n(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),nt.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Lo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.lr(n),nt.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return nt.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),nt.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return nt.resolve(r)}containsKey(t,n){return nt.resolve(this.si.containsKey(n))}}class HA{constructor(t,n){this._i={},this.overlays={},this.ai=new Of(0),this.ui=!1,this.ui=!0,this.ci=new xN,this.referenceDelegate=t(this),this.li=new VN(this),this.indexManager=new gN,this.remoteDocumentCache=(function(o){return new DN(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new mN(n),this.Pi=new CN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new RN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new IN(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){ct("MemoryPersistence","Starting transaction:",t);const o=new MN(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return nt.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class MN extends iD{constructor(t){super(),this.currentSequenceNumber=t}}class ty{constructor(t){this.persistence=t,this.Ri=new Jg,this.Ai=null}static Vi(t){return new ty(t)}get di(){if(this.Ai)return this.Ai;throw Tt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),nt.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(r=>{const o=vt.fromPath(r);return this.mi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return nt.or([()=>nt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class cf{constructor(t,n){this.persistence=t,this.fi=new Ea((r=>aD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=bN(this,n)}static Vi(t,n){return new cf(t,n)}Ti(){}Ii(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return nt.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?nt.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,n).next((d=>{d||(r++,u.removeEntry(c,St.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),nt.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Lh(t.data.value)),n}wr(t,n,r){return nt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return nt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ey{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=o}static Es(t,n){let r=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ey(t,n.fromCache,r,o)}}class ON{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class PN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return EI()?8:sD(an())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.gs(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,n,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new ON;return this.ys(t,n,c).next((d=>{if(u.result=d,this.As)return this.ws(t,n,c,d.size)}))})).next((()=>u.result))}ws(t,n,r,o){return r.documentReadCount<this.Vs?(po()<=kt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(po()<=kt.DEBUG&&ct("QueryEngine","Query:",go(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(po()<=kt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fi(n))):nt.resolve())}gs(t,n){if(cE(n))return nt.resolve(null);let r=Fi(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=$p(n,null,"F"),r=Fi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ut(...u);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.bs(n,d);return this.Ss(n,g,c,p.readTime)?this.gs(t,$p(n,null,"F")):this.Ds(t,g,n,p)}))))})))))}ps(t,n,r,o){return cE(n)||o.isEqual(St.min())?nt.resolve(null):this.fs.getDocuments(t,r).next((u=>{const c=this.bs(n,u);return this.Ss(n,c,r,o)?nt.resolve(null):(po()<=kt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),go(n)),this.Ds(t,c,n,J2(o,Tu)).next((d=>d)))}))}bs(t,n){let r=new Ue(_A(t));return n.forEach(((o,u)=>{jf(t,u)&&(r=r.add(u))})),r}Ss(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,r){return po()<=kt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",go(n)),this.fs.getDocumentsMatchingQuery(t,n,_r.min(),r)}Ds(t,n,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const ny="LocalStore",kN=3e8;class LN{constructor(t,n,r,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new fe(Lt),this.Fs=new Ea((u=>Yg(u)),Qg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function UN(e,t,n,r){return new LN(e,t,n,r)}async function qA(e,t){const n=wt(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],d=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function jN(e,t){const n=wt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const T=g.batch,b=T.keys();let w=nt.resolve();return b.forEach((R=>{w=w.next((()=>v.getEntry(p,R))).next((V=>{const U=g.docVersions.get(R);Yt(U!==null,48541),V.version.compareTo(U)<0&&(T.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),v.addEntry(V)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=Ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function GA(e){const t=wt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function zN(e,t){const n=wt(e),r=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const d=[];t.targetChanges.forEach(((v,T)=>{const b=o.get(T);if(!b)return;d.push(n.li.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,v.addedDocuments,T))));let w=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?w=w.withResumeToken(Je.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,r)),o=o.insert(T,w),(function(V,U,G){return V.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=kN?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(b,w,v)&&d.push(n.li.updateTargetData(u,w))}));let p=As(),g=Ut();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(BN(u,c,t.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!r.isEqual(St.min())){const v=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));d.push(v)}return nt.waitFor(d).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function BN(e,t,n){let r=Ut(),o=Ut();return n.forEach((u=>r=r.add(u))),t.getEntries(e,r).next((u=>{let c=As();return n.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ct(ny,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function FN(e,t){const n=wt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=qg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function HN(e,t){const n=wt(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,t).next((u=>u?(o=u,nt.resolve(o)):n.li.allocateTargetId(r).next((c=>(o=new hr(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function eg(e,t,n){const r=wt(e),o=r.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ho(c))throw c;ct(ny,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function SE(e,t,n){const r=wt(e);let o=St.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=wt(p),b=T.Fs.get(v);return b!==void 0?nt.resolve(T.vs.get(b)):T.li.getTargetData(g,v)})(r,c,Fi(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,n?o:St.min(),n?u:Ut()))).next((d=>(qN(r,xD(t),d),{documents:d,ks:u})))))}function qN(e,t,n){let r=e.Ms.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),e.Ms.set(t,r)}class AE{constructor(){this.activeTargetIds=OD()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GN{constructor(){this.vo=new AE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new AE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class KN{Mo(t){}shutdown(){}}const wE="ConnectivityMonitor";class CE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ct(wE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ct(wE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rh=null;function ng(){return Rh===null?Rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rh++,"0x"+Rh.toString(16)}const fp="RestConnection",YN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class QN{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===sf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,n,r,o,u){const c=ng(),d=this.Qo(t,n.toUriEncodedString());ct(fp,`Sending RPC '${t}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(d),v=va(g);return this.zo(t,d,p,r,v).then((T=>(ct(fp,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw Mo(fp,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",r),T}))}jo(t,n,r,o,u,c){return this.Wo(t,n,r,o,u)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const r=YN[t];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class XN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const en="WebChannelConnection",eu=(e,t,n)=>{e.listen(t,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class wo extends QN{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!wo.c_){const t=XS();eu(t,QS.STAT_EVENT,(n=>{n.stat===qp.PROXY?ct(en,"STAT_EVENT: detected buffering proxy"):n.stat===qp.NOPROXY&&ct(en,"STAT_EVENT: detected no buffering proxy")})),wo.c_=!0}}zo(t,n,r,o,u){const c=ng();return new Promise(((d,p)=>{const g=new KS;g.setWithCredentials(!0),g.listenOnce(YS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case kh.NO_ERROR:const T=g.getResponseJson();ct(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case kh.TIMEOUT:ct(en,`RPC '${t}' ${c} timed out`),p(new gt(it.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const b=g.getStatus();if(ct(en,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const R=w?.error;if(R&&R.status&&R.message){const V=(function(G){const $=G.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf($)>=0?$:it.UNKNOWN})(R.status);p(new gt(V,R.message))}else p(new gt(it.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new gt(it.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ct(en,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);ct(en,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",v,r,15)}))}T_(t,n,r){const o=ng(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=u.join("");ct(en,`Creating RPC '${t}' stream ${o}: ${g}`,d);const v=c.createWebChannel(g,d);this.I_(v);let T=!1,b=!1;const w=new XN({Ho:R=>{b?ct(en,`Not sending because RPC '${t}' stream ${o} is closed:`,R):(T||(ct(en,`Opening RPC '${t}' stream ${o} transport.`),v.open(),T=!0),ct(en,`RPC '${t}' stream ${o} sending:`,R),v.send(R))},Jo:()=>v.close()});return eu(v,iu.EventType.OPEN,(()=>{b||(ct(en,`RPC '${t}' stream ${o} transport opened.`),w.i_())})),eu(v,iu.EventType.CLOSE,(()=>{b||(b=!0,ct(en,`RPC '${t}' stream ${o} transport closed`),w.o_(),this.E_(v))})),eu(v,iu.EventType.ERROR,(R=>{b||(b=!0,Mo(en,`RPC '${t}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),w.o_(new gt(it.UNAVAILABLE,"The operation could not be completed")))})),eu(v,iu.EventType.MESSAGE,(R=>{if(!b){const V=R.data[0];Yt(!!V,16349);const U=V,G=U?.error||U[0]?.error;if(G){ct(en,`RPC '${t}' stream ${o} received error:`,G);const $=G.status;let Q=(function(ut){const D=De[ut];if(D!==void 0)return NA(D)})($),rt=G.message;Q===void 0&&(Q=it.INTERNAL,rt="Unknown error status: "+$+" with message "+G.message),b=!0,w.o_(new gt(Q,rt)),v.close()}else ct(en,`RPC '${t}' stream ${o} received:`,V),w.__(V)}})),wo.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $S()}}function $N(e){return new wo(e)}function dp(){return typeof document<"u"?document:null}function Hf(e){return new tN(e,!0)}wo.c_=!1;class KA{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const RE="PersistentStream";class YA{constructor(t,n,r,o,u,c,d,p){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new gt(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(RE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ct(RE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZN extends YA{constructor(t,n,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=iN(this.serializer,t),r=(function(u){if(!("targetChange"in u))return St.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Hi(c.readTime):St.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=tg(this.serializer),n.addTarget=(function(u,c){let d;const p=c.target;if(d=Xp(p)?{documents:aN(u,p)}:{query:oN(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=OA(u,c.resumeToken);const g=Zp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(St.min())>0){d.readTime=uf(u,c.snapshotVersion.toTimestamp());const g=Zp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const r=uN(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=tg(this.serializer),n.removeTarget=t,this.K_(n)}}class WN extends YA{constructor(t,n,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=rN(t.writeResults,t.commitTime),r=Hi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=tg(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>sN(this.serializer,r)))};this.K_(n)}}class JN{}class tV extends JN{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,Wp(n,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(it.UNKNOWN,u.toString())}))}jo(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,Wp(n,r),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(it.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function eV(e,t,n,r){return new tV(e,t,n,r)}class nV{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(n),this.aa=!1):ct("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class iV{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Sa(this)&&(ct(ga,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await ju(g),g.Va.set("Unknown"),g.Ea.delete(4),await qf(g)})(this))}))})),this.Va=new nV(r,o)}}async function qf(e){if(Sa(e))for(const t of e.Ra)await t(!0)}async function ju(e){for(const t of e.Ra)await t(!1)}function QA(e,t){const n=wt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ay(n)?ry(n):qo(n).O_()&&sy(n,t))}function iy(e,t){const n=wt(e),r=qo(n);n.Ia.delete(t),r.O_()&&XA(n,t),n.Ia.size===0&&(r.O_()?r.L_():Sa(n)&&n.Va.set("Unknown"))}function sy(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qo(e).Z_(t)}function XA(e,t){e.da.$e(t),qo(e).X_(t)}function ry(e){e.da=new $D({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),qo(e).start(),e.Va.ua()}function ay(e){return Sa(e)&&!qo(e).x_()&&e.Ia.size>0}function Sa(e){return wt(e).Ea.size===0}function $A(e){e.da=void 0}async function sV(e){e.Va.set("Online")}async function rV(e){e.Ia.forEach(((t,n)=>{sy(e,t)}))}async function aV(e,t){$A(e),ay(e)?(e.Va.ha(t),ry(e)):e.Va.set("Unknown")}async function oV(e,t,n){if(e.Va.set("Online"),t instanceof MA&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.da.removeTarget(d))})(e,t)}catch(r){ct(ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await hf(e,r)}else if(t instanceof zh?e.da.Xe(t):t instanceof VA?e.da.st(t):e.da.tt(t),!n.isEqual(St.min()))try{const r=await GA(e.localStore);n.compareTo(r)>=0&&await(function(u,c){const d=u.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Je.EMPTY_BYTE_STRING,v.snapshotVersion)),XA(u,p);const T=new hr(v.target,p,g,v.sequenceNumber);sy(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(r){ct(ga,"Failed to raise snapshot:",r),await hf(e,r)}}async function hf(e,t,n){if(!Ho(t))throw t;e.Ea.add(1),await ju(e),e.Va.set("Offline"),n||(n=()=>GA(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ct(ga,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await qf(e)}))}function ZA(e,t){return t().catch((n=>hf(e,n,t)))}async function Gf(e){const t=wt(e),n=Sr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qg;for(;lV(t);)try{const o=await FN(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,uV(t,o)}catch(o){await hf(t,o)}WA(t)&&JA(t)}function lV(e){return Sa(e)&&e.Ta.length<10}function uV(e,t){e.Ta.push(t);const n=Sr(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function WA(e){return Sa(e)&&!Sr(e).x_()&&e.Ta.length>0}function JA(e){Sr(e).start()}async function cV(e){Sr(e).ra()}async function hV(e){const t=Sr(e);for(const n of e.Ta)t.ea(n.mutations)}async function fV(e,t,n){const r=e.Ta.shift(),o=$g.from(r,t,n);await ZA(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await Gf(e)}async function dV(e,t){t&&Sr(e).Y_&&await(async function(r,o){if((function(c){return YD(c)&&c!==it.ABORTED})(o.code)){const u=r.Ta.shift();Sr(r).B_(),await ZA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Gf(r)}})(e,t),WA(e)&&JA(e)}async function xE(e,t){const n=wt(e);n.asyncQueue.verifyOperationInProgress(),ct(ga,"RemoteStore received new credentials");const r=Sa(n);n.Ea.add(3),await ju(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await qf(n)}async function mV(e,t){const n=wt(e);t?(n.Ea.delete(2),await qf(n)):t||(n.Ea.add(2),await ju(n),n.Va.set("Unknown"))}function qo(e){return e.ma||(e.ma=(function(n,r,o){const u=wt(n);return u.sa(),new ZN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Zo:sV.bind(null,e),Yo:rV.bind(null,e),t_:aV.bind(null,e),J_:oV.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),ay(e)?ry(e):e.Va.set("Unknown")):(await e.ma.stop(),$A(e))}))),e.ma}function Sr(e){return e.fa||(e.fa=(function(n,r,o){const u=wt(n);return u.sa(),new WN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:cV.bind(null,e),t_:dV.bind(null,e),ta:hV.bind(null,e),na:fV.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await Gf(e)):(await e.fa.stop(),e.Ta.length>0&&(ct(ga,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class oy{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const c=Date.now()+r,d=new oy(t,n,c,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(e,t){if(Ss("AsyncQueue",`${t}: ${e}`),Ho(e))return new gt(it.UNAVAILABLE,`${t}: ${e}`);throw e}class Co{static emptySet(t){return new Co(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=su(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Co)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Co;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class IE{constructor(){this.ga=new fe(vt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class Uo{constructor(t,n,r,o,u,c,d,p,g){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,r,o,u){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Uo(t,n,Co.emptySet(n),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class pV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class gV{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=wt(n),u=o.queries;o.queries=DE(),u.forEach(((c,d)=>{for(const p of d.ba)p.onError(r)}))})(this,new gt(it.ABORTED,"Firestore shutting down"))}}function DE(){return new Ea((e=>vA(e)),Uf)}async function yV(e,t){const n=wt(e);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new pV,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=ly(c,`Initialization of query '${go(t.query)}' failed`);return void t.onError(d)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&uy(n)}async function vV(e,t){const n=wt(e),r=t.query;let o=3;const u=n.queries.get(r);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _V(e,t){const n=wt(e);let r=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const d of c.ba)d.Fa(o)&&(r=!0);c.wa=o}}r&&uy(n)}function TV(e,t,n){const r=wt(e),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(t)}function uy(e){e.Ca.forEach((t=>{t.next()}))}var ig,NE;(NE=ig||(ig={})).Ma="default",NE.Cache="cache";class EV{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Uo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ig.Cache}}class t1{constructor(t){this.key=t}}class e1{constructor(t){this.key=t}}class bV{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=_A(t),this.tu=new Co(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new IE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const b=o.get(v),w=jf(this.query,T)?T:null,R=!!b&&this.mutatedKeys.has(b.key),V=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let U=!1;b&&w?b.data.isEqual(w.data)?R!==V&&(r.track({type:3,doc:w}),U=!0):this.su(b,w)||(r.track({type:2,doc:w}),U=!0,(p&&this.eu(w,p)>0||g&&this.eu(w,g)<0)&&(d=!0)):!b&&w?(r.track({type:0,doc:w}),U=!0):b&&!w&&(r.track({type:1,doc:b}),U=!0,(p||g)&&(d=!0)),U&&(w?(c=c.add(w),u=V?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:d,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,T)=>(function(w,R){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:U})}};return V(w)-V(R)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),o=o??!1;const d=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new Uo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new e1(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new t1(r))})),n}cu(t){this.Za=t.ks,this.Ya=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const cy="SyncEngine";class SV{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class AV{constructor(t){this.key=t,this.hu=!1}}class wV{constructor(t,n,r,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ea((d=>vA(d)),Uf),this.Iu=new Map,this.Eu=new Set,this.Ru=new fe(vt.comparator),this.Au=new Map,this.Vu=new Jg,this.du={},this.mu=new Map,this.fu=Lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CV(e,t,n=!0){const r=o1(e);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await n1(r,t,n,!0),o}async function RV(e,t){const n=o1(e);await n1(n,t,!0,!1)}async function n1(e,t,n,r){const o=await HN(e.localStore,Fi(t)),u=o.targetId,c=e.sharedClientState.addLocalQueryTarget(u,n);let d;return r&&(d=await xV(e,t,u,c==="current",o.resumeToken)),e.isPrimaryClient&&n&&QA(e.remoteStore,o),d}async function xV(e,t,n,r,o){e.pu=(T,b,w)=>(async function(V,U,G,$){let Q=U.view.ru(G);Q.Ss&&(Q=await SE(V.localStore,U.query,!1).then((({documents:D})=>U.view.ru(D,Q))));const rt=$&&$.targetChanges.get(U.targetId),at=$&&$.targetMismatches.get(U.targetId)!=null,ut=U.view.applyChanges(Q,V.isPrimaryClient,rt,at);return ME(V,U.targetId,ut.au),ut.snapshot})(e,T,b,w);const u=await SE(e.localStore,t,!0),c=new bV(t,u.ks),d=c.ru(u.documents),p=Uu.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",o),g=c.applyChanges(d,e.isPrimaryClient,p);ME(e,n,g.au);const v=new SV(t,n,c);return e.Tu.set(t,v),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function IV(e,t,n){const r=wt(e),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Uf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await eg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&iy(r.remoteStore,o.targetId),sg(r,o.targetId)})).catch(Fo)):(sg(r,o.targetId),await eg(r.localStore,o.targetId,!0))}async function DV(e,t){const n=wt(e),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iy(n.remoteStore,r.targetId))}async function NV(e,t,n){const r=UV(e);try{const o=await(function(c,d){const p=wt(c),g=oe.now(),v=d.reduce(((w,R)=>w.add(R.key)),Ut());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let R=As(),V=Ut();return p.xs.getEntries(w,v).next((U=>{R=U,R.forEach(((G,$)=>{$.isValidDocument()||(V=V.add(G))}))})).next((()=>p.localDocuments.getOverlayedDocuments(w,R))).next((U=>{T=U;const G=[];for(const $ of d){const Q=FD($,T.get($.key).overlayedDocument);Q!=null&&G.push(new ba($.key,Q,cA(Q.value.mapValue),Es.exists(!0)))}return p.mutationQueue.addMutationBatch(w,g,G,d)})).next((U=>{b=U;const G=U.applyToLocalDocumentSet(T,V);return p.documentOverlayCache.saveOverlays(w,U.batchId,G)}))})).then((()=>({batchId:b.batchId,changes:EA(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new fe(Lt)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(r,o.batchId,n),await zu(r,o.changes),await Gf(r.remoteStore)}catch(o){const u=ly(o,"Failed to persist write");n.reject(u)}}async function i1(e,t){const n=wt(e);try{const r=await zN(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Yt(c.hu,14607):o.removedDocuments.size>0&&(Yt(c.hu,42227),c.hu=!1))})),await zu(n,r,t)}catch(r){await Fo(r)}}function VE(e,t,n){const r=wt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=wt(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,T)=>{for(const b of T.ba)b.va(d)&&(g=!0)})),g&&uy(p)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function VV(e,t,n){const r=wt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new fe(vt.comparator);c=c.insert(u,sn.newNoDocument(u,St.min()));const d=Ut().add(u),p=new Ff(St.min(),new Map,new fe(Lt),c,d);await i1(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(t),hy(r)}else await eg(r.localStore,t,!1).then((()=>sg(r,t,n))).catch(Fo)}async function MV(e,t){const n=wt(e),r=t.batch.batchId;try{const o=await jN(n.localStore,t);r1(n,r,null),s1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zu(n,o)}catch(o){await Fo(o)}}async function OV(e,t,n){const r=wt(e);try{const o=await(function(c,d){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(Yt(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);r1(r,t,n),s1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await zu(r,o)}catch(o){await Fo(o)}}function s1(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function r1(e,t,n){const r=wt(e);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function sg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((r=>{e.Vu.containsKey(r)||a1(e,r)}))}function a1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(iy(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),hy(e))}function ME(e,t,n){for(const r of n)r instanceof t1?(e.Vu.addReference(r.key,t),PV(e,r)):r instanceof e1?(ct(cy,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||a1(e,r.key)):Tt(19791,{wu:r})}function PV(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(ct(cy,"New document in limbo: "+n),e.Eu.add(r),hy(e))}function hy(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vt(ae.fromString(t)),r=e.fu.next();e.Au.set(r,new AV(n)),e.Ru=e.Ru.insert(n,r),QA(e.remoteStore,new hr(Fi(yA(n.path)),r,"TargetPurposeLimboResolution",Of.ce))}}async function zu(e,t,n){const r=wt(e),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{c.push(r.pu(p,t,n).then((g=>{if((g||n)&&r.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=ey.Es(p.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(p,g){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(g,(b=>nt.forEach(b.Ts,(w=>v.persistence.referenceDelegate.addReference(T,b.targetId,w))).next((()=>nt.forEach(b.Is,(w=>v.persistence.referenceDelegate.removeReference(T,b.targetId,w)))))))))}catch(T){if(!Ho(T))throw T;ct(ny,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const w=v.vs.get(b),R=w.snapshotVersion,V=w.withLastLimboFreeSnapshotVersion(R);v.vs=v.vs.insert(b,V)}}})(r.localStore,u))}async function kV(e,t){const n=wt(e);if(!n.currentUser.isEqual(t)){ct(cy,"User change. New user:",t.toKey());const r=await qA(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new gt(it.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await zu(n,r.Ns)}}function LV(e,t){const n=wt(e),r=n.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function o1(e){const t=wt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=i1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=VV.bind(null,t),t.Pu.J_=_V.bind(null,t.eventManager),t.Pu.yu=TV.bind(null,t.eventManager),t}function UV(e){const t=wt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OV.bind(null,t),t}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return UN(this.persistence,new PN,t.initialUser,this.serializer)}Cu(t){return new HA(ty.Vi,this.serializer)}Du(t){return new GN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class jV extends ff{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TN(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new HA((r=>cf.Vi(r,n)),this.serializer)}}class rg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kV.bind(null,this.syncEngine),await mV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gV})()}createDatastore(t){const n=Hf(t.databaseInfo.databaseId),r=$N(t.databaseInfo);return eV(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,c,d){return new iV(r,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>VE(this.syncEngine,n,0)),(function(){return CE.v()?new CE:new KN})())}createSyncEngine(t,n){return(function(o,u,c,d,p,g,v){const T=new wV(o,u,c,d,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=wt(n);ct(ga,"RemoteStore shutting down."),r.Ea.add(5),await ju(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rg.provider={build:()=>new rg};class zV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ar="FirestoreClient";class BV{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ct(Ar,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ct(Ar,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=ly(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function mp(e,t){e.asyncQueue.verifyOperationInProgress(),ct(Ar,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async o=>{r.isEqual(o)||(await qA(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function OE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await FV(e);ct(Ar,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>xE(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,o)=>xE(t.remoteStore,o))),e._onlineComponents=t}async function FV(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ct(Ar,"Using user provided OfflineComponentProvider");try{await mp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await mp(e,new ff)}}else ct(Ar,"Using default OfflineComponentProvider"),await mp(e,new jV(void 0));return e._offlineComponents}async function l1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ct(Ar,"Using user provided OnlineComponentProvider"),await OE(e,e._uninitializedComponentsProvider._online)):(ct(Ar,"Using default OnlineComponentProvider"),await OE(e,new rg))),e._onlineComponents}function HV(e){return l1(e).then((t=>t.syncEngine))}async function qV(e){const t=await l1(e),n=t.eventManager;return n.onListen=CV.bind(null,t.syncEngine),n.onUnlisten=IV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=RV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=DV.bind(null,t.syncEngine),n}function GV(e,t,n={}){const r=new gr;return e.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const v=new zV({next:b=>{v.Nu(),c.enqueueAndForget((()=>vV(u,T))),b.fromCache&&p.source==="server"?g.reject(new gt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new EV(d,v,{includeMetadataChanges:!0,Ka:!0});return yV(u,T)})(await qV(e),e.asyncQueue,t,n,r))),r.promise}function KV(e,t){const n=new gr;return e.asyncQueue.enqueueAndForget((async()=>NV(await HV(e),t,n))),n.promise}function u1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const YV="ComponentProvider",PE=new Map;function QV(e,t,n,r,o){return new uD(e,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,u1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const c1="firestore.googleapis.com",kE=!0;class LE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c1,this.ssl=kE}else this.host=t.host,this.ssl=t.ssl??kE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vN)throw new gt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}W2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kf{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new F2;switch(r.type){case"firstParty":return new K2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=PE.get(n);r&&(ct(YV,"Removing Datastore"),PE.delete(n),r.terminate())})(this),Promise.resolve()}}function XV(e,t,n,r={}){e=ef(e,Kf);const o=va(t),u=e._getSettings(),c={...u,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;o&&(kg(`https://${d}`),Lg("Firestore",!0)),u.host!==c1&&u.host!==d&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:r};if(!da(p,c)&&(e._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=nn.MOCK_USER;else{g=jS(r.mockUserToken,e._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new gt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(T)}e._authCredentials=new H2(new WS(g,v))}}class Yf{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Yf(this.firestore,t,this._query)}}class We{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new We(this.firestore,t,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ku(n,We._jsonSchema))return new We(t,r||null,new vt(ae.fromString(n.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Ve("string",We._jsonSchemaVersion),referencePath:Ve("string")};class yr extends Yf{constructor(t,n,r){super(t,n,yA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new We(this.firestore,null,new vt(t))}withConverter(t){return new yr(this.firestore,t,this._path)}}function au(e,t,...n){if(e=En(e),JS("collection","path",t),e instanceof Kf){const r=ae.fromString(t,...n);return ZT(r),new yr(e,null,r)}{if(!(e instanceof We||e instanceof yr))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ae.fromString(t,...n));return ZT(r),new yr(e.firestore,null,r)}}function $V(e,t,...n){if(e=En(e),arguments.length===1&&(t=Fg.newId()),JS("doc","path",t),e instanceof Kf){const r=ae.fromString(t,...n);return $T(r),new We(e,null,new vt(r))}{if(!(e instanceof We||e instanceof yr))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ae.fromString(t,...n));return $T(r),new We(e.firestore,e instanceof yr?e.converter:null,new vt(r))}}const UE="AsyncQueue";class jE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KA(this,"async_queue_retry"),this._c=()=>{const r=dp();r&&ct(UE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ho(t))throw t;ct(UE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",zE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=oy.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:zE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function zE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class fy extends Kf{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new jE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jE(t),this._firestoreClient=void 0,await t}}}function ZV(e,t){const n=typeof e=="object"?e:zg(),r=typeof e=="string"?e:sf,o=Mf(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=kS("firestore");u&&XV(o,...u)}return o}function h1(e){if(e._terminated)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||WV(e),e._firestoreClient}function WV(e){const t=e._freezeSettings(),n=QV(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new BV(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(e._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(Je.fromBase64String(t))}catch(n){throw new gt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Kn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ku(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Ve("string",Kn._jsonSchemaVersion),bytes:Ve("string")};class f1{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new gt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class dy{constructor(t){this._methodName=t}}class qi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new gt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(t){if(ku(t,qi._jsonSchema))return new qi(t.latitude,t.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Ve("string",qi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class fi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ku(t,fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new fi(t.vectorValues);throw new gt(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Ve("string",fi._jsonSchemaVersion),vectorValues:Ve("object")};const JV=/^__.*__$/;class tM{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ba(t,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(t,this.data,n,this.fieldTransforms)}}function d1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{dataSource:e})}}class my{constructor(t,n,r,o,u,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new my({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return df(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(d1(this.dataSource)&&JV.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class eM{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Hf(t)}createContext(t,n,r,o=!1){return new my({dataSource:t,methodName:n,targetDoc:r,path:Ze.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nM(e){const t=e._freezeSettings(),n=Hf(e._databaseId);return new eM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iM(e,t,n,r,o,u={}){const c=e.createContext(u.merge||u.mergeFields?2:0,t,n,o);y1("Data must be an object, but it was:",c,r);const d=p1(r,c);let p,g;if(u.merge)p=new ui(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const b=gy(t,T,n);if(!c.contains(b))throw new gt(it.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);aM(v,b)||v.push(b)}p=new ui(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new tM(new Gn(d),p,g)}class py extends dy{_toFieldTransform(t){return new UD(t.path,new Au)}isEqual(t){return t instanceof py}}function m1(e,t){if(g1(e=En(e)))return y1("Unsupported field value:",t,e),p1(e,t);if(e instanceof dy)return(function(r,o){if(!d1(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const d of r){let p=m1(d,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(e,t)}return(function(r,o){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=oe.fromDate(r);return{timestampValue:uf(o.serializer,u)}}if(r instanceof oe){const u=new oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(o.serializer,u)}}if(r instanceof qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:OA(o.serializer,r._byteString)};if(r instanceof We){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof fi)return(function(c,d){const p=c instanceof fi?c.toArray():c;return{mapValue:{fields:{[lA]:{stringValue:uA},[rf]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return Xg(d.serializer,v)}))}}}}}})(r,o);if(BA(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Hg(r)}`)})(e,t)}function p1(e,t){const n={};return nA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ta(e,((r,o)=>{const u=m1(o,t.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function g1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof oe||e instanceof qi||e instanceof Kn||e instanceof We||e instanceof dy||e instanceof fi||BA(e))}function y1(e,t,n){if(!g1(n)||!tA(n)){const r=Hg(n);throw r==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function gy(e,t,n){if((t=En(t))instanceof f1)return t._internalPath;if(typeof t=="string")return rM(e,t);throw df("Field path arguments must be of type string or ",e,!1,void 0,n)}const sM=new RegExp("[~\\*/\\[\\]]");function rM(e,t,n){if(t.search(sM)>=0)throw df(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new f1(...t.split("."))._internalPath}catch{throw df(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function df(e,t,n,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new gt(it.INVALID_ARGUMENT,d+e+p)}function aM(e,t){return e.some((n=>n.isEqual(t)))}class oM{convertValue(t,n="none"){switch(br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ta(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[rf].arrayValue?.values?.map((r=>Te(r.doubleValue)));return new fi(n)}convertGeoPoint(t){return new qi(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=kf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Eu(t));default:return null}}convertTimestamp(t){const n=Tr(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ae.fromString(t);Yt(zA(r),9688,{name:t});const o=new bu(r.get(1),r.get(3)),u=new vt(r.popFirst(5));return o.isEqual(n)||Ss(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class lM extends oM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,n)}}function uM(){return new py("serverTimestamp")}const BE="@firebase/firestore",FE="4.10.0";class v1{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(gy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cM extends v1{data(){return super.data()}}function hM(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new gt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function fM(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class xh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ro extends v1{constructor(t,n,r,o,u,c){super(t,n,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(gy("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ro._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ro._jsonSchema={type:Ve("string",Ro._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Bh extends Ro{data(t={}){return super.data(t)}}class xo{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new xh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Bh(this._firestore,this._userDataWriter,r.key,r,new xh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new gt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new Bh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new xh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new Bh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new xh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:dM(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=xo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Fg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function dM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}xo._jsonSchemaVersion="firestore/querySnapshot/1.0",xo._jsonSchema={type:Ve("string",xo._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};function Ih(e){e=ef(e,Yf);const t=ef(e.firestore,fy),n=h1(t),r=new lM(t);return hM(e._query),GV(n,e._query).then((o=>new xo(t,r,e,o)))}function mM(e,t){const n=ef(e.firestore,fy),r=$V(e),o=fM(e.converter,t),u=nM(e.firestore);return pM(n,[iM(u,"addDoc",r._key,o,e.converter!==null,{}).toMutation(r._key,Es.exists(!1))]).then((()=>r))}function pM(e,t){const n=h1(e);return KV(n,t)}(function(t,n=!0){B2(_a),ma(new vr("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),d=new fy(new q2(r.getProvider("auth-internal")),new Y2(c,r.getProvider("app-check-internal")),cD(c,o),c);return u={useFetchStreams:n,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Bi(BE,FE,t),Bi(BE,FE,"esm2020")})();const _1="firebasestorage.googleapis.com",gM="storageBucket",yM=120*1e3,vM=600*1e3;class Ji extends Wi{constructor(t,n,r=0){super(pp(t),`Firebase Storage: ${n} (${pp(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ji.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return pp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xi;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xi||(Xi={}));function pp(e){return"storage/"+e}function _M(){const e="An unknown error occurred, please check the error payload for server response.";return new Ji(Xi.UNKNOWN,e)}function TM(){return new Ji(Xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EM(){return new Ji(Xi.CANCELED,"User canceled the upload/download.")}function bM(e){return new Ji(Xi.INVALID_URL,"Invalid URL '"+e+"'.")}function SM(e){return new Ji(Xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function HE(e){return new Ji(Xi.INVALID_ARGUMENT,e)}function T1(){return new Ji(Xi.APP_DELETED,"The Firebase app was deleted.")}function AM(e){return new Ji(Xi.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ci{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ci.makeFromUrl(t,n)}catch{return new ci(t,"")}if(r.path==="")return r;throw SM(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(rt){rt.path.charAt(rt.path.length-1)==="/"&&(rt.path_=rt.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(rt){rt.path_=decodeURIComponent(rt.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${T}/${v}/b/${o}/o${b}`,"i"),R={bucket:1,path:3},V=n===_1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",G=new RegExp(`^https?://${V}/${o}/${U}`,"i"),Q=[{regex:d,indices:p,postModify:u},{regex:w,indices:R,postModify:g},{regex:G,indices:{bucket:1,path:2},postModify:g}];for(let rt=0;rt<Q.length;rt++){const at=Q[rt],ut=at.regex.exec(t);if(ut){const D=ut[at.indices.bucket];let A=ut[at.indices.path];A||(A=""),r=new ci(D,A),at.postModify(r);break}}if(r==null)throw bM(t);return r}}class wM{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function CM(e,t,n){let r=1,o=null,u=null,c=!1,d=0;function p(){return d===2}let g=!1;function v(...U){g||(g=!0,t.apply(null,U))}function T(U){o=setTimeout(()=>{o=null,e(w,p())},U)}function b(){u&&clearTimeout(u)}function w(U,...G){if(g){b();return}if(U){b(),v.call(null,U,...G);return}if(p()||c){b(),v.call(null,U,...G);return}r<64&&(r*=2);let Q;d===1?(d=2,Q=0):Q=(r+Math.random())*1e3,T(Q)}let R=!1;function V(U){R||(R=!0,b(),!g&&(o!==null?(U||(d=2),clearTimeout(o),T(0)):U||(d=1)))}return T(0),u=setTimeout(()=>{c=!0,V(!0)},n),V}function RM(e){e(!1)}function xM(e){return e!==void 0}function qE(e,t,n,r){if(r<t)throw HE(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw HE(`Invalid value for '${e}'. Expected ${n} or less.`)}function IM(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var mf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(mf||(mf={}));function DM(e,t){const n=e>=500&&e<600,o=[408,429].indexOf(e)!==-1,u=t.indexOf(e)!==-1;return n||o||u}class NM{constructor(t,n,r,o,u,c,d,p,g,v,T,b=!0,w=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=T,this.retry=b,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,V)=>{this.resolve_=R,this.reject_=V,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new Dh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const d=u.getErrorCode()===mf.NO_ERROR,p=u.getStatus();if(!d||DM(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===mf.ABORT;r(!1,new Dh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new Dh(g,u))})},n=(r,o)=>{const u=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());xM(p)?u(p):u()}catch(p){c(p)}else if(d!==null){const p=_M();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?T1():EM();c(p)}else{const p=TM();c(p)}};this.canceled_?n(!1,new Dh(!1,null,!0)):this.backoffId_=CM(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&RM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dh{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function VM(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function MM(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function OM(e,t){t&&(e["X-Firebase-GMPID"]=t)}function PM(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function kM(e,t,n,r,o,u,c=!0,d=!1){const p=IM(e.urlParams),g=e.url+p,v=Object.assign({},e.headers);return OM(v,t),VM(v,n),MM(v,u),PM(v,r),new NM(g,e.method,v,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,c,d)}function LM(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function UM(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}class pf{constructor(t,n){this._service=t,n instanceof ci?this._location=n:this._location=ci.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new pf(t,n)}get root(){const t=new ci(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UM(this._location.path)}get storage(){return this._service}get parent(){const t=LM(this._location.path);if(t===null)return null;const n=new ci(this._location.bucket,t);return new pf(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw AM(t)}}function GE(e,t){const n=t?.[gM];return n==null?null:ci.makeFromBucketSpec(n,e)}function jM(e,t,n,r={}){e.host=`${t}:${n}`;const o=va(t);o&&(kg(`https://${e.host}/b`),Lg("Storage",!0)),e._isUsingEmulator=!0,e._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(e._overrideAuthToken=typeof u=="string"?u:jS(u,e.app.options.projectId))}class zM{constructor(t,n,r,o,u,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=_1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yM,this._maxUploadRetryTime=vM,this._requests=new Set,o!=null?this._bucket=ci.makeFromBucketSpec(o,this._host):this._bucket=GE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ci.makeFromBucketSpec(this._url,t):this._bucket=GE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){qE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){qE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new pf(this,t)}_makeRequest(t,n,r,o,u=!0){if(this._deleted)return new wM(T1());{const c=kM(t,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const KE="@firebase/storage",YE="0.14.0";const E1="storage";function BM(e=zg(),t){e=En(e);const r=Mf(e,E1).getImmediate({identifier:t}),o=kS("storage");return o&&FM(r,...o),r}function FM(e,t,n,r={}){jM(e,t,n,r)}function HM(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new zM(n,r,o,t,_a)}function qM(){ma(new vr(E1,HM,"PUBLIC").setMultipleInstances(!0)),Bi(KE,YE,""),Bi(KE,YE,"esm2020")}qM();function b1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GM=b1,S1=new Ou("auth","Firebase",b1());const gf=new Ug("@firebase/auth");function KM(e,...t){gf.logLevel<=kt.WARN&&gf.warn(`Auth (${_a}): ${e}`,...t)}function Fh(e,...t){gf.logLevel<=kt.ERROR&&gf.error(`Auth (${_a}): ${e}`,...t)}function $i(e,...t){throw vy(e,...t)}function di(e,...t){return vy(e,...t)}function yy(e,t,n){const r={...GM(),[t]:n};return new Ou("auth","Firebase",r).create(t,{appName:e.name})}function ha(e){return yy(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YM(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&$i(e,"argument-error"),yy(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return S1.create(e,...t)}function Et(e,t,...n){if(!e)throw vy(t,...n)}function _s(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Fh(t),new Error(t)}function ws(e,t){e||_s(t)}function ag(){return typeof self<"u"&&self.location?.href||""}function QM(){return QE()==="http:"||QE()==="https:"}function QE(){return typeof self<"u"&&self.location?.protocol||null}function XM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QM()||vI()||"connection"in navigator)?navigator.onLine:!0}function $M(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class Bu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ws(n>t,"Short delay should be less than long delay!"),this.isMobile=pI()||_I()}get(){return XM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _y(e,t){ws(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class A1{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JM=new Bu(3e4,6e4);function Ty(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Go(e,t,n,r,o={}){return w1(e,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const d=Pu({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:p,...u};return yI()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&va(e.emulatorConfig.host)&&(g.credentials="include"),A1.fetch()(await C1(e,e.config.apiHost,n,d),g)})}async function w1(e,t,n){e._canInitEmulator=!1;const r={...ZM,...t};try{const o=new eO(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Nh(e,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Nh(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw Nh(e,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw yy(e,v,g);$i(e,v)}}catch(o){if(o instanceof Wi)throw o;$i(e,"network-request-failed",{message:String(o)})}}async function tO(e,t,n,r,o={}){const u=await Go(e,t,n,r,o);return"mfaPendingCredential"in u&&$i(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function C1(e,t,n,r){const o=`${t}${n}?${r}`,u=e,c=u.config.emulator?_y(e.config,o):`${e.config.apiScheme}://${o}`;return WM.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class eO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(di(this.auth,"network-request-failed")),JM.get())})}}function Nh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=di(e,t,r);return o.customData._tokenResponse=n,o}async function nO(e,t){return Go(e,"POST","/v1/accounts:delete",t)}async function yf(e,t){return Go(e,"POST","/v1/accounts:lookup",t)}function mu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iO(e,t=!1){const n=En(e),r=await n.getIdToken(t),o=Ey(r);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:mu(gp(o.auth_time)),issuedAtTime:mu(gp(o.iat)),expirationTime:mu(gp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function gp(e){return Number(e)*1e3}function Ey(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=OS(n);return o?JSON.parse(o):(Fh("Failed to decode base64 JWT payload"),null)}catch(o){return Fh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function XE(e){const t=Ey(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ru(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Wi&&sO(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function sO({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class rO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class og{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vf(e){const t=e.auth,n=await e.getIdToken(),r=await Ru(e,yf(t,{idToken:n}));Et(r?.users.length,t,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?R1(o.providerUserInfo):[],c=oO(e.providerData,u),d=e.isAnonymous,p=!(e.email&&o.passwordHash)&&!c?.length,g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new og(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,v)}async function aO(e){const t=En(e);await vf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oO(e,t){return[...e.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function R1(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function lO(e,t){const n=await w1(e,{},async()=>{const r=Pu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,c=await C1(e,o,"/v1/token",`key=${u}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return e.emulatorConfig&&va(e.emulatorConfig.host)&&(p.credentials="include"),A1.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uO(e,t){return Go(e,"POST","/v2/accounts:revokeToken",Ty(e,t))}class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):XE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=XE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await lO(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,c=new Io;return r&&(Et(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(Et(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return _s("not implemented")}}function ar(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new rO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new og(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ru(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return iO(this,t)}reload(){return aO(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(ha(this.auth));const t=await this.getIdToken();return await Ru(this,nO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:w,providerData:R,stsTokenManager:V}=n;Et(T&&V,t,"internal-error");const U=Io.fromJSON(this.name,V);Et(typeof T=="string",t,"internal-error"),ar(r,t.name),ar(o,t.name),Et(typeof b=="boolean",t,"internal-error"),Et(typeof w=="boolean",t,"internal-error"),ar(u,t.name),ar(c,t.name),ar(d,t.name),ar(p,t.name),ar(g,t.name),ar(v,t.name);const G=new hi({uid:T,auth:t,email:o,emailVerified:b,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:U,createdAt:g,lastLoginAt:v});return R&&Array.isArray(R)&&(G.providerData=R.map($=>({...$}))),p&&(G._redirectEventId=p),G}static async _fromIdTokenResponse(t,n,r=!1){const o=new Io;o.updateFromServerResponse(n);const u=new hi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await vf(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?R1(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new Io;d.updateFromIdToken(r);const p=new hi({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new og(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const $E=new Map;function Ts(e){ws(e instanceof Function,"Expected a class definition");let t=$E.get(e);return t?(ws(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$E.set(e,t),t)}class x1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}x1.type="NONE";const ZE=x1;function Hh(e,t,n){return`firebase:${e}:${t}:${n}`}class Do{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await yf(this.auth,{idToken:t}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Do(Ts(ZE),t,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ts(ZE);const c=Hh(r,t.config.apiKey,t.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const b=await yf(t,{idToken:v}).catch(()=>{});if(!b)break;T=await hi._fromGetAccountInfoResponse(t,b,v)}else T=hi._fromJSON(t,v);g!==u&&(d=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Do(u,t,r):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Do(u,t,r))}}function WE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(V1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(I1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(O1(t))return"Blackberry";if(P1(t))return"Webos";if(D1(t))return"Safari";if((t.includes("chrome/")||N1(t))&&!t.includes("edge/"))return"Chrome";if(M1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function I1(e=an()){return/firefox\//i.test(e)}function D1(e=an()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function N1(e=an()){return/crios\//i.test(e)}function V1(e=an()){return/iemobile/i.test(e)}function M1(e=an()){return/android/i.test(e)}function O1(e=an()){return/blackberry/i.test(e)}function P1(e=an()){return/webos/i.test(e)}function by(e=an()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function cO(e=an()){return by(e)&&!!window.navigator?.standalone}function hO(){return TI()&&document.documentMode===10}function k1(e=an()){return by(e)||M1(e)||P1(e)||O1(e)||/windows phone/i.test(e)||V1(e)}function L1(e,t=[]){let n;switch(e){case"Browser":n=WE(an());break;case"Worker":n=`${WE(an())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${r}`}class fO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((c,d)=>{try{const p=t(u);c(p)}catch(p){d(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function dO(e,t={}){return Go(e,"GET","/v2/passwordPolicy",Ty(e,t))}const mO=6;class pO{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class gO{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JE(this),this.idTokenSubscription=new JE(this),this.beforeStateQueue=new fO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await yf(this,{idToken:t}),r=await hi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await vf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$M()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(ha(this));const n=t?En(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dO(this),n=new pO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ou("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ts(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,r,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=L1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&KM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qf(e){return En(e)}class JE{constructor(t){this.auth=t,this.observer=null,this.addObserver=xI(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yO(e){Sy=e}function vO(e){return Sy.loadJS(e)}function _O(){return Sy.gapiScript}function TO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function EO(e,t){const n=Mf(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(da(u,t??{}))return o;$i(o,"already-initialized")}return n.initialize({options:t})}function bO(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ts);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function SO(e,t,n){const r=Qf(e);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=U1(t),{host:c,port:d}=AO(t),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(da(g,r.config.emulator)&&da(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,va(c)?(kg(`${u}//${c}${p}`),Lg("Auth",!0)):wO()}function U1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function AO(e){const t=U1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:tb(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:tb(c)}}}function tb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function wO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class j1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(t){return _s("not implemented")}_linkToIdToken(t,n){return _s("not implemented")}_getReauthenticationResolver(t){return _s("not implemented")}}async function No(e,t){return tO(e,"POST","/v1/accounts:signInWithIdp",Ty(e,t))}const CO="http://localhost";class ya extends j1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ya(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const c=new ya(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return No(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,No(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,No(t,n)}buildRequest(){const t={requestUri:CO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Pu(n)}return t}}class Ay{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fu extends Ay{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class lr extends Fu{constructor(){super("facebook.com")}static credential(t){return ya._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";class zi extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ya._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zi.credentialFromTaggedObject(t)}static credentialFromError(t){return zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";class ur extends Fu{constructor(){super("github.com")}static credential(t){return ya._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ur.credential(t.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends Fu{constructor(){super("twitter.com")}static credential(t,n){return ya._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";class jo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await hi._fromIdTokenResponse(t,r,o),c=eb(r);return new jo({user:u,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=eb(r);return new jo({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function eb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class _f extends Wi{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,_f.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new _f(t,n,r,o)}}function z1(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_f._fromErrorAndOperation(e,u,t,r):u})}async function RO(e,t,n=!1){const r=await Ru(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return jo._forOperation(e,"link",r)}async function xO(e,t,n=!1){const{auth:r}=e;if(qn(r.app))return Promise.reject(ha(r));const o="reauthenticate";try{const u=await Ru(e,z1(r,o,t,e),n);Et(u.idToken,r,"internal-error");const c=Ey(u.idToken);Et(c,r,"internal-error");const{sub:d}=c;return Et(e.uid===d,r,"user-mismatch"),jo._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&$i(r,"user-mismatch"),u}}async function IO(e,t,n=!1){if(qn(e.app))return Promise.reject(ha(e));const r="signIn",o=await z1(e,r,t),u=await jo._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(u.user),u}function DO(e,t,n,r){return En(e).onIdTokenChanged(t,n,r)}function NO(e,t,n){return En(e).beforeAuthStateChanged(t,n)}function VO(e,t,n,r){return En(e).onAuthStateChanged(t,n,r)}function MO(e){return En(e).signOut()}const Tf="__sak";class B1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const OO=1e3,PO=10;class F1 extends B1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);hO()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,PO):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},OO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}F1.type="LOCAL";const kO=F1;class H1 extends B1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}H1.type="SESSION";const q1=H1;function LO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Xf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,u)),p=await LO(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xf.receivers=[];function wy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}class UO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=wy("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(b.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Gi(){return window}function jO(e){Gi().location.href=e}function G1(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function zO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BO(){return navigator?.serviceWorker?.controller||null}function FO(){return G1()?self:null}const K1="firebaseLocalStorageDb",HO=1,Ef="firebaseLocalStorage",Y1="fbase_key";class Hu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $f(e,t){return e.transaction([Ef],t?"readwrite":"readonly").objectStore(Ef)}function qO(){const e=indexedDB.deleteDatabase(K1);return new Hu(e).toPromise()}function lg(){const e=indexedDB.open(K1,HO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Ef,{keyPath:Y1})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Ef)?t(r):(r.close(),await qO(),t(await lg()))})})}async function nb(e,t,n){const r=$f(e,!0).put({[Y1]:t,value:n});return new Hu(r).toPromise()}async function GO(e,t){const n=$f(e,!1).get(t),r=await new Hu(n).toPromise();return r===void 0?null:r.value}function ib(e,t){const n=$f(e,!0).delete(t);return new Hu(n).toPromise()}const KO=800,YO=3;class Q1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>YO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xf._getInstance(FO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zO(),!this.activeServiceWorker)return;this.sender=new UO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lg();return await nb(t,Tf,"1"),await ib(t,Tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nb(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>GO(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ib(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=$f(o,!1).getAll();return new Hu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q1.type="LOCAL";const QO=Q1;new Bu(3e4,6e4);function X1(e,t){return t?Ts(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class Cy extends j1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return No(t,this._buildIdpRequest())}_linkToIdToken(t,n){return No(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return No(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function XO(e){return IO(e.auth,new Cy(e),e.bypassAuthState)}function $O(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),xO(n,new Cy(e),e.bypassAuthState)}async function ZO(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),RO(n,new Cy(e),e.bypassAuthState)}class $1{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return XO;case"linkViaPopup":case"linkViaRedirect":return ZO;case"reauthViaPopup":case"reauthViaRedirect":return $O;default:$i(this.auth,"internal-error")}}resolve(t){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WO=new Bu(2e3,1e4);async function JO(e,t,n){if(qn(e.app))return Promise.reject(di(e,"operation-not-supported-in-this-environment"));const r=Qf(e);YM(e,t,Ay);const o=X1(r,n);return new la(r,"signInViaPopup",t,o).executeNotNull()}class la extends $1{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const t=wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WO.get())};t()}}la.currentPopupAction=null;const t4="pendingRedirect",qh=new Map;class e4 extends $1{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=qh.get(this.auth._key());if(!t){try{const r=await n4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}qh.set(this.auth._key(),t)}return this.bypassAuthState||qh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n4(e,t){const n=r4(t),r=s4(e);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function i4(e,t){qh.set(e._key(),t)}function s4(e){return Ts(e._redirectPersistence)}function r4(e){return Hh(t4,e.config.apiKey,e.name)}async function a4(e,t,n=!1){if(qn(e.app))return Promise.reject(ha(e));const r=Qf(e),o=X1(r,t),c=await new e4(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const o4=600*1e3;class l4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!u4(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Z1(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(di(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=o4&&this.cachedEventUids.clear(),this.cachedEventUids.has(sb(t))}saveEventToCache(t){this.cachedEventUids.add(sb(t)),this.lastProcessedEventTime=Date.now()}}function sb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Z1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function u4(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z1(e);default:return!1}}async function c4(e,t={}){return Go(e,"GET","/v1/projects",t)}const h4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f4=/^https?/;async function d4(e){if(e.config.emulator)return;const{authorizedDomains:t}=await c4(e);for(const n of t)try{if(m4(n))return}catch{}$i(e,"unauthorized-domain")}function m4(e){const t=ag(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!f4.test(n))return!1;if(h4.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const p4=new Bu(3e4,6e4);function rb(){const e=Gi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function g4(e){return new Promise((t,n)=>{function r(){rb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rb(),n(di(e,"network-request-failed"))},timeout:p4.get()})}if(Gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gi().gapi?.load)r();else{const o=TO("iframefcb");return Gi()[o]=()=>{gapi.load?r():n(di(e,"network-request-failed"))},vO(`${_O()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Gh=null,t})}let Gh=null;function y4(e){return Gh=Gh||g4(e),Gh}const v4=new Bu(5e3,15e3),_4="__/auth/iframe",T4="emulator/auth/iframe",E4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S4(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_y(t,T4):`https://${e.config.authDomain}/${_4}`,r={apiKey:t.apiKey,appName:e.name,v:_a},o=b4.get(e.config.apiHost);o&&(r.eid=o);const u=e._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Pu(r).slice(1)}`}async function A4(e){const t=await y4(e),n=Gi().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:S4(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E4,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=di(e,"network-request-failed"),d=Gi().setTimeout(()=>{u(c)},v4.get());function p(){Gi().clearTimeout(d),o(r)}r.ping(p).then(p,()=>{u(c)})}))}const w4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C4=500,R4=600,x4="_blank",I4="http://localhost";class ab{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D4(e,t,n,r=C4,o=R4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p={...w4,width:r.toString(),height:o.toString(),top:u,left:c},g=an().toLowerCase();n&&(d=N1(g)?x4:n),I1(g)&&(t=t||I4,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[w,R])=>`${b}${w}=${R},`,"");if(cO(g)&&d!=="_self")return N4(t||"",d),new ab(null);const T=window.open(t||"",d,v);Et(T,e,"popup-blocked");try{T.focus()}catch{}return new ab(T)}function N4(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const V4="__/auth/handler",M4="emulator/auth/handler",O4=encodeURIComponent("fac");async function ob(e,t,n,r,o,u){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_a,eventId:o};if(t instanceof Ay){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",RI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(t instanceof Fu){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await e._getAppCheckToken(),g=p?`#${O4}=${encodeURIComponent(p)}`:"";return`${P4(e)}?${Pu(d).slice(1)}${g}`}function P4({config:e}){return e.emulator?_y(e,M4):`https://${e.authDomain}/${V4}`}const yp="webStorageSupport";class k4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q1,this._completeRedirectFn=a4,this._overrideRedirectResult=i4}async _openPopup(t,n,r,o){ws(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ob(t,n,r,ag(),o);return D4(t,u,wy())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await ob(t,n,r,ag(),o);return jO(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ws(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await A4(t),r=new l4(t);return n.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(yp,{type:yp},o=>{const u=o?.[0]?.[yp];u!==void 0&&n(!!u),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d4(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return k1()||D1()||by()}}const L4=k4;var lb="@firebase/auth",ub="1.12.0";class U4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function j4(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z4(e){ma(new vr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L1(e)},g=new gO(r,o,u,p);return bO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ma(new vr("auth-internal",t=>{const n=Qf(t.getProvider("auth").getImmediate());return(r=>new U4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(lb,ub,j4(e)),Bi(lb,ub,"esm2020")}const B4=300,F4=US("authIdTokenMaxAge")||B4;let cb=null;const H4=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F4)return;const o=n?.token;cb!==o&&(cb=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function q4(e=zg()){const t=Mf(e,"auth");if(t.isInitialized())return t.getImmediate();const n=EO(e,{popupRedirectResolver:L4,persistence:[QO,kO,q1]}),r=US("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=H4(u.toString());NO(n,c,()=>c(n.currentUser)),DO(n,d=>c(d))}}const o=PS("auth");return o&&SO(n,`http://${o}`),n}function G4(){return document.getElementsByTagName("head")?.[0]??document}yO({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=o=>{const u=di("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",G4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z4("Browser");const K4={apiKey:"AIzaSyA7BFx5LSV3Ef-QVO00JlRhd_KCn7_AgbE",authDomain:"faces-10726.firebaseapp.com",projectId:"faces-10726",storageBucket:"faces-10726.firebasestorage.app",messagingSenderId:"3446816182",appId:"1:3446816182:web:1e9eb44f691bb6f7599517"},Ry=FS(K4),ou=ZV(Ry);BM(Ry);const vp=q4(Ry);new zi;const _p={texture:["Mesh","Solid","Translucid","Mixed","Makeup","Tattoos","Skin Details","Fantasy"],facebase:["Global","Brazil","UK","USA","Italy","Spain","France","Japan","Korea","China","Thailand"],avatar:["Hair","Mesh","Accessory","Clothing","Hats","Face"]};function Y4({isOpen:e,onClose:t}){const[n,r]=tt.useState(null),[o,u]=tt.useState("texture"),[c,d]=tt.useState(""),[p,g]=tt.useState(""),[v,T]=tt.useState(_p.texture[0]),[b,w]=tt.useState(""),[R,V]=tt.useState("idle"),[U,G]=tt.useState({text:"",type:""}),[$,Q]=tt.useState(!1);tt.useEffect(()=>{const A=VO(vp,x=>{r(x)});return()=>A()},[]),tt.useEffect(()=>{T(_p[o][0])},[o]),tt.useEffect(()=>{if(c.length<5){V("idle"),w("");return}const A=setTimeout(()=>{ut(c)},600);return()=>clearTimeout(A)},[c]);const rt=async()=>{const A=new zi;try{await JO(vp,A)}catch(x){G({text:x.message,type:"error"})}},at=()=>{MO(vp)},ut=async A=>{V("loading"),w("");const x=`https://thumbnails.roblox.com/v1/assets?assetIds=${A}&size=420x420&format=Png&isCircular=false`,P=[`https://api.allorigins.win/raw?url=${encodeURIComponent(x)}`,`https://corsproxy.io/?${encodeURIComponent(x)}`,`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(x)}`];let O=null;for(const j of P)try{const N=await fetch(j);if(N.ok){const Ft=await N.json();if(Ft.data?.length>0&&Ft.data[0].state==="Completed"){O=Ft.data[0].imageUrl;break}}}catch{}O?(w(O),V("valid")):V("failed")},D=async A=>{if(A.preventDefault(),!(!p||R!=="valid"&&R!=="force")){Q(!0),G({text:"",type:""});try{const x=o==="texture"?"textures":o==="facebase"?"facebases":"avatar",P=R==="force"?null:b;await mM(au(ou,x),{id:c,robloxId:c,name:p,category:v,type:o,remoteUrl:P,dateAdded:uM(),searchName:p.toLowerCase()}),G({text:" Saved!",type:"success"}),d(""),g(""),V("idle"),w(""),setTimeout(()=>G({text:"",type:""}),2e3)}catch(x){G({text:" "+x.message,type:"error"})}finally{Q(!1)}}};return e?Mu.createPortal(I.jsx("div",{className:"modal-overlay show",style:{display:"flex"},role:"dialog","aria-modal":"true",onClick:t,children:I.jsxs("div",{className:`modal-content ${n?"admin-modal-content":"p-10 text-center border border-zinc-700/50 bg-black/80 backdrop-blur-xl shadow-2xl rounded-2xl max-w-sm w-full relative"}`,onClick:A=>A.stopPropagation(),children:[I.jsx("button",{onClick:t,className:"absolute top-2 right-4 text-zinc-400 hover:text-white transition text-3xl font-bold",children:""}),n?I.jsxs("div",{children:[I.jsx("h2",{className:"text-2xl font-semibold title-fancy gold-title mb-4",children:"Admin Dashboard"}),I.jsxs("div",{className:"flex justify-between items-center mb-6 pb-2 border-b border-zinc-800",children:[I.jsx("span",{className:"text-sm text-zinc-400",children:n.email}),I.jsx("button",{onClick:at,className:"text-red-400 hover:text-red-300 text-sm underline",children:"Logout"})]}),I.jsxs("form",{onSubmit:D,className:"flex flex-col gap-6 mt-4",children:[I.jsx("div",{className:"grid grid-cols-3 gap-3",children:["texture","facebase","avatar"].map(A=>I.jsxs("label",{className:"cursor-pointer",children:[I.jsx("input",{type:"radio",name:"itemType",value:A,checked:o===A,onChange:()=>u(A),className:"peer hidden"}),I.jsx("div",{className:"flex flex-col items-center justify-center p-4 bg-zinc-900 border border-zinc-700 rounded-xl peer-checked:border-[var(--gold2)] peer-checked:bg-[var(--gold2)]/10 peer-checked:text-[var(--gold2)] hover:bg-zinc-800 transition-all text-zinc-400",children:I.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:A})})]},A))}),I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold tracking-widest pl-1",children:"Roblox Asset ID"}),I.jsxs("div",{className:"relative",children:[I.jsx("input",{type:"text",value:c,onChange:A=>d(A.target.value),placeholder:"Paste ID (e.g. 129381293)",className:"w-full h-12 bg-zinc-900 border border-zinc-700 rounded-lg px-4 text-white placeholder-zinc-600 focus:border-[var(--gold2)] focus:outline-none focus:ring-1 focus:ring-[var(--gold2)] transition-all"}),R==="loading"&&I.jsx("div",{className:"absolute right-4 top-3.5",children:I.jsxs("svg",{className:"animate-spin h-5 w-5 text-[var(--gold2)]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[I.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),I.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),I.jsxs("div",{className:"w-full h-48 bg-black/50 rounded-lg flex items-center justify-center border border-zinc-700/50 mt-2 overflow-hidden relative group",children:[R==="idle"&&I.jsx("span",{className:"text-zinc-600 text-xs",children:"Preview Area"}),R==="valid"&&I.jsxs(I.Fragment,{children:[I.jsx("img",{src:b,className:"w-full h-full object-contain z-10 p-2",alt:"Preview"}),I.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-black text-[10px] font-bold px-2 py-0.5 rounded z-20",children:"VALID"})]}),R==="force"&&I.jsxs(I.Fragment,{children:[I.jsx("span",{className:"text-zinc-600 text-xs",children:"No image. Force allowed."}),I.jsx("div",{className:"absolute top-2 right-2 bg-yellow-500 text-black text-[10px] font-bold px-2 py-0.5 rounded z-20",children:"FORCE"})]}),R==="failed"&&I.jsxs("div",{className:"flex flex-col items-center w-full px-4",children:[I.jsx("span",{className:"text-xs text-red-400 font-bold mb-1",children:"PREVIEW FAILED"}),I.jsx("button",{type:"button",onClick:()=>V("force"),className:"w-full py-2 mt-2 bg-zinc-800 border border-zinc-600 rounded text-xs text-white",children:" Force Allow ID"})]})]})]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold tracking-widest pl-1",children:"Display Name"}),I.jsx("input",{type:"text",value:p,onChange:A=>g(A.target.value),placeholder:"Item Name",className:"w-full h-10 bg-zinc-900 border border-zinc-700 rounded-lg px-3 text-sm text-white focus:border-[var(--gold2)] focus:outline-none"})]}),I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsx("label",{className:"text-xs text-zinc-500 uppercase font-bold tracking-widest pl-1",children:"Category"}),I.jsx("select",{value:v,onChange:A=>T(A.target.value),className:"w-full h-10 bg-zinc-900 border border-zinc-700 rounded-lg px-3 text-sm text-white focus:border-[var(--gold2)] focus:outline-none",children:_p[o].map(A=>I.jsx("option",{value:A,children:A},A))})]})]}),I.jsxs("div",{className:"pt-4 border-t border-zinc-800",children:[I.jsx("button",{type:"submit",disabled:$||!p||R!=="valid"&&R!=="force",className:"w-full h-12 bg-zinc-800 text-zinc-500 font-bold tracking-widest rounded-lg flex items-center justify-center transition-all disabled:opacity-50 hover:bg-[var(--gold2)] hover:text-black",children:$?"SAVING...":"ADD TO DATABASE"}),U.text&&I.jsx("p",{className:`text-center text-xs mt-3 font-bold ${U.type==="error"?"text-red-500":"text-green-500"}`,children:U.text})]})]})]}):I.jsxs("div",{children:[I.jsx("img",{src:"photos/app/logo.svg",alt:"Fashion Muse Logo",className:"w-32 h-auto mx-auto mb-8 opacity-90 drop-shadow-[0_0_15px_rgba(255,215,0,0.3)]"}),I.jsx("h2",{className:"text-xl font-bold text-white tracking-widest mb-1 font-serif",children:"PRIVATE ACCESS"}),I.jsx("p",{className:"text-[10px] text-zinc-400 uppercase tracking-widest mb-8",children:"Administrators Only"}),I.jsxs("button",{onClick:rt,className:"w-full h-12 bg-white text-zinc-900 font-medium rounded hover:bg-zinc-200 transition-all flex items-center justify-center gap-3 shadow-lg hover:scale-[1.02]",children:[I.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[I.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),I.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),I.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.24.81-.6z",fill:"#FBBC05"}),I.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]}),U.text&&I.jsx("p",{className:"text-xs text-red-400 mt-4",children:U.text})]})]})}),document.body):null}function Q4({isOpen:e,onClose:t}){const[n,r]=tt.useState(0);if(!e)return null;const o=[{src:"photos/modal/UK.png",filename:"UK.png",title:"UK Collection"},{src:"photos/modal/Brazil.png",filename:"Brazil.png",title:"Brazil Collection"}],u=p=>{p.stopPropagation(),r(g=>(g+1)%o.length)},c=p=>{p.stopPropagation(),r(g=>(g-1+o.length)%o.length)},d=o[n];return Mu.createPortal(I.jsx("div",{className:"modal-overlay show overflow-y-auto",role:"dialog","aria-modal":"true",onClick:t,style:{display:"flex"},children:I.jsxs("div",{className:"modal-content !max-w-[90vw] !max-h-[90vh] !bg-transparent !border-none !shadow-none p-0 relative flex flex-col items-center justify-center",onClick:p=>p.stopPropagation(),children:[I.jsx("button",{onClick:t,className:"absolute -top-10 right-0 md:right-4 text-white/50 hover:text-white transition text-4xl z-20","aria-label":"Close photo gallery",children:""}),I.jsxs("div",{className:"relative flex flex-col items-center py-10",style:{minHeight:"400px",minWidth:"300px"},children:[o.length>1&&I.jsx("button",{onClick:c,className:"absolute left-0 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center bg-black/50 text-white rounded-full hover:bg-black/80 transition-all z-10","aria-label":"Previous photo",children:I.jsx(Mx,{})}),I.jsxs("div",{className:"flex flex-col items-center text-center animate-fade-in",children:[I.jsx("h3",{className:"text-xl font-semibold text-zinc-100 mb-4",children:d.title}),I.jsx("img",{src:d.src,alt:d.title,className:"max-h-[60vh] object-contain rounded-lg shadow-2xl mb-6"}),I.jsxs("a",{href:d.src,download:d.filename,className:"px-6 py-3 bg-[var(--gold2)] text-black font-semibold rounded-md hover:brightness-110 transition-all shadow-lg",children:["Descargar ",d.filename]})]}),o.length>1&&I.jsx("button",{onClick:u,className:"absolute right-0 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center bg-black/50 text-white rounded-full hover:bg-black/80 transition-all z-10","aria-label":"Next photo",children:I.jsx(Px,{})})]})]})}),document.body)}const hb="America/Costa_Rica",X4={"America/New_York":"EST (-5)","Europe/London":"GMT (+0)","Europe/Paris":"CET (+1)","Europe/Berlin":"CET-DE (+1)","Europe/Athens":"EET (+2)","Africa/Johannesburg":"SAST (+2)","Asia/Dubai":"GST (+4)","Asia/Karachi":"PKT (+5)","Asia/Kolkata":"IST (+5:30)","Asia/Bangkok":"ICT (+7)","Asia/Hong_Kong":"HKT (+8)","Asia/Singapore":"SGT (+8)","Asia/Manila":"PHT (+8)","Asia/Tokyo":"JST (+9)","Asia/Seoul":"KST (+9)","Australia/Sydney":"AEST (+10)","Pacific/Auckland":"NZST (+12)","Etc/GMT+12":"IDLW (-12)","Pacific/Honolulu":"HST (-10)","America/Anchorage":"AKST (-9)","America/Los_Angeles":"PST (-8)","America/Denver":"MST (-7)","America/Chicago":"CST (-6)","America/Mexico_City":"CST-MX (-6)","America/Bogota":"COT (-5)","America/Lima":"PET (-5)","America/Caracas":"VET (-4)","America/Santiago":"CLT (-3)","America/Sao_Paulo":"BRT (-3)","Atlantic/Azores":"AZOT (-1)"},$4=()=>{const e=[],t=new Date;for(let n=-7;n<=7;n++){const r=new Date(t);r.setDate(t.getDate()+n);const o=r.getFullYear(),u=String(r.getMonth()+1).padStart(2,"0"),c=String(r.getDate()).padStart(2,"0");e.push({value:`${o}-${u}-${c}`,label:r.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})})}return e};function Z4({isOpen:e,onClose:t}){const[n,r]=tt.useState("America/New_York"),[o,u]=tt.useState(()=>{const R=new Date,V=R.getFullYear(),U=String(R.getMonth()+1).padStart(2,"0"),G=String(R.getDate()).padStart(2,"0");return`${V}-${U}-${G}`}),[c,d]=tt.useState(()=>{const R=new Date,V=String(R.getHours()).padStart(2,"0"),U=String(R.getMinutes()).padStart(2,"0");return`${V}:${U}`}),[p,g]=tt.useState("-"),[v,T]=tt.useState("-"),b=$4();tt.useEffect(()=>{e&&w(n,o,c)},[e]);const w=(R,V,U)=>{const[G,$,Q]=V.split("-").map(Number),[rt,at]=U.split(":").map(Number);try{const ut=new Date(Date.UTC(G,$-1,Q,rt,at)),D=new Intl.DateTimeFormat("en-US",{timeZone:R,timeZoneName:"shortOffset"}).formatToParts(ut).find(N=>N.type==="timeZoneName")?.value;let A="Z";if(D&&D!=="GMT"){let N=D.replace("GMT","");if(N){const Ft=N[0];let ie="00",X="00";const st=N.substring(1).split(":");ie=st[0].padStart(2,"0"),st[1]&&(X=st[1].padStart(2,"0")),A=`${Ft}${ie}:${X}`}}const x=`${G}-${String($).padStart(2,"0")}-${String(Q).padStart(2,"0")}T${String(rt).padStart(2,"0")}:${String(at).padStart(2,"0")}:00.000`,P=new Date(`${x}${A}`),O=P.toLocaleDateString("en-US",{timeZone:hb,weekday:"long",month:"short",day:"numeric"}),j=P.toLocaleTimeString("en-US",{timeZone:hb,hour:"2-digit",minute:"2-digit",hour12:!1});g(O),T(j)}catch(ut){console.error("Time conversion error",ut)}};return e?Mu.createPortal(I.jsx("div",{className:"modal-overlay show",role:"dialog","aria-modal":"true",onClick:t,children:I.jsxs("div",{className:"modal-content p-6 pt-8 relative",onClick:R=>R.stopPropagation(),children:[I.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-zinc-400 hover:text-white transition text-3xl z-10","aria-label":"Close time converter",children:""}),I.jsx("h2",{className:"text-center text-xl font-semibold title-fancy gold-title mb-6",children:"Time Converter"}),I.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center text-center px-4 pb-4",children:[I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsx("div",{className:"font-bold text-lg text-zinc-100 uppercase tracking-widest text-[#d8a657]",children:"SJO Time"}),I.jsx("div",{className:"text-sm text-zinc-300 font-medium",children:p})]}),I.jsx("div",{className:"text-3xl text-[var(--gold2)] px-4",children:""}),I.jsxs("div",{className:"flex flex-col gap-2",children:[I.jsx("select",{value:n,onChange:R=>{r(R.target.value),w(R.target.value,o,c)},className:"w-full h-10 px-3 text-sm dark-input rounded-md max-w-[150px] mx-auto overflow-hidden text-ellipsis",children:Object.entries(X4).map(([R,V])=>I.jsx("option",{value:R,children:V},R))}),I.jsx("select",{value:o,onChange:R=>{u(R.target.value),w(n,R.target.value,c)},className:"w-full h-10 px-3 text-sm dark-input rounded-md max-w-[150px] mx-auto text-ellipsis",children:b.map(R=>I.jsx("option",{value:R.value,children:R.label},R.value))})]})]}),I.jsx("div",{className:"border-t border-[var(--border)] pt-4",children:I.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center",children:[I.jsx("div",{className:"text-4xl font-bold text-center text-zinc-100 tracking-wider",children:v}),I.jsx("div",{}),I.jsx("div",{className:"flex justify-center items-center h-full",children:I.jsx("input",{type:"time",value:c,onChange:R=>{const V=R.target.value;V&&(d(V),w(n,o,V))},className:"text-4xl font-bold bg-transparent text-center text-[var(--gold2)] outline-none cursor-pointer p-2 rounded-lg hover:bg-white/5 transition focus:bg-white/10",style:{colorScheme:"dark"}})})]})})]})}),document.body):null}function W4({isOpen:e,onClose:t}){return e?Mu.createPortal(I.jsx("div",{className:"modal-overlay show",role:"dialog","aria-modal":"true",onClick:t,children:I.jsxs("div",{className:"modal-content p-6 pt-8 relative text-center",onClick:n=>n.stopPropagation(),children:[I.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-zinc-400 hover:text-white transition text-3xl z-10","aria-label":"Close Google Drive modal",children:""}),I.jsx("h2",{className:"text-center text-xl font-semibold title-fancy gold-title mb-6",children:"Contribuir a la Carpeta"}),I.jsx("p",{className:"text-zinc-300 text-sm mb-6",children:"Haz clic en el botn de abajo para abrir la carpeta de Google Drive en una nueva pestaa. Podrs subir tus archivos all."}),I.jsx("a",{href:"https://drive.google.com/drive/folders/1-3l67TJy51ecP-J_0W9O7VrqhHPNZ7l6?usp=sharing",target:"_blank",rel:"noopener noreferrer",className:"h-11 px-6 inline-flex items-center justify-center rounded-md bg-[var(--gold2)] text-black font-semibold hover:brightness-110 transition-transform hover:scale-105 no-underline",children:"Abrir Google Drive"})]})}),document.body):null}function J4({isOpen:e,onClose:t}){const[n,r]=tt.useState(null);if(!e)return null;const o=(c,d)=>{navigator.clipboard.writeText(c),r(d),setTimeout(()=>r(null),2e3)},u=[{flag:"",text:"SPAIN - FashionMuseDoll"},{flag:"",text:"BRAZIL - FashionMuseDoll"},{flag:"",text:"UNITED KINGDOM - FashionMuseDoll"},{flag:"",text:"COSTA RICA - FashionMuseDoll"},{flag:"",text:"ITALY - FashionMuseDoll"},{flag:"",text:"THAILAND - FashionMuseDoll"}];return Mu.createPortal(I.jsx("div",{className:"modal-overlay show",role:"dialog","aria-modal":"true",onClick:t,children:I.jsxs("div",{className:"modal-content p-6 pt-8 relative",onClick:c=>c.stopPropagation(),children:[I.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-zinc-400 hover:text-white transition text-3xl z-10","aria-label":"Close ticket modal",children:""}),I.jsx("h2",{className:"text-center text-xl font-semibold title-fancy gold-title mb-6",children:"Copiar Nombre de Ticket"}),I.jsx("div",{className:"flex flex-col gap-3",children:u.map((c,d)=>I.jsxs("button",{className:`copy-ticket-btn ${n===d?"bg-green-500/20 text-green-500 border-green-500/50":""}`,onClick:()=>o(c.text,d),children:[I.jsx("span",{className:"flag-emoji",children:c.flag})," ",c.text,n===d&&I.jsx("span",{className:"ml-auto text-xs font-bold text-green-400",children:"Copiado!"})]},d))})]})}),document.body)}function tP({activeTab:e,setActiveTab:t}){const[n,r]=tt.useState(!1),[o,u]=tt.useState(!1),[c,d]=tt.useState(!1),[p,g]=tt.useState(!1),[v,T]=tt.useState(!1),b=["pink","apple","gold","cyberpunk","dark"],[w,R]=tt.useState(()=>localStorage.getItem("app-theme")||"pink");tt.useEffect(()=>{w&&w!=="pink"?document.documentElement.setAttribute("data-theme",w):document.documentElement.removeAttribute("data-theme"),localStorage.setItem("app-theme",w)},[w]);const V=()=>{R($=>{const Q=(b.indexOf($)+1)%b.length;return b[Q]})},U=()=>{switch(w){case"apple":return I.jsx(Wx,{className:"w-5 h-5"});case"gold":return I.jsx(Fx,{className:"w-5 h-5"});case"cyberpunk":return I.jsx(nI,{className:"w-5 h-5"});case"dark":return I.jsx(Qx,{className:"w-5 h-5"});default:return I.jsx(Kx,{className:"w-5 h-5"})}},G=[{id:"favorites",label:""},{id:"facebases",label:"Facebases"},{id:"avatar",label:"Avatar"},{id:"textures",label:"Textures"},{id:"music",label:"Music"}];return I.jsxs("header",{className:"panel flex flex-col md:flex-row items-center justify-between p-4 gap-4",role:"banner",children:[I.jsx("a",{href:"https://ealfaro29.github.io/Faces/index.html",target:"_blank",rel:"noreferrer",className:"text-3xl lg:text-4xl title-fancy gold-title no-underline hover:brightness-110","aria-label":"Fashion Muse Collection home",children:I.jsx("h1",{children:"Fashion Muse Collection"})}),I.jsxs("nav",{className:"flex items-center justify-center flex-wrap gap-2",role:"navigation","aria-label":"Main navigation",children:[G.map($=>I.jsx("button",{className:`tab-nav-button ${e===$.id?"active":""}`,onClick:()=>t($.id),"aria-label":`${$.label} tab`,"aria-pressed":e===$.id,children:$.label},$.id)),I.jsx("button",{id:"nav-admin-btn",className:"tab-nav-button","aria-label":"Admin Panel",style:{borderColor:"#333",color:"#666"},onClick:()=>r(!0),children:"+ Admin"})]}),I.jsxs("div",{className:"flex items-center gap-2",role:"toolbar","aria-label":"Utility actions",children:[I.jsx("button",{onClick:()=>u(!0),className:"w-10 h-10 flex items-center justify-center bg-[var(--card-lighter)] text-[var(--gold2)] rounded-full border border-transparent hover:border-[var(--border)] hover:scale-110 transition-all","aria-label":"Open photo gallery",title:"Download Photos",children:I.jsx(Dx,{className:"w-5 h-5"})}),I.jsx("button",{onClick:()=>d(!0),className:"w-10 h-10 flex items-center justify-center bg-[var(--card-lighter)] text-[var(--gold2)] rounded-full border border-transparent hover:border-[var(--border)] hover:scale-110 transition-all","aria-label":"Open time converter",title:"Time Converter",children:I.jsx(Lx,{className:"w-5 h-5"})}),I.jsx("button",{onClick:()=>g(!0),className:"w-10 h-10 flex items-center justify-center bg-[var(--card-lighter)] text-[var(--gold2)] rounded-full border border-transparent hover:border-[var(--border)] hover:scale-110 transition-all","aria-label":"Upload to Google Drive",title:"Subir a Drive",children:I.jsx(jx,{className:"w-5 h-5"})}),I.jsx("button",{onClick:()=>T(!0),className:"w-10 h-10 flex items-center justify-center bg-[var(--card-lighter)] text-[var(--gold2)] rounded-full border border-transparent hover:border-[var(--border)] hover:scale-110 transition-all text-xl","aria-label":"Copy ticket names",title:"Ticket Names",children:I.jsx(tI,{className:"w-5 h-5"})}),I.jsx("a",{href:"https://gemini.google.com/gem/45de6cb382e1",target:"_blank",rel:"noreferrer",className:"w-10 h-10 flex items-center justify-center bg-[var(--card-lighter)] text-[var(--gold2)] rounded-full border border-transparent hover:border-[var(--border)] hover:scale-110 transition-all","aria-label":"Open Gemini Gem",title:"AI Assistant",children:I.jsx(qx,{className:"w-5 h-5"})}),I.jsx("button",{onClick:V,className:"w-10 h-10 flex items-center justify-center bg-[var(--card-lighter)] text-[var(--gold2)] rounded-full border border-transparent hover:border-[var(--border)] hover:scale-110 transition-all","aria-label":"Toggle Theme",title:`Change Theme (Current: ${w})`,children:U()})]}),I.jsx(Y4,{isOpen:n,onClose:()=>r(!1)}),I.jsx(Q4,{isOpen:o,onClose:()=>u(!1)}),I.jsx(Z4,{isOpen:c,onClose:()=>d(!1)}),I.jsx(W4,{isOpen:p,onClose:()=>g(!1)}),I.jsx(J4,{isOpen:v,onClose:()=>T(!1)})]})}function Tp({id:e,displayName:t,group:n,imageSrc:r,codeId:o,isFavorite:u,onToggleFavorite:c}){const[d,p]=Pg.useState(!1),g=()=>{navigator.clipboard.writeText(o||""),p(!0),setTimeout(()=>p(!1),2e3)};return I.jsxs("div",{className:"music-card facebase-card bg-[var(--card-light)] rounded-xl shadow-xl ring-1 ring-[var(--border)] overflow-hidden flex flex-col p-1.5 space-y-1.5 !w-full relative",children:[I.jsx("div",{className:"favorite-container",children:I.jsx("button",{className:"favorite-btn",onClick:()=>c(e),children:u?"":""})}),I.jsx("div",{className:"text-xs text-[var(--ink)] font-medium px-1 h-8 flex items-center justify-start gap-1",children:I.jsxs("span",{className:"truncate",children:[t," (",n,")"]})}),I.jsx("img",{src:r,alt:t,loading:"lazy",className:"w-full h-auto object-cover aspect-square rounded-md"}),I.jsxs("div",{className:"flex items-center gap-1.5 p-1",children:[I.jsx("input",{readOnly:!0,type:"text",value:o||"",placeholder:"",className:"flex-grow w-0 h-8 px-2 text-xs dark-input rounded-md"}),I.jsx("button",{onClick:g,className:`copy-btn flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-md border transition-all ${d?"bg-green-500/20 text-green-500 border-green-500/50":"bg-[var(--card-lighter)] text-[var(--ink)] border-[var(--border)] hover:bg-[var(--card-hover)]"}`,title:"Copy Code",children:d?I.jsx(Df,{className:"w-4 h-4"}):I.jsx(Nf,{className:"w-4 h-4"})})]})]})}function eP({group:e,isFavorite:t,onToggleFavorite:n}){const[r,o]=tt.useState(!1),[u,c]=tt.useState(!1),[d,p]=tt.useState(e.mainVariant),g=e.variants.length>1,v=d.displayName.split(" ").pop(),T=e.variants.length-1,b=()=>{navigator.clipboard.writeText(d.codeId||""),o(!0),setTimeout(()=>o(!1),2e3)};return I.jsxs("div",{className:"music-card facebase-card bg-[var(--card-light)] rounded-xl shadow-xl ring-1 ring-[var(--border)] overflow-hidden flex flex-col p-1.5 space-y-1.5 !w-full relative texture-group-card",children:[I.jsx("div",{className:"absolute top-1.5 right-1.5 z-10 favorite-container !bg-transparent !backdrop-filter-none !w-auto !h-auto",children:I.jsx("button",{className:"favorite-btn",onClick:()=>n(d.id),children:t(d.id)?"":""})}),I.jsxs("div",{className:"variant-display-container",children:[I.jsxs("div",{className:"text-xs text-[var(--ink)] font-medium px-1 h-8 flex items-center justify-start gap-1",children:[I.jsx("span",{className:"truncate main-display-name",children:e.baseName}),g&&I.jsxs("span",{className:"text-xs font-medium text-zinc-400 main-variant-name",children:["(",v,")"]})]}),I.jsx("img",{src:d.src,alt:d.displayName,loading:"lazy",className:"w-full h-auto object-cover aspect-square rounded-md main-image"}),g&&I.jsxs("button",{className:"variant-indicator-btn",title:`Ver ${e.variants.length} variantes`,onClick:w=>{w.preventDefault(),w.stopPropagation(),c(!0)},children:[T,"+"]})]}),g&&u&&I.jsx("div",{className:"variants-gallery-overlay",onClick:w=>{w.preventDefault(),w.stopPropagation(),c(!1)},style:{opacity:1,visibility:"visible"},children:I.jsxs("div",{className:"variants-gallery-container",onClick:w=>w.stopPropagation(),children:[I.jsxs("h4",{className:"text-sm font-semibold text-zinc-100 mb-2",children:[e.baseName," Variants"]}),I.jsx("div",{className:"variants-grid",children:e.variants.map(w=>{const R=w.displayName.split(" ").pop(),V=d.id===w.id;return I.jsxs("div",{className:`variant-thumbnail ${V?"active":""}`,onClick:U=>{U.preventDefault(),U.stopPropagation(),p(w),c(!1)},children:[I.jsx("img",{src:w.src,alt:w.displayName,loading:"lazy",className:"w-full h-auto object-cover aspect-square rounded-md"}),I.jsx("span",{className:"variant-name",children:R})]},w.id)})})]})}),I.jsxs("div",{className:"flex items-center gap-1.5 p-1 card-footer",children:[I.jsx("input",{readOnly:!0,type:"text",value:d.codeId||"",placeholder:"",className:"flex-grow w-0 h-8 px-2 text-xs dark-input rounded-md main-code-id-input"}),I.jsx("button",{onClick:b,className:`copy-btn flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-md border transition-all ${r?"bg-green-500/20 text-green-500 border-green-500/50":"bg-[var(--card-lighter)] text-[var(--ink)] border-[var(--border)] hover:bg-[var(--card-hover)]"}`,title:"Copy Code",children:r?I.jsx(Df,{className:"w-4 h-4"}):I.jsx(Nf,{className:"w-4 h-4"})})]})]})}const nP={BRAZIL:"BR",UK:"GB",USA:"US",ZAMBIA:"ZM",IRELAND:"IE",ITALY:"IT",INDIA:"IN",BELGIUM:"BE",EGYPT:"EG",SPAIN:"ES",FRANCE:"FR","COSTA RICA":"CR",THAILAND:"TH",JAPAN:"JP",KOREA:"KR"};function iP(e){const t=nP[e?.toUpperCase()];return t?String.fromCodePoint(...t.split("").map(n=>127397+n.charCodeAt())):null}function sP({group:e,isFavorite:t,onToggleFavorite:n}){const[r,o]=tt.useState(!1),[u,c]=tt.useState(e.defaultItem),d=()=>{navigator.clipboard.writeText(u.codeId||""),o(!0),setTimeout(()=>o(!1),2e3)},p=Object.values(e.variants).map(w=>w?.id).filter(Boolean),g=iP(u.group);let v;g?v=I.jsx("span",{className:"text-xl flag-emoji cursor-pointer",title:u.group,children:g}):v=I.jsx("span",{className:"text-xs text-zinc-500",children:u.group});const T=e.variants.X,b=e.variants.S;return I.jsxs("div",{className:"music-card facebase-card bg-[var(--card-light)] rounded-xl shadow-xl ring-1 ring-[var(--border)] overflow-hidden flex flex-col p-1.5 space-y-1.5 !w-full relative","data-default-src":e.defaultItem.src,"data-default-id":e.defaultItem.id,children:[I.jsx("div",{className:"favorite-container",children:I.jsx("button",{className:"favorite-btn",onClick:()=>n(u.id,p),children:t(u.id)?"":""})}),I.jsxs("div",{className:"text-xs text-[var(--ink)] font-medium px-1 h-8 flex items-center justify-start gap-1",children:[v,I.jsx("span",{className:"truncate",children:e.baseDisplayName})]}),I.jsxs("div",{className:"relative",children:[I.jsx("img",{src:u.src,alt:e.baseDisplayName,loading:"lazy",className:"w-full h-auto object-cover aspect-square rounded-md facebase-main-img"}),(T||b)&&I.jsxs("div",{className:"variant-buttons",children:[T&&I.jsx("img",{src:"photos/app/x.webp",className:`variant-button ${u.id===T.id?"active":""}`,title:"Ojos Cerrados",onClick:w=>{w.preventDefault(),w.stopPropagation(),c(u.id===T.id?e.defaultItem:T)},"data-src":T.src,"data-id":T.id,"data-code-id":T.codeId||""}),b&&I.jsx("img",{src:"photos/app/s.webp",className:`variant-button ${u.id===b.id?"active":""}`,title:"Ojos de Lado",onClick:w=>{w.preventDefault(),w.stopPropagation(),c(u.id===b.id?e.defaultItem:b)},"data-src":b.src,"data-id":b.id,"data-code-id":b.codeId||""})]})]}),I.jsxs("div",{className:"flex items-center gap-1.5 p-1",children:[I.jsx("input",{readOnly:!0,type:"text",value:u.codeId||"",placeholder:"",className:"flex-grow w-0 h-8 px-2 text-xs dark-input rounded-md"}),I.jsx("button",{onClick:d,className:`copy-btn flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-md border transition-all ${r?"bg-green-500/20 text-green-500 border-green-500/50":"bg-[var(--card-lighter)] text-[var(--ink)] border-[var(--border)] hover:bg-[var(--card-hover)]"}`,title:"Copy Code",children:r?I.jsx(Df,{className:"w-4 h-4"}):I.jsx(Nf,{className:"w-4 h-4"})})]})]})}const rP=e=>({"Chill & LoFi":"photos/app/music/chill.webp","Electronic & Remixes":"photos/app/music/electro.webp","Thematic & Mood":"photos/app/music/mood.webp","Pop Hits":"photos/app/music/pop.webp","Runway & Pageant":"photos/app/music/runway.webp","Upbeat & Energetic":"photos/app/music/upbeat.webp","World & Cultural":"photos/app/music/world.webp"})[e]||"photos/app/music.jpg";function fb({code:e,isFavorite:t,onToggleFavorite:n}){const[r,o]=tt.useState(!1),u=()=>{navigator.clipboard.writeText(e.id||""),o(!0),setTimeout(()=>o(!1),2e3)},c=rP(e.category);return I.jsxs("div",{className:"music-card facebase-card bg-[var(--card-light)] rounded-xl shadow-xl ring-1 ring-[var(--border)] overflow-hidden flex flex-col p-1.5 space-y-1.5 !w-full relative",children:[I.jsx("div",{className:"favorite-container",children:I.jsx("button",{className:"favorite-btn",onClick:()=>n(e.id),children:t(e.id)?"":""})}),I.jsxs("div",{className:"text-xs text-[var(--ink)] font-medium px-1 h-8 flex items-center justify-start gap-1",children:[I.jsx("span",{className:"truncate",title:e.title,children:e.title}),e.pitch&&e.pitch!==0&&I.jsx("span",{className:"ml-2 text-xs font-semibold text-cyan-400",title:`Pitch: ${e.pitch}`,children:"[PITCH]"})]}),I.jsx("img",{src:c,alt:e.category,loading:"lazy",className:"w-full h-auto object-cover aspect-square rounded-md"}),I.jsxs("div",{className:"flex items-center gap-1.5 p-1",children:[I.jsx("input",{readOnly:!0,type:"text",value:e.id||"",placeholder:e.artist||"Unknown Artist",className:"flex-grow w-0 h-8 px-2 text-xs dark-input rounded-md",title:`Artist: ${e.artist||"Unknown Artist"}`}),I.jsx("button",{onClick:u,className:`copy-btn flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-md border transition-all ${r?"bg-green-500/20 text-green-500 border-green-500/50":"bg-[var(--card-lighter)] text-[var(--ink)] border-[var(--border)] hover:bg-[var(--card-hover)]"}`,title:"Copy ID",children:r?I.jsx(Df,{className:"w-4 h-4"}):I.jsx(Nf,{className:"w-4 h-4"})})]})]})}const xy=tt.createContext({});function Iy(e){const t=tt.useRef(null);return t.current===null&&(t.current=e()),t.current}const W1=typeof window<"u",J1=W1?tt.useLayoutEffect:tt.useEffect,Zf=tt.createContext(null);function Dy(e,t){e.indexOf(t)===-1&&e.push(t)}function bf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Zi=(e,t,n)=>n>t?t:n<e?e:n;let Ny=()=>{};const Cs={},tw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ew(e){return typeof e=="object"&&e!==null}const nw=e=>/^0[^.\s]+$/u.test(e);function iw(e){let t;return()=>(t===void 0&&(t=e()),t)}const Qn=e=>e,aP=(e,t)=>n=>t(e(n)),qu=(...e)=>e.reduce(aP),xu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Vy{constructor(){this.subscriptions=[]}add(t){return Dy(this.subscriptions,t),()=>bf(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mi=e=>e*1e3,Yn=e=>e/1e3;function sw(e,t){return t?e*(1e3/t):0}const rw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,oP=1e-7,lP=12;function uP(e,t,n,r,o){let u,c,d=0;do c=t+(n-t)/2,u=rw(c,r,o)-e,u>0?n=c:t=c;while(Math.abs(u)>oP&&++d<lP);return c}function Gu(e,t,n,r){if(e===t&&n===r)return Qn;const o=u=>uP(u,0,1,e,n);return u=>u===0||u===1?u:rw(o(u),t,r)}const aw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ow=e=>t=>1-e(1-t),lw=Gu(.33,1.53,.69,.99),My=ow(lw),uw=aw(My),cw=e=>(e*=2)<1?.5*My(e):.5*(2-Math.pow(2,-10*(e-1))),Oy=e=>1-Math.sin(Math.acos(e)),hw=ow(Oy),fw=aw(Oy),cP=Gu(.42,0,1,1),hP=Gu(0,0,.58,1),dw=Gu(.42,0,.58,1),fP=e=>Array.isArray(e)&&typeof e[0]!="number",mw=e=>Array.isArray(e)&&typeof e[0]=="number",dP={linear:Qn,easeIn:cP,easeInOut:dw,easeOut:hP,circIn:Oy,circInOut:fw,circOut:hw,backIn:My,backInOut:uw,backOut:lw,anticipate:cw},mP=e=>typeof e=="string",db=e=>{if(mw(e)){Ny(e.length===4);const[t,n,r,o]=e;return Gu(t,n,r,o)}else if(mP(e))return dP[e];return e},Vh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pP(e,t){let n=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),e()),v(d)}const g={schedule:(v,T=!1,b=!1)=>{const R=b&&o?n:r;return T&&c.add(v),R.has(v)||R.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[n,r]=[r,n],n.forEach(p),n.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const gP=40;function pw(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=Vh.reduce((Q,rt)=>(Q[rt]=pP(u),Q),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:T,preRender:b,render:w,postRender:R}=c,V=()=>{const Q=Cs.useManualTiming?o.timestamp:performance.now();n=!1,Cs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Q-o.timestamp,gP),1)),o.timestamp=Q,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),T.process(o),b.process(o),w.process(o),R.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(V))},U=()=>{n=!0,r=!0,o.isProcessing||e(V)};return{schedule:Vh.reduce((Q,rt)=>{const at=c[rt];return Q[rt]=(ut,D=!1,A=!1)=>(n||U(),at.schedule(ut,D,A)),Q},{}),cancel:Q=>{for(let rt=0;rt<Vh.length;rt++)c[Vh[rt]].cancel(Q)},state:o,steps:c}}const{schedule:ne,cancel:wr,state:Xe,steps:Ep}=pw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qn,!0);let Kh;function yP(){Kh=void 0}const cn={now:()=>(Kh===void 0&&cn.set(Xe.isProcessing||Cs.useManualTiming?Xe.timestamp:performance.now()),Kh),set:e=>{Kh=e,queueMicrotask(yP)}},gw=e=>t=>typeof t=="string"&&t.startsWith(e),yw=gw("--"),vP=gw("var(--"),Py=e=>vP(e)?_P.test(e.split("/*")[0].trim()):!1,_P=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function mb(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Ko={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Iu={...Ko,transform:e=>Zi(0,1,e)},Mh={...Ko,default:1},pu=e=>Math.round(e*1e5)/1e5,ky=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TP(e){return e==null}const EP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ly=(e,t)=>n=>!!(typeof n=="string"&&EP.test(n)&&n.startsWith(e)||t&&!TP(n)&&Object.prototype.hasOwnProperty.call(n,t)),vw=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,u,c,d]=r.match(ky);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},bP=e=>Zi(0,255,e),bp={...Ko,transform:e=>Math.round(bP(e))},ua={test:Ly("rgb","red"),parse:vw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+bp.transform(e)+", "+bp.transform(t)+", "+bp.transform(n)+", "+pu(Iu.transform(r))+")"};function SP(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const ug={test:Ly("#"),parse:SP,transform:ua.transform},Ku=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),or=Ku("deg"),Ki=Ku("%"),mt=Ku("px"),AP=Ku("vh"),wP=Ku("vw"),pb={...Ki,parse:e=>Ki.parse(e)/100,transform:e=>Ki.transform(e*100)},To={test:Ly("hsl","hue"),parse:vw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ki.transform(pu(t))+", "+Ki.transform(pu(n))+", "+pu(Iu.transform(r))+")"},Ne={test:e=>ua.test(e)||ug.test(e)||To.test(e),parse:e=>ua.test(e)?ua.parse(e):To.test(e)?To.parse(e):ug.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ua.transform(e):To.transform(e),getAnimatableNone:e=>{const t=Ne.parse(e);return t.alpha=0,Ne.transform(t)}},CP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RP(e){return isNaN(e)&&typeof e=="string"&&(e.match(ky)?.length||0)+(e.match(CP)?.length||0)>0}const _w="number",Tw="color",xP="var",IP="var(",gb="${}",DP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Du(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(DP,p=>(Ne.test(p)?(r.color.push(u),o.push(Tw),n.push(Ne.parse(p))):p.startsWith(IP)?(r.var.push(u),o.push(xP),n.push(p)):(r.number.push(u),o.push(_w),n.push(parseFloat(p))),++u,gb)).split(gb);return{values:n,split:d,indexes:r,types:o}}function Ew(e){return Du(e).values}function bw(e){const{split:t,types:n}=Du(e),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const d=n[c];d===_w?u+=pu(o[c]):d===Tw?u+=Ne.transform(o[c]):u+=o[c]}return u}}const NP=e=>typeof e=="number"?0:Ne.test(e)?Ne.getAnimatableNone(e):e;function VP(e){const t=Ew(e);return bw(e)(t.map(NP))}const pi={test:RP,parse:Ew,createTransformer:bw,getAnimatableNone:VP};function Sp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function MP({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,u=0,c=0;if(!t)o=u=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,p=2*n-d;o=Sp(p,d,e+1/3),u=Sp(p,d,e),c=Sp(p,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Sf(e,t){return n=>n>0?t:e}const he=(e,t,n)=>e+(t-e)*n,Ap=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},OP=[ug,ua,To],PP=e=>OP.find(t=>t.test(e));function yb(e){const t=PP(e);if(!t)return!1;let n=t.parse(e);return t===To&&(n=MP(n)),n}const vb=(e,t)=>{const n=yb(e),r=yb(t);if(!n||!r)return Sf(e,t);const o={...n};return u=>(o.red=Ap(n.red,r.red,u),o.green=Ap(n.green,r.green,u),o.blue=Ap(n.blue,r.blue,u),o.alpha=he(n.alpha,r.alpha,u),ua.transform(o))},cg=new Set(["none","hidden"]);function kP(e,t){return cg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function LP(e,t){return n=>he(e,t,n)}function Uy(e){return typeof e=="number"?LP:typeof e=="string"?Py(e)?Sf:Ne.test(e)?vb:zP:Array.isArray(e)?Sw:typeof e=="object"?Ne.test(e)?vb:UP:Sf}function Sw(e,t){const n=[...e],r=n.length,o=e.map((u,c)=>Uy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)n[c]=o[c](u);return n}}function UP(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Uy(e[o])(e[o],t[o]));return o=>{for(const u in r)n[u]=r[u](o);return n}}function jP(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][r[u]],d=e.values[c]??0;n[o]=d,r[u]++}return n}const zP=(e,t)=>{const n=pi.createTransformer(t),r=Du(e),o=Du(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?cg.has(e)&&!o.values.length||cg.has(t)&&!r.values.length?kP(e,t):qu(Sw(jP(r,o),o.values),n):Sf(e,t)};function Aw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?he(e,t,n):Uy(e)(e,t)}const BP=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ne.update(t,n),stop:()=>wr(t),now:()=>Xe.isProcessing?Xe.timestamp:cn.now()}},ww=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)r+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Af=2e4;function jy(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Af;)t+=n,r=e.next(t);return t>=Af?1/0:t}function FP(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(jy(r),Af);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Yn(o)}}const HP=5;function Cw(e,t,n){const r=Math.max(t-HP,0);return sw(n-e(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wp=.001;function qP({duration:e=pe.duration,bounce:t=pe.bounce,velocity:n=pe.velocity,mass:r=pe.mass}){let o,u,c=1-t;c=Zi(pe.minDamping,pe.maxDamping,c),e=Zi(pe.minDuration,pe.maxDuration,Yn(e)),c<1?(o=g=>{const v=g*c,T=v*e,b=v-n,w=hg(g,c),R=Math.exp(-T);return wp-b/w*R},u=g=>{const T=g*c*e,b=T*n+n,w=Math.pow(c,2)*Math.pow(g,2)*e,R=Math.exp(-T),V=hg(Math.pow(g,2),c);return(-o(g)+wp>0?-1:1)*((b-w)*R)/V}):(o=g=>{const v=Math.exp(-g*e),T=(g-n)*e+1;return-wp+v*T},u=g=>{const v=Math.exp(-g*e),T=(n-g)*(e*e);return v*T});const d=5/e,p=KP(o,u,d);if(e=mi(e),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:e}}}const GP=12;function KP(e,t,n){let r=n;for(let o=1;o<GP;o++)r=r-e(r)/t(r);return r}function hg(e,t){return e*Math.sqrt(1-t*t)}const YP=["duration","bounce"],QP=["stiffness","damping","mass"];function _b(e,t){return t.some(n=>e[n]!==void 0)}function XP(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!_b(e,QP)&&_b(e,YP))if(t.velocity=0,e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,u=2*Zi(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const n=qP({...e,velocity:0});t={...t,...n,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function wf(e=pe.visualDuration,t=pe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:T,velocity:b,isResolvedFromDuration:w}=XP({...n,velocity:-Yn(n.velocity||0)}),R=b||0,V=g/(2*Math.sqrt(p*v)),U=c-u,G=Yn(Math.sqrt(p/v)),$=Math.abs(U)<5;r||(r=$?pe.restSpeed.granular:pe.restSpeed.default),o||(o=$?pe.restDelta.granular:pe.restDelta.default);let Q;if(V<1){const at=hg(G,V);Q=ut=>{const D=Math.exp(-V*G*ut);return c-D*((R+V*G*U)/at*Math.sin(at*ut)+U*Math.cos(at*ut))}}else if(V===1)Q=at=>c-Math.exp(-G*at)*(U+(R+G*U)*at);else{const at=G*Math.sqrt(V*V-1);Q=ut=>{const D=Math.exp(-V*G*ut),A=Math.min(at*ut,300);return c-D*((R+V*G*U)*Math.sinh(A)+at*U*Math.cosh(A))/at}}const rt={calculatedDuration:w&&T||null,next:at=>{const ut=Q(at);if(w)d.done=at>=T;else{let D=at===0?R:0;V<1&&(D=at===0?mi(R):Cw(Q,at,ut));const A=Math.abs(D)<=r,x=Math.abs(c-ut)<=o;d.done=A&&x}return d.value=d.done?c:ut,d},toString:()=>{const at=Math.min(jy(rt),Af),ut=ww(D=>rt.next(at*D).value,at,30);return at+"ms "+ut},toTransition:()=>{}};return rt}wf.applyToOptions=e=>{const t=FP(e,100,wf);return e.ease=t.ease,e.duration=mi(t.duration),e.type="keyframes",e};function fg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:v}){const T=e[0],b={done:!1,value:T},w=A=>d!==void 0&&A<d||p!==void 0&&A>p,R=A=>d===void 0?p:p===void 0||Math.abs(d-A)<Math.abs(p-A)?d:p;let V=n*t;const U=T+V,G=c===void 0?U:c(U);G!==U&&(V=G-T);const $=A=>-V*Math.exp(-A/r),Q=A=>G+$(A),rt=A=>{const x=$(A),P=Q(A);b.done=Math.abs(x)<=g,b.value=b.done?G:P};let at,ut;const D=A=>{w(b.value)&&(at=A,ut=wf({keyframes:[b.value,R(b.value)],velocity:Cw(Q,A,b.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return D(0),{calculatedDuration:null,next:A=>{let x=!1;return!ut&&at===void 0&&(x=!0,rt(A),D(A)),at!==void 0&&A>=at?ut.next(A-at):(!x&&rt(A),b)}}}function $P(e,t,n){const r=[],o=n||Cs.mix||Aw,u=e.length-1;for(let c=0;c<u;c++){let d=o(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||Qn:t;d=qu(p,d)}r.push(d)}return r}function ZP(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const u=e.length;if(Ny(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=$P(t,r,o),p=d.length,g=v=>{if(c&&v<e[0])return t[0];let T=0;if(p>1)for(;T<e.length-2&&!(v<e[T+1]);T++);const b=xu(e[T],e[T+1],v);return d[T](b)};return n?v=>g(Zi(e[0],e[u-1],v)):g}function WP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=xu(0,t,r);e.push(he(n,1,o))}}function JP(e){const t=[0];return WP(t,e.length-1),t}function tk(e,t){return e.map(n=>n*t)}function ek(e,t){return e.map(()=>t||dw).splice(0,e.length-1)}function gu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=fP(r)?r.map(db):db(r),u={done:!1,value:t[0]},c=tk(n&&n.length===t.length?n:JP(t),e),d=ZP(c,t,{ease:Array.isArray(o)?o:ek(t,o)});return{calculatedDuration:e,next:p=>(u.value=d(p),u.done=p>=e,u)}}const nk=e=>e!==null;function zy(e,{repeat:t,repeatType:n="loop"},r,o=1){const u=e.filter(nk),d=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!d||r===void 0?u[d]:r}const ik={decay:fg,inertia:fg,tween:gu,keyframes:gu,spring:wf};function Rw(e){typeof e.type=="string"&&(e.type=ik[e.type])}class By{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const sk=e=>e/100;class Fy extends By{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==cn.now()&&this.tick(cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Rw(t);const{type:n=gu,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const p=n||gu;p!==gu&&typeof d[0]!="number"&&(this.mixKeyframes=qu(sk,Aw(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=jy(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:T,repeatType:b,repeatDelay:w,type:R,onUpdate:V,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const G=this.currentTime-g*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?G<0:G>o;this.currentTime=Math.max(G,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Q=this.currentTime,rt=r;if(T){const A=Math.min(this.currentTime,o)/d;let x=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&x--,x=Math.min(x,T+1),x%2&&(b==="reverse"?(P=1-P,w&&(P-=w/d)):b==="mirror"&&(rt=c)),Q=Zi(0,1,P)*d}const at=$?{done:!1,value:v[0]}:rt.next(Q);u&&(at.value=u(at.value));let{done:ut}=at;!$&&p!==null&&(ut=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return D&&R!==fg&&(at.value=zy(v,this.options,U,this.speed)),V&&V(at.value),D&&this.finish(),at}then(t,n){return this.finished.then(t,n)}get duration(){return Yn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(this.currentTime)}set time(t){t=mi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(cn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Yn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=BP,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function rk(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ca=e=>e*180/Math.PI,dg=e=>{const t=ca(Math.atan2(e[1],e[0]));return mg(t)},ak={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:dg,rotateZ:dg,skewX:e=>ca(Math.atan(e[1])),skewY:e=>ca(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},mg=e=>(e=e%360,e<0&&(e+=360),e),Tb=dg,Eb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),bb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ok={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Eb,scaleY:bb,scale:e=>(Eb(e)+bb(e))/2,rotateX:e=>mg(ca(Math.atan2(e[6],e[5]))),rotateY:e=>mg(ca(Math.atan2(-e[2],e[0]))),rotateZ:Tb,rotate:Tb,skewX:e=>ca(Math.atan(e[4])),skewY:e=>ca(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pg(e){return e.includes("scale")?1:0}function gg(e,t){if(!e||e==="none")return pg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=ok,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ak,o=d}if(!o)return pg(t);const u=r[t],c=o[1].split(",").map(uk);return typeof u=="function"?u(c):c[u]}const lk=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return gg(n,t)};function uk(e){return parseFloat(e.trim())}const Yo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qo=new Set(Yo),Sb=e=>e===Ko||e===mt,ck=new Set(["x","y","z"]),hk=Yo.filter(e=>!ck.has(e));function fk(e){const t=[];return hk.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const fr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gg(t,"x"),y:(e,{transform:t})=>gg(t,"y")};fr.translateX=fr.x;fr.translateY=fr.y;const fa=new Set;let yg=!1,vg=!1,_g=!1;function xw(){if(vg){const e=Array.from(fa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=fk(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vg=!1,yg=!1,fa.forEach(e=>e.complete(_g)),fa.clear()}function Iw(){fa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vg=!0)})}function dk(){_g=!0,Iw(),xw(),_g=!1}class Hy{constructor(t,n,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(fa.add(this),yg||(yg=!0,ne.read(Iw),ne.resolveKeyframes(xw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&n){const d=r.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}rk(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fa.delete(this)}cancel(){this.state==="scheduled"&&(fa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mk=e=>e.startsWith("--");function pk(e,t,n){mk(t)?e.style.setProperty(t,n):e.style[t]=n}const gk={};function Dw(e,t){const n=iw(e);return()=>gk[t]??n()}const yk=Dw(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),Nw=Dw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ab={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lu([0,.65,.55,1]),circOut:lu([.55,0,1,.45]),backIn:lu([.31,.01,.66,-.59]),backOut:lu([.33,1.53,.69,.99])};function Vw(e,t){if(e)return typeof e=="function"?Nw()?ww(e,t):"ease-out":mw(e)?lu(e):Array.isArray(e)?e.map(n=>Vw(n,t)||Ab.easeOut):Ab[e]}function vk(e,t,n,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:n};p&&(v.offset=p);const T=Vw(d,o);Array.isArray(T)&&(v.easing=T);const b={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),e.animate(v,b)}function Mw(e){return typeof e=="function"&&"applyToOptions"in e}function _k({type:e,...t}){return Mw(e)&&Nw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Ow extends By{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Ny(typeof t.type!="string");const g=_k(t);this.animation=vk(n,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=zy(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):pk(n,r,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Yn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=mi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&yk()?(this.animation.timeline=t,Qn):n(this)}}const Pw={anticipate:cw,backInOut:uw,circInOut:fw};function Tk(e){return e in Pw}function Ek(e){typeof e.ease=="string"&&Tk(e.ease)&&(e.ease=Pw[e.ease])}const Cp=10;class bk extends Ow{constructor(t){Ek(t),Rw(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Fy({...c,autoplay:!1}),p=Math.max(Cp,cn.now()-this.startTime),g=Zi(0,Cp,p-Cp);n.setWithVelocity(d.sample(Math.max(0,p-g)).value,d.sample(p).value,g),d.stop()}}const wb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(pi.test(e)||e==="0")&&!e.startsWith("url("));function Sk(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Ak(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=wb(o,t),d=wb(u,t);return!c||!d?!1:Sk(e)||(n==="spring"||Mw(n))&&r}function Tg(e){e.duration=0,e.type="keyframes"}const wk=new Set(["opacity","clipPath","filter","transform"]),Ck=iw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Rk(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:u,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return Ck()&&n&&wk.has(n)&&(n!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const xk=40;class Ik extends By{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:v,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=cn.now();const b={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...T},w=v?.KeyframeResolver||Hy;this.keyframeResolver=new w(d,(R,V,U)=>this.onKeyframesResolved(R,V,b,!U),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=cn.now(),Ak(t,u,c,d)||((Cs.instantAnimations||!p)&&v?.(zy(t,r,n)),t[0]=t[t.length-1],Tg(r),r.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>xk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},w=!g&&Rk(b),R=b.motionValue?.owner?.current,V=w?new bk({...b,element:R}):new Fy(b);V.finished.then(()=>{this.notifyFinished()}).catch(Qn),this.pendingTimeline&&(this.stopTimeline=V.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=V}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),dk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function kw(e,t,n,r=0,o=1){const u=Array.from(e).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=e.size,d=(c-1)*r;return typeof n=="function"?n(u,c):o===1?u*r:d-u*r}const Dk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nk(e){const t=Dk.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function Lw(e,t,n=1){const[r,o]=Nk(e);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return tw(c)?parseFloat(c):c}return Py(o)?Lw(o,t,n+1):o}const Vk={type:"spring",stiffness:500,damping:25,restSpeed:10},Mk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ok={type:"keyframes",duration:.8},Pk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kk=(e,{keyframes:t})=>t.length>2?Ok:Qo.has(e)?e.startsWith("scale")?Mk(t[1]):Vk:Pk,Lk=e=>e!==null;function Uk(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(Lk),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}function Uw(e,t){if(e?.inherit&&t){const{inherit:n,...r}=e;return{...t,...r}}return e}function qy(e,t){const n=e?.[t]??e?.default??e;return n!==e?Uw(n,e):n}function jk({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Gy=(e,t,n,r={},o,u)=>c=>{const d=qy(r,e)||{},p=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-mi(p);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:o};jk(d)||Object.assign(v,kk(e,v)),v.duration&&(v.duration=mi(v.duration)),v.repeatDelay&&(v.repeatDelay=mi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Tg(v),v.delay===0&&(T=!0)),(Cs.instantAnimations||Cs.skipAnimations||o?.shouldSkipAnimations)&&(T=!0,Tg(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,T&&!u&&t.get()!==void 0){const b=Uk(v.keyframes,d);if(b!==void 0){ne.update(()=>{v.onUpdate(b),v.onComplete()});return}}return d.isSync?new Fy(v):new Ik(v)};function Cb(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Ky(e,t,n,r){if(typeof t=="function"){const[o,u]=Cb(r);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=Cb(r);t=t(n!==void 0?n:e.custom,o,u)}return t}function Vo(e,t,n){const r=e.getProps();return Ky(r,t,n!==void 0?n:r.custom,e)}const jw=new Set(["width","height","top","left","right","bottom",...Yo]),Rb=30,zk=e=>!isNaN(parseFloat(e));class Bk{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=cn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=zk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Vy);const r=this.events[t].add(n);return t==="change"?()=>{r(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Rb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Rb);return sw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zo(e,t){return new Bk(e,t)}const Eg=e=>Array.isArray(e);function Fk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,zo(n))}function Hk(e){return Eg(e)?e[e.length-1]||0:e}function qk(e,t){const n=Vo(e,t);let{transitionEnd:r={},transition:o={},...u}=n||{};u={...u,...r};for(const c in u){const d=Hk(u[c]);Fk(e,c,d)}}const rn=e=>!!(e&&e.getVelocity);function Gk(e){return!!(rn(e)&&e.add)}function bg(e,t){const n=e.getValue("willChange");if(Gk(n))return n.add(t);if(!n&&Cs.WillChange){const r=new Cs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Yy(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Kk="framerAppearId",zw="data-"+Yy(Kk);function Bw(e){return e.props[zw]}function Yk({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Fw(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:u,transitionEnd:c,...d}=t;const p=e.getDefaultTransition();u=u?Uw(u,p):p;const g=u?.reduceMotion;r&&(u=r);const v=[],T=o&&e.animationState&&e.animationState.getState()[o];for(const b in d){const w=e.getValue(b,e.latestValues[b]??null),R=d[b];if(R===void 0||T&&Yk(T,b))continue;const V={delay:n,...qy(u||{},b)},U=w.get();if(U!==void 0&&!w.isAnimating&&!Array.isArray(R)&&R===U&&!V.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const rt=Bw(e);if(rt){const at=window.MotionHandoffAnimation(rt,b,ne);at!==null&&(V.startTime=at,G=!0)}}bg(e,b);const $=g??e.shouldReduceMotion;w.start(Gy(b,w,R,$&&jw.has(b)?{type:!1}:V,e,G));const Q=w.animation;Q&&v.push(Q)}if(c){const b=()=>ne.update(()=>{c&&qk(e,c)});v.length?Promise.all(v).then(b):b()}return v}function Sg(e,t,n={}){const r=Vo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(Fw(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:T}=o;return Qk(e,t,p,g,v,T,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function Qk(e,t,n=0,r=0,o=0,u=1,c){const d=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),d.push(Sg(p,t,{...c,delay:n+(typeof r=="function"?0:r)+kw(e.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function Xk(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Sg(e,u,n));r=Promise.all(o)}else if(typeof t=="string")r=Sg(e,t,n);else{const o=typeof t=="function"?Vo(e,t,n.custom):t;r=Promise.all(Fw(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const $k={test:e=>e==="auto",parse:e=>e},Hw=e=>t=>t.test(e),qw=[Ko,mt,Ki,or,wP,AP,$k],xb=e=>qw.find(Hw(e));function Zk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||nw(e):!0}const Wk=new Set(["brightness","contrast","saturate","opacity"]);function Jk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ky)||[];if(!r)return e;const o=n.replace(r,"");let u=Wk.has(t)?1:0;return r!==n&&(u*=100),t+"("+u+o+")"}const t3=/\b([a-z-]*)\(.*?\)/gu,Ag={...pi,getAnimatableNone:e=>{const t=e.match(t3);return t?t.map(Jk).join(" "):e}},wg={...pi,getAnimatableNone:e=>{const t=pi.parse(e);return pi.createTransformer(e)(t.map(r=>typeof r=="number"?0:typeof r=="object"?{...r,alpha:1}:r))}},Ib={...Ko,transform:Math.round},e3={rotate:or,rotateX:or,rotateY:or,rotateZ:or,scale:Mh,scaleX:Mh,scaleY:Mh,scaleZ:Mh,skew:or,skewX:or,skewY:or,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Iu,originX:pb,originY:pb,originZ:mt},Qy={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,inset:mt,insetBlock:mt,insetBlockStart:mt,insetBlockEnd:mt,insetInline:mt,insetInlineStart:mt,insetInlineEnd:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,paddingBlock:mt,paddingBlockStart:mt,paddingBlockEnd:mt,paddingInline:mt,paddingInlineStart:mt,paddingInlineEnd:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,marginBlock:mt,marginBlockStart:mt,marginBlockEnd:mt,marginInline:mt,marginInlineStart:mt,marginInlineEnd:mt,fontSize:mt,backgroundPositionX:mt,backgroundPositionY:mt,...e3,zIndex:Ib,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:Ib},n3={...Qy,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:Ag,WebkitFilter:Ag,mask:wg,WebkitMask:wg},Gw=e=>n3[e],i3=new Set([Ag,wg]);function Kw(e,t){let n=Gw(e);return i3.has(n)||(n=pi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const s3=new Set(["auto","none","0"]);function r3(e,t,n){let r=0,o;for(;r<e.length&&!o;){const u=e[r];typeof u=="string"&&!s3.has(u)&&Du(u).values.length&&(o=e[r]),r++}if(o&&n)for(const u of t)e[u]=Kw(n,o)}class a3 extends Hy{constructor(t,n,r,o,u){super(t,n,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<t.length;v++){let T=t[v];if(typeof T=="string"&&(T=T.trim(),Py(T))){const b=Lw(T,n.current);b!==void 0&&(t[v]=b),v===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!jw.has(r)||t.length!==2)return;const[o,u]=t,c=xb(o),d=xb(u),p=mb(o),g=mb(u);if(p!==g&&fr[r]){this.needsMeasurement=!0;return}if(c!==d)if(Sb(c)&&Sb(d))for(let v=0;v<t.length;v++){const T=t[v];typeof T=="string"&&(t[v]=parseFloat(T))}else fr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||Zk(t[o]))&&r.push(o);r.length&&r3(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=fr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const o3=new Set(["opacity","clipPath","filter","transform"]);function Yw(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=n?.[e]??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e).filter(r=>r!=null)}const Qw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Cg(e){return ew(e)&&"offsetHeight"in e}const{schedule:Xy}=pw(queueMicrotask,!1),li={x:!1,y:!1};function Xw(){return li.x||li.y}function l3(e){return e==="x"||e==="y"?li[e]?null:(li[e]=!0,()=>{li[e]=!1}):li.x||li.y?null:(li.x=li.y=!0,()=>{li.x=li.y=!1})}function $w(e,t){const n=Yw(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function u3(e){return!(e.pointerType==="touch"||Xw())}function c3(e,t,n={}){const[r,o,u]=$w(e,n);return r.forEach(c=>{let d=!1,p=!1,g;const v=()=>{c.removeEventListener("pointerleave",R)},T=U=>{g&&(g(U),g=void 0),v()},b=U=>{d=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),p&&(p=!1,T(U))},w=()=>{d=!0,window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",b,o)},R=U=>{if(U.pointerType!=="touch"){if(d){p=!0;return}T(U)}},V=U=>{if(!u3(U))return;p=!1;const G=t(c,U);typeof G=="function"&&(g=G,c.addEventListener("pointerleave",R,o))};c.addEventListener("pointerenter",V,o),c.addEventListener("pointerdown",w,o)}),u}const Zw=(e,t)=>t?e===t?!0:Zw(e,t.parentElement):!1,$y=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,h3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function f3(e){return h3.has(e.tagName)||e.isContentEditable===!0}const d3=new Set(["INPUT","SELECT","TEXTAREA"]);function m3(e){return d3.has(e.tagName)||e.isContentEditable===!0}const Yh=new WeakSet;function Db(e){return t=>{t.key==="Enter"&&e(t)}}function Rp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const p3=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Db(()=>{if(Yh.has(n))return;Rp(n,"down");const o=Db(()=>{Rp(n,"up")}),u=()=>Rp(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Nb(e){return $y(e)&&!Xw()}const Vb=new WeakSet;function g3(e,t,n={}){const[r,o,u]=$w(e,n),c=d=>{const p=d.currentTarget;if(!Nb(d)||Vb.has(d))return;Yh.add(p),n.stopPropagation&&Vb.add(d);const g=t(p,d),v=(w,R)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",b),Yh.has(p)&&Yh.delete(p),Nb(w)&&typeof g=="function"&&g(w,{success:R})},T=w=>{v(w,p===window||p===document||n.useGlobalTarget||Zw(p,w.target))},b=w=>{v(w,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",b,o)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),Cg(d)&&(d.addEventListener("focus",g=>p3(g,o)),!f3(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function Zy(e){return ew(e)&&"ownerSVGElement"in e}const Qh=new WeakMap;let Xh;const Ww=(e,t,n)=>(r,o)=>o&&o[0]?o[0][e+"Size"]:Zy(r)&&"getBBox"in r?r.getBBox()[t]:r[n],y3=Ww("inline","width","offsetWidth"),v3=Ww("block","height","offsetHeight");function _3({target:e,borderBoxSize:t}){Qh.get(e)?.forEach(n=>{n(e,{get width(){return y3(e,t)},get height(){return v3(e,t)}})})}function T3(e){e.forEach(_3)}function E3(){typeof ResizeObserver>"u"||(Xh=new ResizeObserver(T3))}function b3(e,t){Xh||E3();const n=Yw(e);return n.forEach(r=>{let o=Qh.get(r);o||(o=new Set,Qh.set(r,o)),o.add(t),Xh?.observe(r)}),()=>{n.forEach(r=>{const o=Qh.get(r);o?.delete(t),o?.size||Xh?.unobserve(r)})}}const $h=new Set;let Eo;function S3(){Eo=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};$h.forEach(t=>t(e))},window.addEventListener("resize",Eo)}function A3(e){return $h.add(e),Eo||S3(),()=>{$h.delete(e),!$h.size&&typeof Eo=="function"&&(window.removeEventListener("resize",Eo),Eo=void 0)}}function Mb(e,t){return typeof e=="function"?A3(e):b3(e,t)}function w3(e){return Zy(e)&&e.tagName==="svg"}const C3=[...qw,Ne,pi],R3=e=>C3.find(Hw(e)),Ob=()=>({translate:0,scale:1,origin:0,originPoint:0}),bo=()=>({x:Ob(),y:Ob()}),Pb=()=>({min:0,max:0}),ke=()=>({x:Pb(),y:Pb()}),x3=new WeakMap;function Wf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Nu(e){return typeof e=="string"||Array.isArray(e)}const Wy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jy=["initial",...Wy];function Jf(e){return Wf(e.animate)||Jy.some(t=>Nu(e[t]))}function Jw(e){return!!(Jf(e)||e.variants)}function I3(e,t,n){for(const r in t){const o=t[r],u=n[r];if(rn(o))e.addValue(r,o);else if(rn(u))e.addValue(r,zo(o,{owner:e}));else if(u!==o)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(r);e.addValue(r,zo(c!==void 0?c:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Rg={current:null},tC={current:!1},D3=typeof window<"u";function N3(){if(tC.current=!0,!!D3)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rg.current=e.matches;e.addEventListener("change",t),t()}else Rg.current=!1}const kb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Cf={};function eC(e){Cf=e}function V3(){return Cf}class M3{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,skipAnimations:u,blockInitialAnimation:c,visualState:d},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Hy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=cn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ne.render(this.render,!1,!0))};const{latestValues:g,renderState:v}=d;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=v,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=u,this.options=p,this.blockInitialAnimation=!!c,this.isControllingVariants=Jf(n),this.isVariantNode=Jw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:T,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in b){const R=b[w];g[w]!==void 0&&rn(R)&&R.set(g[w])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,x3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(tC.current||N3(),this.shouldReduceMotion=Rg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),wr(this.notifyUpdate),wr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&o3.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:d,times:p,ease:g,duration:v}=n.accelerate,T=new Ow({element:this.current,name:t,keyframes:d,times:p,ease:g,duration:mi(v)}),b=c(T);this.valueSubscriptions.set(t,()=>{b(),T.cancel()});return}const r=Qo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ne.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Cf){const n=Cf[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<kb.length;r++){const o=kb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=I3(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=zo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(tw(r)||nw(r))?r=parseFloat(r):!R3(r)&&pi.test(n)&&(r=Kw(t,n)),this.setBaseTarget(t,rn(r)?r.get():r)),rn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=Ky(this.props,n,this.presenceContext?.custom);u&&(r=u[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!rn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Vy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Xy.render(this.render)}}class nC extends M3{constructor(){super(...arguments),this.KeyframeResolver=a3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Cr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function iC({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function O3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function P3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function xp(e){return e===void 0||e===1}function xg({scale:e,scaleX:t,scaleY:n}){return!xp(e)||!xp(t)||!xp(n)}function aa(e){return xg(e)||sC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sC(e){return Lb(e.x)||Lb(e.y)}function Lb(e){return e&&e!=="0%"}function Rf(e,t,n){const r=e-n,o=t*r;return n+o}function Ub(e,t,n,r,o){return o!==void 0&&(e=Rf(e,o,r)),Rf(e,n,r)+t}function Ig(e,t=0,n=1,r,o){e.min=Ub(e.min,t,n,r,o),e.max=Ub(e.max,t,n,r,o)}function rC(e,{x:t,y:n}){Ig(e.x,t.translate,t.scale,t.originPoint),Ig(e.y,n.translate,n.scale,n.originPoint)}const jb=.999999999999,zb=1.0000000000001;function k3(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=n[d],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ao(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,rC(e,c)),r&&aa(u.latestValues)&&Ao(e,u.latestValues))}t.x<zb&&t.x>jb&&(t.x=1),t.y<zb&&t.y>jb&&(t.y=1)}function So(e,t){e.min=e.min+t,e.max=e.max+t}function Bb(e,t,n,r,o=.5){const u=he(e.min,e.max,o);Ig(e,t,n,u,r)}function Ao(e,t){Bb(e.x,t.x,t.scaleX,t.scale,t.originX),Bb(e.y,t.y,t.scaleY,t.scale,t.originY)}function aC(e,t){return iC(P3(e.getBoundingClientRect(),t))}function L3(e,t,n){const r=aC(e,n),{scroll:o}=t;return o&&(So(r.x,o.offset.x),So(r.y,o.offset.y)),r}const U3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},j3=Yo.length;function z3(e,t,n){let r="",o=!0;for(let u=0;u<j3;u++){const c=Yo[u],d=e[c];if(d===void 0)continue;let p=!0;if(typeof d=="number")p=d===(c.startsWith("scale")?1:0);else{const g=parseFloat(d);p=c.startsWith("scale")?g===1:g===0}if(!p||n){const g=Qw(d,Qy[c]);if(!p){o=!1;const v=U3[c]||c;r+=`${v}(${g}) `}n&&(t[c]=g)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function tv(e,t,n){const{style:r,vars:o,transformOrigin:u}=e;let c=!1,d=!1;for(const p in t){const g=t[p];if(Qo.has(p)){c=!0;continue}else if(yw(p)){o[p]=g;continue}else{const v=Qw(g,Qy[p]);p.startsWith("origin")?(d=!0,u[p]=v):r[p]=v}}if(t.transform||(c||n?r.transform=z3(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}function oC(e,{style:t,vars:n},r,o){const u=e.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in n)u.setProperty(c,n[c])}function Fb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(mt.test(e))e=parseFloat(e);else return e;const n=Fb(e,t.target.x),r=Fb(e,t.target.y);return`${n}% ${r}%`}},B3={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=pi.parse(e);if(o.length>5)return r;const u=pi.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,p=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=p;const g=he(d,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},Dg={borderRadius:{...nu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nu,borderTopRightRadius:nu,borderBottomLeftRadius:nu,borderBottomRightRadius:nu,boxShadow:B3};function lC(e,{layout:t,layoutId:n}){return Qo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Dg[e]||e==="opacity")}function ev(e,t,n){const r=e.style,o=t?.style,u={};if(!r)return u;for(const c in r)(rn(r[c])||o&&rn(o[c])||lC(c,e)||n?.getValue(c)?.liveStyle!==void 0)&&(u[c]=r[c]);return u}function F3(e){return window.getComputedStyle(e)}class H3 extends nC{constructor(){super(...arguments),this.type="html",this.renderInstance=oC}readValueFromInstance(t,n){if(Qo.has(n))return this.projection?.isProjecting?pg(n):lk(t,n);{const r=F3(t),o=(yw(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return aC(t,n)}build(t,n,r){tv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ev(t,n,r)}}const q3={offset:"stroke-dashoffset",array:"stroke-dasharray"},G3={offset:"strokeDashoffset",array:"strokeDasharray"};function K3(e,t,n=1,r=0,o=!0){e.pathLength=1;const u=o?q3:G3;e[u.offset]=`${-r}`,e[u.array]=`${t} ${n}`}const Y3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function uC(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},p,g,v){if(tv(e,d,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:T,style:b}=e;T.transform&&(b.transform=T.transform,delete T.transform),(b.transform||T.transformOrigin)&&(b.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),b.transform&&(b.transformBox=v?.transformBox??"fill-box",delete T.transformBox);for(const w of Y3)T[w]!==void 0&&(b[w]=T[w],delete T[w]);t!==void 0&&(T.x=t),n!==void 0&&(T.y=n),r!==void 0&&(T.scale=r),o!==void 0&&K3(T,o,u,c,!1)}const cC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),hC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Q3(e,t,n,r){oC(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(cC.has(o)?o:Yy(o),t.attrs[o])}function fC(e,t,n){const r=ev(e,t,n);for(const o in e)if(rn(e[o])||rn(t[o])){const u=Yo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=e[o]}return r}class X3 extends nC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ke}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Qo.has(n)){const r=Gw(n);return r&&r.default||0}return n=cC.has(n)?n:Yy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return fC(t,n,r)}build(t,n,r){uC(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){Q3(t,n,r,o)}mount(t){this.isSVGTag=hC(t.tagName),super.mount(t)}}const $3=Jy.length;function dC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?dC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<$3;n++){const r=Jy[n],o=e.props[r];(Nu(o)||o===!1)&&(t[r]=o)}return t}function mC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Z3=[...Wy].reverse(),W3=Wy.length;function J3(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Xk(e,n,r)))}function tL(e){let t=J3(e),n=Hb(),r=!0;const o=p=>(g,v)=>{const T=Vo(e,v,p==="exit"?e.presenceContext?.custom:void 0);if(T){const{transition:b,transitionEnd:w,...R}=T;g={...g,...R,...w}}return g};function u(p){t=p(e)}function c(p){const{props:g}=e,v=dC(e.parent)||{},T=[],b=new Set;let w={},R=1/0;for(let U=0;U<W3;U++){const G=Z3[U],$=n[G],Q=g[G]!==void 0?g[G]:v[G],rt=Nu(Q),at=G===p?$.isActive:null;at===!1&&(R=U);let ut=Q===v[G]&&Q!==g[G]&&rt;if(ut&&r&&e.manuallyAnimateOnMount&&(ut=!1),$.protectedKeys={...w},!$.isActive&&at===null||!Q&&!$.prevProp||Wf(Q)||typeof Q=="boolean")continue;if(G==="exit"&&$.isActive&&at!==!0){$.prevResolvedValues&&(w={...w,...$.prevResolvedValues});continue}const D=eL($.prevProp,Q);let A=D||G===p&&$.isActive&&!ut&&rt||U>R&&rt,x=!1;const P=Array.isArray(Q)?Q:[Q];let O=P.reduce(o(G),{});at===!1&&(O={});const{prevResolvedValues:j={}}=$,N={...j,...O},Ft=st=>{A=!0,b.has(st)&&(x=!0,b.delete(st)),$.needsAnimating[st]=!0;const ft=e.getValue(st);ft&&(ft.liveStyle=!1)};for(const st in N){const ft=O[st],xt=j[st];if(w.hasOwnProperty(st))continue;let Mt=!1;Eg(ft)&&Eg(xt)?Mt=!mC(ft,xt):Mt=ft!==xt,Mt?ft!=null?Ft(st):b.add(st):ft!==void 0&&b.has(st)?Ft(st):$.protectedKeys[st]=!0}$.prevProp=Q,$.prevResolvedValues=O,$.isActive&&(w={...w,...O}),r&&e.blockInitialAnimation&&(A=!1);const ie=ut&&D;A&&(!ie||x)&&T.push(...P.map(st=>{const ft={type:G};if(typeof st=="string"&&r&&!ie&&e.manuallyAnimateOnMount&&e.parent){const{parent:xt}=e,Mt=Vo(xt,st);if(xt.enteringChildren&&Mt){const{delayChildren:L}=Mt.transition||{};ft.delay=kw(xt.enteringChildren,e,L)}}return{animation:st,options:ft}}))}if(b.size){const U={};if(typeof g.initial!="boolean"){const G=Vo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);G&&G.transition&&(U.transition=G.transition)}b.forEach(G=>{const $=e.getBaseTarget(G),Q=e.getValue(G);Q&&(Q.liveStyle=!0),U[G]=$??null}),T.push({animation:U})}let V=!!T.length;return r&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(V=!1),r=!1,V?t(T):Promise.resolve()}function d(p,g){if(n[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(T=>T.animationState?.setActive(p,g)),n[p].isActive=g;const v=c(p);for(const T in n)n[T].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>n,reset:()=>{n=Hb()}}}function eL(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mC(t,e):!1}function sa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hb(){return{animate:sa(!0),whileInView:sa(),whileHover:sa(),whileTap:sa(),whileDrag:sa(),whileFocus:sa(),exit:sa()}}function qb(e,t){e.min=t.min,e.max=t.max}function oi(e,t){qb(e.x,t.x),qb(e.y,t.y)}function Gb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const pC=1e-4,nL=1-pC,iL=1+pC,gC=.01,sL=0-gC,rL=0+gC;function hn(e){return e.max-e.min}function aL(e,t,n){return Math.abs(e-t)<=n}function Kb(e,t,n,r=.5){e.origin=r,e.originPoint=he(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=he(n.min,n.max,e.origin)-e.originPoint,(e.scale>=nL&&e.scale<=iL||isNaN(e.scale))&&(e.scale=1),(e.translate>=sL&&e.translate<=rL||isNaN(e.translate))&&(e.translate=0)}function yu(e,t,n,r){Kb(e.x,t.x,n.x,r?r.originX:void 0),Kb(e.y,t.y,n.y,r?r.originY:void 0)}function Yb(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function oL(e,t,n){Yb(e.x,t.x,n.x),Yb(e.y,t.y,n.y)}function Qb(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function xf(e,t,n){Qb(e.x,t.x,n.x),Qb(e.y,t.y,n.y)}function Xb(e,t,n,r,o){return e-=t,e=Rf(e,1/n,r),o!==void 0&&(e=Rf(e,1/o,r)),e}function lL(e,t=0,n=1,r=.5,o,u=e,c=e){if(Ki.test(t)&&(t=parseFloat(t),t=he(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=he(u.min,u.max,r);e===u&&(d-=t),e.min=Xb(e.min,t,n,d,o),e.max=Xb(e.max,t,n,d,o)}function $b(e,t,[n,r,o],u,c){lL(e,t[n],t[r],t[o],t.scale,u,c)}const uL=["x","scaleX","originX"],cL=["y","scaleY","originY"];function Zb(e,t,n,r){$b(e.x,t,uL,n?n.x:void 0,r?r.x:void 0),$b(e.y,t,cL,n?n.y:void 0,r?r.y:void 0)}function Wb(e){return e.translate===0&&e.scale===1}function yC(e){return Wb(e.x)&&Wb(e.y)}function Jb(e,t){return e.min===t.min&&e.max===t.max}function hL(e,t){return Jb(e.x,t.x)&&Jb(e.y,t.y)}function tS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function vC(e,t){return tS(e.x,t.x)&&tS(e.y,t.y)}function eS(e){return hn(e.x)/hn(e.y)}function nS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Ui(e){return[e("x"),e("y")]}function fL(e,t,n){let r="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=n?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:T,rotateY:b,skewX:w,skewY:R}=n;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),T&&(r+=`rotateX(${T}deg) `),b&&(r+=`rotateY(${b}deg) `),w&&(r+=`skewX(${w}deg) `),R&&(r+=`skewY(${R}deg) `)}const d=e.x.scale*t.x,p=e.y.scale*t.y;return(d!==1||p!==1)&&(r+=`scale(${d}, ${p})`),r||"none"}const _C=["TopLeft","TopRight","BottomLeft","BottomRight"],dL=_C.length,iS=e=>typeof e=="string"?parseFloat(e):e,sS=e=>typeof e=="number"||mt.test(e);function mL(e,t,n,r,o,u){o?(e.opacity=he(0,n.opacity??1,pL(r)),e.opacityExit=he(t.opacity??1,0,gL(r))):u&&(e.opacity=he(t.opacity??1,n.opacity??1,r));for(let c=0;c<dL;c++){const d=`border${_C[c]}Radius`;let p=rS(t,d),g=rS(n,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||sS(p)===sS(g)?(e[d]=Math.max(he(iS(p),iS(g),r),0),(Ki.test(g)||Ki.test(p))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=he(t.rotate||0,n.rotate||0,r))}function rS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const pL=TC(0,.5,hw),gL=TC(.5,.95,Qn);function TC(e,t,n){return r=>r<e?0:r>t?1:n(xu(e,t,r))}function yL(e,t,n){const r=rn(e)?e:zo(e);return r.start(Gy("",r,t,n)),r.animation}function Vu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const vL=(e,t)=>e.depth-t.depth;class _L{constructor(){this.children=[],this.isDirty=!1}add(t){Dy(this.children,t),this.isDirty=!0}remove(t){bf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vL),this.isDirty=!1,this.children.forEach(t)}}function TL(e,t){const n=cn.now(),r=({timestamp:o})=>{const u=o-n;u>=t&&(wr(r),e(u-t))};return ne.setup(r,!0),()=>wr(r)}function Zh(e){return rn(e)?e.get():e}class EL{constructor(){this.members=[]}add(t){Dy(this.members,t);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===t||r===this.lead||r===this.prevLead)continue;const o=r.instance;o&&o.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&bf(this.members,r)}t.scheduleRender()}remove(t){if(bf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const u=this.members[o],c=u.instance;if(u.isPresent!==!1&&(!c||c.isConnected!==!1)){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const o=r.options.layoutDependency,u=t.options.layoutDependency;if(!(o!==void 0&&u!==void 0&&o===u)){const p=r.instance;p&&p.isConnected===!1&&!r.snapshot||(t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:d}=t.options;d===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Wh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ip=["","X","Y","Z"],bL=1e3;let SL=0;function Dp(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function EC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Bw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ne,!(o||u))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&EC(r)}function bC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=SL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CL),this.nodes.forEach(DL),this.nodes.forEach(NL),this.nodes.forEach(RL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new _L)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Vy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Zy(c)&&!w3(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),e){let v,T=0;const b=()=>this.root.updateBlockedByResize=!1;ne.read(()=>{T=window.innerWidth}),e(c,()=>{const w=window.innerWidth;w!==T&&(T=w,this.root.updateBlockedByResize=!0,v&&v(),v=TL(b,250),Wh.hasAnimatedSinceResize&&(Wh.hasAnimatedSinceResize=!1,this.nodes.forEach(lS)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||g.getDefaultTransition()||kL,{onLayoutAnimationStart:V,onLayoutAnimationComplete:U}=g.getProps(),G=!this.targetLayout||!vC(this.targetLayout,w),$=!T&&b;if(this.options.layoutRoot||this.resumeFrom||$||T&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...qy(R,"layout"),onPlay:V,onComplete:U};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(v,$)}else T||lS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&EC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(oS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(IL),this.nodes.forEach(AL),this.nodes.forEach(wL)):this.nodes.forEach(oS),this.clearAllSnapshots();const d=cn.now();Xe.delta=Zi(0,1e3/60,d-Xe.timestamp),Xe.timestamp=d,Xe.isProcessing=!0,Ep.update.process(Xe),Ep.preRender.process(Xe),Ep.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xL),this.sharedNodes.forEach(ML)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!yC(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||aa(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),LL(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ke();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(UL))){const{scroll:g}=this.root;g&&(So(d.x,g.offset.x),So(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ke();if(oi(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:T}=g;g!==this.root&&v&&T.layoutScroll&&(v.wasRoot&&oi(d,c),So(d.x,v.offset.x),So(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const p=ke();oi(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ao(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),aa(v.latestValues)&&Ao(p,v.latestValues)}return aa(this.latestValues)&&Ao(p,this.latestValues),p}removeTransform(c){const d=ke();oi(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!aa(g.latestValues))continue;xg(g.latestValues)&&g.updateSnapshot();const v=ke(),T=g.measurePageBox();oi(v,T),Zb(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return aa(this.latestValues)&&Zb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!this.layout||!(v||T))return;this.resolvedRelativeTargetAt=Xe.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oi(this.target,this.layout.layoutBox),rC(this.target,this.targetDelta)):oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||xg(this.parent.latestValues)||sC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),xf(this.relativeTargetOrigin,d,p),oi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;oi(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,b=this.treeScale.y;k3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ke());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gb(this.prevProjectionDelta.x,this.projectionDelta.x),Gb(this.prevProjectionDelta.y,this.projectionDelta.y)),yu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==b||!nS(this.projectionDelta.x,this.prevProjectionDelta.x)||!nS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bo(),this.projectionDelta=bo(),this.projectionDeltaWithTransform=bo()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},T=bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=ke(),w=p?p.source:void 0,R=this.layout?this.layout.source:void 0,V=w!==R,U=this.getStack(),G=!U||U.members.length<=1,$=!!(V&&!G&&this.options.crossfade===!0&&!this.path.some(PL));this.animationProgress=0;let Q;this.mixTargetDelta=rt=>{const at=rt/1e3;uS(T.x,c.x,at),uS(T.y,c.y,at),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xf(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OL(this.relativeTarget,this.relativeTargetOrigin,b,at),Q&&hL(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=ke()),oi(Q,this.relativeTarget)),V&&(this.animationValues=v,mL(v,g,this.latestValues,at,$,G)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ne.update(()=>{Wh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zo(0)),this.motionValue.jump(0,!1),this.currentAnimation=yL(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&SC(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ke();const T=hn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const b=hn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+b}oi(d,p),Ao(d,v),yu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new EL),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Dp("z",c,g,this.animationValues);for(let v=0;v<Ip.length;v++)Dp(`rotate${Ip[v]}`,c,g,this.animationValues),Dp(`skew${Ip[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Zh(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Zh(d?.pointerEvents)||""),this.hasProjected&&!aa(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=fL(this.projectionDeltaWithTransform,this.treeScale,v);p&&(T=p(v,T)),c.transform=T;const{x:b,y:w}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const R in Dg){if(v[R]===void 0)continue;const{correct:V,applyTo:U,isCSSVariable:G}=Dg[R],$=T==="none"?v[R]:V(v[R],g);if(U){const Q=U.length;for(let rt=0;rt<Q;rt++)c[U[rt]]=$}else G?this.options.visualElement.renderState.vars[R]=$:c[R]=$}this.options.layoutId&&(c.pointerEvents=g===this?Zh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(aS),this.root.sharedNodes.clear()}}}function AL(e){e.updateLayout()}function wL(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?Ui(v=>{const T=u?t.measuredBox[v]:t.layoutBox[v],b=hn(T);T.min=n[v].min,T.max=T.min+b}):SC(o,t.layoutBox,n)&&Ui(v=>{const T=u?t.measuredBox[v]:t.layoutBox[v],b=hn(n[v]);T.max=T.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+b)});const c=bo();yu(c,n,t.layoutBox);const d=bo();u?yu(d,e.applyTransform(r,!0),t.measuredBox):yu(d,n,t.layoutBox);const p=!yC(c);let g=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:T,layout:b}=v;if(T&&b){const w=ke();xf(w,t.layoutBox,T.layoutBox);const R=ke();xf(R,n,b.layoutBox),vC(w,R)||(g=!0),v.options.layoutRoot&&(e.relativeTarget=R,e.relativeTargetOrigin=w,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function CL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function RL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xL(e){e.clearSnapshot()}function aS(e){e.clearMeasurements()}function oS(e){e.isLayoutDirty=!1}function IL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function DL(e){e.resolveTargetDelta()}function NL(e){e.calcProjection()}function VL(e){e.resetSkewAndRotation()}function ML(e){e.removeLeadSnapshot()}function uS(e,t,n){e.translate=he(t.translate,0,n),e.scale=he(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cS(e,t,n,r){e.min=he(t.min,n.min,r),e.max=he(t.max,n.max,r)}function OL(e,t,n,r){cS(e.x,t.x,n.x,r),cS(e.y,t.y,n.y,r)}function PL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const kL={duration:.45,ease:[.4,0,.1,1]},hS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fS=hS("applewebkit/")&&!hS("chrome/")?Math.round:Qn;function dS(e){e.min=fS(e.min),e.max=fS(e.max)}function LL(e){dS(e.x),dS(e.y)}function SC(e,t,n){return e==="position"||e==="preserve-aspect"&&!aL(eS(t),eS(n),.2)}function UL(e){return e!==e.root&&e.scroll?.wasRoot}const jL=bC({attachResizeListener:(e,t)=>Vu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Np={current:void 0},AC=bC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Np.current){const e=new jL({});e.mount(window),e.setOptions({layoutScroll:!0}),Np.current=e}return Np.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nv=tt.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function mS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function zL(...e){return t=>{let n=!1;const r=e.map(o=>{const u=mS(o,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():mS(e[o],null)}}}}function BL(...e){return tt.useCallback(zL(...e),e)}class FL extends tt.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,o=Cg(r)&&r.offsetWidth||0,u=Cg(r)&&r.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=o-c.width-c.left,c.bottom=u-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function HL({children:e,isPresent:t,anchorX:n,anchorY:r,root:o,pop:u}){const c=tt.useId(),d=tt.useRef(null),p=tt.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=tt.useContext(nv),v=e.props?.ref??e?.ref,T=BL(d,v);return tt.useInsertionEffect(()=>{const{width:b,height:w,top:R,left:V,right:U,bottom:G}=p.current;if(t||u===!1||!d.current||!b||!w)return;const $=n==="left"?`left: ${V}`:`right: ${U}`,Q=r==="bottom"?`bottom: ${G}`:`top: ${R}`;d.current.dataset.motionPopId=c;const rt=document.createElement("style");g&&(rt.nonce=g);const at=o??document.head;return at.appendChild(rt),rt.sheet&&rt.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${w}px !important;
            ${$}px !important;
            ${Q}px !important;
          }
        `),()=>{at.contains(rt)&&at.removeChild(rt)}},[t]),I.jsx(FL,{isPresent:t,childRef:d,sizeRef:p,pop:u,children:u===!1?e:tt.cloneElement(e,{ref:T})})}const qL=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,anchorY:p,root:g})=>{const v=Iy(GL),T=tt.useId();let b=!0,w=tt.useMemo(()=>(b=!1,{id:T,initial:t,isPresent:n,custom:o,onExitComplete:R=>{v.set(R,!0);for(const V of v.values())if(!V)return;r&&r()},register:R=>(v.set(R,!1),()=>v.delete(R))}),[n,v,r]);return u&&b&&(w={...w}),tt.useMemo(()=>{v.forEach((R,V)=>v.set(V,!1))},[n]),tt.useEffect(()=>{!n&&!v.size&&r&&r()},[n]),e=I.jsx(HL,{pop:c==="popLayout",isPresent:n,anchorX:d,anchorY:p,root:g,children:e}),I.jsx(Zf.Provider,{value:w,children:e})};function GL(){return new Map}function wC(e=!0){const t=tt.useContext(Zf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,u=tt.useId();tt.useEffect(()=>{if(e)return o(u)},[e]);const c=tt.useCallback(()=>e&&r&&r(u),[u,r,e]);return!n&&r?[!1,c]:[!0]}const Oh=e=>e.key||"";function pS(e){const t=[];return tt.Children.forEach(e,n=>{tt.isValidElement(n)&&t.push(n)}),t}const KL=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",anchorY:p="top",root:g})=>{const[v,T]=wC(c),b=tt.useMemo(()=>pS(e),[e]),w=c&&!v?[]:b.map(Oh),R=tt.useRef(!0),V=tt.useRef(b),U=Iy(()=>new Map),G=tt.useRef(new Set),[$,Q]=tt.useState(b),[rt,at]=tt.useState(b);J1(()=>{R.current=!1,V.current=b;for(let A=0;A<rt.length;A++){const x=Oh(rt[A]);w.includes(x)?(U.delete(x),G.current.delete(x)):U.get(x)!==!0&&U.set(x,!1)}},[rt,w.length,w.join("-")]);const ut=[];if(b!==$){let A=[...b];for(let x=0;x<rt.length;x++){const P=rt[x],O=Oh(P);w.includes(O)||(A.splice(x,0,P),ut.push(P))}return u==="wait"&&ut.length&&(A=ut),at(pS(A)),Q(b),null}const{forceRender:D}=tt.useContext(xy);return I.jsx(I.Fragment,{children:rt.map(A=>{const x=Oh(A),P=c&&!v?!1:b===rt||w.includes(x),O=()=>{if(G.current.has(x))return;if(G.current.add(x),U.has(x))U.set(x,!0);else return;let j=!0;U.forEach(N=>{N||(j=!1)}),j&&(D?.(),at(V.current),c&&T?.(),r&&r())};return I.jsx(qL,{isPresent:P,initial:!R.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:g,onExitComplete:P?void 0:O,anchorX:d,anchorY:p,children:A},x)})})},CC=tt.createContext({strict:!1}),gS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let yS=!1;function YL(){if(yS)return;const e={};for(const t in gS)e[t]={isEnabled:n=>gS[t].some(r=>!!n[r])};eC(e),yS=!0}function RC(){return YL(),V3()}function QL(e){const t=RC();for(const n in e)t[n]={...t[n],...e[n]};eC(t)}const XL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function If(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||XL.has(e)}let xC=e=>!If(e);function $L(e){typeof e=="function"&&(xC=t=>t.startsWith("on")?!If(t):e(t))}try{$L(require("@emotion/is-prop-valid").default)}catch{}function ZL(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(xC(o)||n===!0&&If(o)||!t&&!If(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}const td=tt.createContext({});function WL(e,t){if(Jf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Nu(n)?n:void 0,animate:Nu(r)?r:void 0}}return e.inherit!==!1?t:{}}function JL(e){const{initial:t,animate:n}=WL(e,tt.useContext(td));return tt.useMemo(()=>({initial:t,animate:n}),[vS(t),vS(n)])}function vS(e){return Array.isArray(e)?e.join(" "):e}const iv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IC(e,t,n){for(const r in t)!rn(t[r])&&!lC(r,n)&&(e[r]=t[r])}function t6({transformTemplate:e},t){return tt.useMemo(()=>{const n=iv();return tv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function e6(e,t){const n=e.style||{},r={};return IC(r,n,e),Object.assign(r,t6(e,t)),r}function n6(e,t){const n={},r=e6(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const DC=()=>({...iv(),attrs:{}});function i6(e,t,n,r){const o=tt.useMemo(()=>{const u=DC();return uC(u,t,hC(r),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};IC(u,e.style,e),o.style={...u,...o.style}}return o}const s6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sv(e){return typeof e!="string"||e.includes("-")?!1:!!(s6.indexOf(e)>-1||/[A-Z]/u.test(e))}function r6(e,t,n,{latestValues:r},o,u=!1,c){const p=(c??sv(e)?i6:n6)(t,r,o,e),g=ZL(t,typeof e=="string",u),v=e!==tt.Fragment?{...g,...p,ref:n}:{},{children:T}=t,b=tt.useMemo(()=>rn(T)?T.get():T,[T]);return tt.createElement(e,{...v,children:b})}function a6({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,o){return{latestValues:o6(n,r,o,e),renderState:t()}}function o6(e,t,n,r){const o={},u=r(e,{});for(const b in u)o[b]=Zh(u[b]);let{initial:c,animate:d}=e;const p=Jf(e),g=Jw(e);t&&g&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const T=v?d:c;if(T&&typeof T!="boolean"&&!Wf(T)){const b=Array.isArray(T)?T:[T];for(let w=0;w<b.length;w++){const R=Ky(e,b[w]);if(R){const{transitionEnd:V,transition:U,...G}=R;for(const $ in G){let Q=G[$];if(Array.isArray(Q)){const rt=v?Q.length-1:0;Q=Q[rt]}Q!==null&&(o[$]=Q)}for(const $ in V)o[$]=V[$]}}}return o}const NC=e=>(t,n)=>{const r=tt.useContext(td),o=tt.useContext(Zf),u=()=>a6(e,t,r,o);return n?u():Iy(u)},l6=NC({scrapeMotionValuesFromProps:ev,createRenderState:iv}),u6=NC({scrapeMotionValuesFromProps:fC,createRenderState:DC}),c6=Symbol.for("motionComponentSymbol");function h6(e,t,n){const r=tt.useRef(n);tt.useInsertionEffect(()=>{r.current=n});const o=tt.useRef(null);return tt.useCallback(u=>{u&&e.onMount?.(u),t&&(u?t.mount(u):t.unmount());const c=r.current;if(typeof c=="function")if(u){const d=c(u);typeof d=="function"&&(o.current=d)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[t])}const VC=tt.createContext({});function _o(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function f6(e,t,n,r,o,u){const{visualElement:c}=tt.useContext(td),d=tt.useContext(CC),p=tt.useContext(Zf),g=tt.useContext(nv),v=g.reducedMotion,T=g.skipAnimations,b=tt.useRef(null),w=tt.useRef(!1);r=r||d.renderer,!b.current&&r&&(b.current=r(e,{visualState:t,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:v,skipAnimations:T,isSVG:u}),w.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const R=b.current,V=tt.useContext(VC);R&&!R.projection&&o&&(R.type==="html"||R.type==="svg")&&d6(b.current,n,o,V);const U=tt.useRef(!1);tt.useInsertionEffect(()=>{R&&U.current&&R.update(n,p)});const G=n[zw],$=tt.useRef(!!G&&!window.MotionHandoffIsComplete?.(G)&&window.MotionHasOptimisedAnimation?.(G));return J1(()=>{w.current=!0,R&&(U.current=!0,window.MotionIsMounted=!0,R.updateFeatures(),R.scheduleRenderMicrotask(),$.current&&R.animationState&&R.animationState.animateChanges())}),tt.useEffect(()=>{R&&(!$.current&&R.animationState&&R.animationState.animateChanges(),$.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(G)}),$.current=!1),R.enteringChildren=void 0)}),R}function d6(e,t,n,r){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:MC(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&_o(d),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function MC(e){if(e)return e.options.allowProjection!==!1?e.projection:MC(e.parent)}function Vp(e,{forwardMotionProps:t=!1,type:n}={},r,o){r&&QL(r);const u=n?n==="svg":sv(e),c=u?u6:l6;function d(g,v){let T;const b={...tt.useContext(nv),...g,layoutId:m6(g)},{isStatic:w}=b,R=JL(g),V=c(g,w);if(!w&&W1){p6();const U=g6(b);T=U.MeasureLayout,R.visualElement=f6(e,V,b,o,U.ProjectionNode,u)}return I.jsxs(td.Provider,{value:R,children:[T&&R.visualElement?I.jsx(T,{visualElement:R.visualElement,...b}):null,r6(e,g,h6(V,R.visualElement,v),V,w,t,u)]})}d.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const p=tt.forwardRef(d);return p[c6]=e,p}function m6({layoutId:e}){const t=tt.useContext(xy).id;return t&&e!==void 0?t+"-"+e:e}function p6(e,t){tt.useContext(CC).strict}function g6(e){const t=RC(),{drag:n,layout:r}=t;if(!n&&!r)return{};const o={...n,...r};return{MeasureLayout:n?.isEnabled(e)||r?.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function y6(e,t){if(typeof Proxy>"u")return Vp;const n=new Map,r=(u,c)=>Vp(u,c,e,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(n.has(c)||n.set(c,Vp(c,void 0,e,t)),n.get(c))})}const v6=(e,t)=>t.isSVG??sv(e)?new X3(t):new H3(t,{allowProjection:e!==tt.Fragment});class _6 extends Cr{constructor(t){super(t),t.animationState||(t.animationState=tL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Wf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let T6=0;class E6 extends Cr{constructor(){super(...arguments),this.id=T6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const b6={animation:{Feature:_6},exit:{Feature:E6}};function Yu(e){return{point:{x:e.pageX,y:e.pageY}}}const S6=e=>t=>$y(t)&&e(t,Yu(t));function vu(e,t,n,r){return Vu(e,t,S6(n),r)}const OC=({current:e})=>e?e.ownerDocument.defaultView:null,_S=(e,t)=>Math.abs(e-t);function A6(e,t){const n=_S(e.x,t.x),r=_S(e.y,t.y);return Math.sqrt(n**2+r**2)}const TS=new Set(["auto","scroll"]);class PC{constructor(t,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Op(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,V=A6(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!V)return;const{point:U}=w,{timestamp:G}=Xe;this.history.push({...U,timestamp:G});const{onStart:$,onMove:Q}=this.handlers;R||($&&$(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,w)},this.handlePointerMove=(w,R)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Mp(R,this.transformPagePoint),ne.update(this.updatePoint,!0)},this.handlePointerUp=(w,R)=>{this.end();const{onEnd:V,onSessionEnd:U,resumeAnimation:G}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&G&&G(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=Op(w.type==="pointercancel"?this.lastMoveEventInfo:Mp(R,this.transformPagePoint),this.history);this.startEvent&&V&&V(w,$),U&&U(w,$)},!$y(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=Yu(t),g=Mp(p,this.transformPagePoint),{point:v}=g,{timestamp:T}=Xe;this.history=[{...v,timestamp:T}];const{onSessionStart:b}=n;b&&b(t,Op(g,this.history)),this.removeListeners=qu(vu(this.contextWindow,"pointermove",this.handlePointerMove),vu(this.contextWindow,"pointerup",this.handlePointerUp),vu(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(TS.has(r.overflowX)||TS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:o.x-n.x,y:o.y-n.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,o),ne.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),wr(this.updatePoint)}}function Mp(e,t){return t?{point:t(e.point)}:e}function ES(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Op({point:e},t){return{point:e,delta:ES(e,kC(t)),offset:ES(e,w6(t)),velocity:C6(t,.1)}}function w6(e){return e[0]}function kC(e){return e[e.length-1]}function C6(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=kC(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>mi(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&o.timestamp-r.timestamp>mi(t)*2&&(r=e[1]);const u=Yn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function R6(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?he(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?he(n,e,r.max):Math.min(e,n)),e}function bS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function x6(e,{top:t,left:n,bottom:r,right:o}){return{x:bS(e.x,n,o),y:bS(e.y,t,r)}}function SS(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function I6(e,t){return{x:SS(e.x,t.x),y:SS(e.y,t.y)}}function D6(e,t){let n=.5;const r=hn(e),o=hn(t);return o>r?n=xu(t.min,t.max-r,e.min):r>o&&(n=xu(e.min,e.max-o,t.min)),Zi(0,1,n)}function N6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ng=.35;function V6(e=Ng){return e===!1?e=0:e===!0&&(e=Ng),{x:AS(e,"left","right"),y:AS(e,"top","bottom")}}function AS(e,t,n){return{min:wS(e,t),max:wS(e,n)}}function wS(e,t){return typeof e=="number"?e:e[t]||0}const M6=new WeakMap;class O6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=T=>{n&&this.snapToCursor(Yu(T).point),this.stopAnimation()},c=(T,b)=>{const{drag:w,dragPropagation:R,onDragStart:V}=this.getProps();if(w&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=l3(w),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ui(G=>{let $=this.getAxisMotionValue(G).get()||0;if(Ki.test($)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const rt=Q.layout.layoutBox[G];rt&&($=hn(rt)*(parseFloat($)/100))}}this.originPoint[G]=$}),V&&ne.update(()=>V(T,b),!1,!0),bg(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},d=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:R,onDirectionLock:V,onDrag:U}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:G}=b;if(R&&this.currentDirection===null){this.currentDirection=k6(G),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",b.point,G),this.updateAxis("y",b.point,G),this.visualElement.render(),U&&ne.update(()=>U(T,b),!1,!0)},p=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b,this.stop(T,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:T}=this.getProps();(T||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new PC(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:OC(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ne.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!Ph(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=R6(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&_o(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=x6(r.layoutBox,t):this.constraints=!1,this.elastic=V6(n),o!==this.constraints&&!_o(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&Ui(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=N6(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!_o(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=L3(r,o.root,this.visualElement.getTransformPagePoint());let c=I6(o.layout.layoutBox,u);if(n){const d=n(O3(c));this.hasMutatedConstraints=!!d,d&&(c=iC(d))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Ui(v=>{if(!Ph(v,n,this.currentDirection))return;let T=p&&p[v]||{};c&&(T={min:0,max:0});const b=o?200:1e6,w=o?40:1e7,R={type:"inertia",velocity:r?t[v]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(v,R)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return bg(this.visualElement,t),r.start(Gy(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ui(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ui(n=>{const{drag:r}=this.getProps();if(!Ph(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n],p=u.get()||0;u.set(t[n]-he(c,d,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!_o(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ui(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();o[c]=D6({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ui(c=>{if(!Ph(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(he(p,g,o[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;M6.set(this.visualElement,this);const t=this.visualElement.current,n=vu(t,"pointerdown",g=>{const{drag:v,dragListener:T=!0}=this.getProps(),b=g.target,w=b!==t&&m3(b);v&&T&&!w&&this.start(g)});let r;const o=()=>{const{dragConstraints:g}=this.getProps();_o(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),r||(r=P6(t,g.current,()=>this.scalePositionWithinConstraints())))},{projection:u}=this.visualElement,c=u.addEventListener("measure",o);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),ne.read(o);const d=Vu(window,"resize",()=>this.scalePositionWithinConstraints()),p=u.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:v})=>{this.isDragging&&v&&(Ui(T=>{const b=this.getAxisMotionValue(T);b&&(this.originPoint[T]+=g[T].translate,b.set(b.get()+g[T].translate))}),this.visualElement.render())}));return()=>{d(),n(),c(),p&&p(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Ng,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function CS(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function P6(e,t,n){const r=Mb(e,CS(n)),o=Mb(t,CS(n));return()=>{r(),o()}}function Ph(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function k6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class L6 extends Cr{constructor(t){super(t),this.removeGroupControls=Qn,this.removeListeners=Qn,this.controls=new O6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Pp=e=>(t,n)=>{e&&ne.update(()=>e(t,n),!1,!0)};class U6 extends Cr{constructor(){super(...arguments),this.removePointerDownListener=Qn}onPointerDown(t){this.session=new PC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Pp(t),onStart:Pp(n),onMove:Pp(r),onEnd:(u,c)=>{delete this.session,o&&ne.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=vu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let kp=!1;class j6 extends tt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(n.group&&n.group.add(u),r&&r.register&&o&&r.register(u),kp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Wh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,t.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),kp=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ne.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Xy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;kp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function LC(e){const[t,n]=wC(),r=tt.useContext(xy);return I.jsx(j6,{...e,layoutGroup:r,switchLayoutGroup:tt.useContext(VC),isPresent:t,safeToRemove:n})}const z6={pan:{Feature:U6},drag:{Feature:L6,ProjectionNode:AC,MeasureLayout:LC}};function RS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=r[o];u&&ne.postRender(()=>u(t,Yu(t)))}class B6 extends Cr{mount(){const{current:t}=this.node;t&&(this.unmount=c3(t,(n,r)=>(RS(this.node,r,"Start"),o=>RS(this.node,o,"End"))))}unmount(){}}class F6 extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qu(Vu(this.node.current,"focus",()=>this.onFocus()),Vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xS(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=r[o];u&&ne.postRender(()=>u(t,Yu(t)))}class H6 extends Cr{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=g3(t,(o,u)=>(xS(this.node,u,"Start"),(c,{success:d})=>xS(this.node,c,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:r?.tap===!1})}unmount(){}}const Vg=new WeakMap,Lp=new WeakMap,q6=e=>{const t=Vg.get(e.target);t&&t(e)},G6=e=>{e.forEach(q6)};function K6({root:e,...t}){const n=e||document;Lp.has(n)||Lp.set(n,{});const r=Lp.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(G6,{root:e,...t})),r[o]}function Y6(e,t,n){const r=K6(t);return Vg.set(e,n),r.observe(e),()=>{Vg.delete(e),r.unobserve(e)}}const Q6={some:0,all:1};class X6 extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:u}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:Q6[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),b=g?v:T;b&&b(p)};return Y6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($6(t,n))&&this.startObserver()}unmount(){}}function $6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Z6={inView:{Feature:X6},tap:{Feature:H6},focus:{Feature:F6},hover:{Feature:B6}},W6={layout:{ProjectionNode:AC,MeasureLayout:LC}},J6={...b6,...Z6,...z6,...W6},t5=y6(J6,v6),Up=(e,t="420x420",n="Png")=>!e||isNaN(e)?"photos/app/logo.svg":`https://www.roblox.com/asset-thumbnail/image?assetId=${e}&width=420&height=420&format=png`;async function e5(){console.log("DATA_LOADER:  Starting Cloud Data Load (Firebase ONLY)...");let e={textures:[],facebases:[],avatar:[],music:[]};try{console.log("DATA_LOADER: Fetching from Firestore...");const[d,p,g,v]=await Promise.all([Ih(au(ou,"textures")),Ih(au(ou,"facebases")),Ih(au(ou,"avatar")),Ih(au(ou,"music"))]);d.empty&&p.empty&&g.empty&&console.warn("DATA_LOADER: Firestore is empty!"),d.forEach(T=>e.textures.push({...T.data(),id:T.id})),p.forEach(T=>e.facebases.push(T.data())),g.forEach(T=>e.avatar.push(T.data())),v.forEach(T=>e.music.push(T.data()))}catch(d){throw console.error("DATA_LOADER: CRITICAL ERROR - Could not load from Firebase.",d),d}console.log(`DATA_LOADER: Cloud load complete. Items: T:${e.textures.length} F:${e.facebases.length} A:${e.avatar.length}`);const t=(e.textures||[]).map(d=>({id:d.id||d.robloxId,group:d.type||d.category,displayName:d.fullName||d.name,codeId:d.robloxId,src:d.remoteUrl||Up(d.robloxId),type:"texture",baseName:d.baseName||d.name})),n=(e.facebases||[]).map(d=>({id:d.id||d.robloxId,group:(d.category||d.group||"General").toUpperCase(),displayName:d.variant||d.name,codeId:d.robloxId,src:d.remoteUrl||Up(d.robloxId),type:"facebase"})),r=(e.avatar||[]).map(d=>({id:d.id||d.robloxId,group:(d.category||"General").toUpperCase(),displayName:d.name,codeId:d.robloxId,src:d.remoteUrl||Up(d.robloxId),type:"avatar"})),o=e.music||[],u=n5(n),c=t.map(d=>d.baseName);return console.log(`DATA_LOADER: Procesamiento completo. ${t.length} texturas, ${n.length} facebases.`),{allFacebaseItems:n,facebaseCategories:u,allAvatarItems:r,allTextureBasenames:c,allTextureItems:t,allMusicCodes:o,rawDb:e}}function n5(e){const t=new Set,n=new Set,r=["BRAZIL","UK","USA","ZAMBIA","IRELAND","ITALY","INDIA","BELGIUM","EGYPT","SPAIN","FRANCE","COSTA RICA","THAILAND","KOREA","JAPAN"];return e.forEach(o=>{const u=o.group;r.includes(u)?t.add(u):n.add(u)}),{countries:Array.from(t).map(o=>({name:o.charAt(0)+o.slice(1).toLowerCase(),iso:i5(o)})),others:Array.from(n).map(o=>({name:o.charAt(0)+o.slice(1).toLowerCase(),flag:`photos/app/${o.charAt(0)+o.slice(1).toLowerCase()}.webp`}))}}function i5(e){return{BRAZIL:"BR",UK:"GB",USA:"US",ZAMBIA:"ZM",IRELAND:"IE",ITALY:"IT",INDIA:"IN",BELGIUM:"BE",EGYPT:"EG",SPAIN:"ES",FRANCE:"FR","COSTA RICA":"CR",THAILAND:"TH",JAPAN:"JP",KOREA:"KR"}[e.toUpperCase()]||"XX"}const IS="fashion_muse_favorites";function s5(){const[e,t]=tt.useState(()=>{try{const o=localStorage.getItem(IS);return o?new Set(JSON.parse(o)):new Set}catch(o){return console.error("Error loading favorites:",o),new Set}}),n=tt.useCallback((o,u=null)=>{t(c=>{const d=new Set(c);let p=u||[o];d.has(o)?p.forEach(v=>d.delete(v)):p.forEach(v=>d.add(v));try{localStorage.setItem(IS,JSON.stringify(Array.from(d)))}catch(v){console.error("Error saving favorites:",v)}return d})},[]),r=tt.useCallback(o=>e.has(o),[e]);return{favorites:e,toggleFavorite:n,isFavorite:r}}function r5(e){const t={};return e.forEach(n=>{if(typeof n=="string")return;let r=n.baseName;if(!r){const u=n.displayName.split(" ");u.length>1?(u.pop(),r=u.join(" ")):r=n.displayName}const o=r.toLowerCase().trim();t[o]?t[o].variants.push(n):t[o]={group:n.group,baseName:r,mainVariant:n,variants:[n]}}),Object.values(t)}window.selectTextureVariant=e=>{const t=e.closest(".texture-group-card"),n=e.dataset.id,r=e.dataset.src,o=e.dataset.displayName,u=e.dataset.codeId,c=t.querySelector(".main-image"),d=t.querySelector(".main-variant-name"),p=t.querySelector(".main-code-id-input"),g=t.querySelector(".favorite-btn");t.querySelectorAll(".variant-thumbnail").forEach(b=>b.classList.remove("active")),e.classList.add("active");const v=o.split(" ").pop();c&&(c.src=r,c.alt=o),d&&(d.textContent=`(${v})`),p&&(p.value=u),g&&(g.dataset.id=n,g.setAttribute("onclick",`window.toggleFavorite('${n}', this)`),g.innerHTML=window.isFavorite(n)?"":"");const T=t.querySelector(".copy-btn");T&&(T.dataset.id=n),t.dataset.mainId=n,t.classList.remove("show-variants")};function a5(e){const t={},n=/^(.*?)( S| X)$/i;for(const r of e){let o=r.displayName,u="default";const c=r.displayName.match(n);c&&(o=c[1].trim(),u=c[2].trim().toUpperCase());const d=`${r.group}-${o}`;t[d]||(t[d]={group:r.group,baseDisplayName:o,defaultItem:null,variants:{}}),t[d].variants[u]=r,u==="default"&&(t[d].defaultItem=r)}return Object.values(t).filter(r=>r.defaultItem)}function o5(){const[e,t]=tt.useState("favorites"),[n,r]=tt.useState(null),[o,u]=tt.useState(!0),[c,d]=tt.useState(""),[p,g]=tt.useState("all"),{isFavorite:v,toggleFavorite:T}=s5();tt.useEffect(()=>{g("all"),d("")},[e]),tt.useEffect(()=>{async function w(){try{const R=await e5();r(R)}catch(R){console.error("React Migration Error:",R)}finally{u(!1)}}w()},[]);const b=()=>{if(o)return I.jsxs("div",{className:"flex flex-col items-center justify-center p-20 gap-4",children:[I.jsx("div",{className:"w-10 h-10 border-4 border-zinc-800 border-t-[var(--gold2)] rounded-full animate-spin"}),I.jsx("p",{className:"text-zinc-500 uppercase tracking-widest text-sm",children:"Cargando base de datos..."})]});if(!n)return I.jsx("p",{className:"text-red-500 text-center p-10",children:"Error loading data."});if(e==="avatar"){["all",...new Set(n.allAvatarItems.map(R=>R.group).filter(Boolean))].sort();const w=n.allAvatarItems.filter(R=>{const V=R.displayName.toLowerCase().includes(c.toLowerCase())||R.group?.toLowerCase().includes(c.toLowerCase()),U=p==="all"||R.group===p;return V&&U});return I.jsx("div",{className:"pr-2 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:w.map(R=>I.jsx(Tp,{id:R.id,displayName:R.displayName,group:R.group,imageSrc:R.src,codeId:R.codeId,isFavorite:v(R.id),onToggleFavorite:T},R.id))})}if(e==="textures"){const w=r5(n.allTextureItems||[]);["all",...new Set(n.allTextureItems.map(V=>V.group).filter(Boolean))].sort();const R=w.filter(V=>{const U=V.baseName.toLowerCase().includes(c.toLowerCase()),G=p==="all"||V.variants.some($=>$.group===p);return U&&G});return I.jsx("div",{className:"pr-2 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:R.map(V=>I.jsx(eP,{group:V,isFavorite:v,onToggleFavorite:T},V.baseName))})}if(e==="facebases"){const w=a5(n.allFacebaseItems||[]);["all",...new Set(n.allFacebaseItems.map(V=>V.group).filter(Boolean))].sort();const R=w.filter(V=>{const U=!c.trim()||V.baseDisplayName.toLowerCase().includes(c.toLowerCase())||V.group.toLowerCase().includes(c.toLowerCase()),G=p==="all"||V.group===p.toUpperCase();return U&&G});return I.jsx("div",{className:"pr-2 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:R.map(V=>I.jsx(sP,{group:V,isFavorite:v,onToggleFavorite:T},V.baseDisplayName+V.group))})}if(e==="music"){["all",...new Set((n.allMusicCodes||[]).map(R=>R.category).filter(Boolean))].sort();const w=(n.allMusicCodes||[]).filter(R=>{if(!R)return!1;const V=R.title?R.title.toLowerCase().includes(c.toLowerCase()):!1,U=R.category?R.category.toLowerCase().includes(c.toLowerCase()):!1,G=R.artist?R.artist.toLowerCase().includes(c.toLowerCase()):!1,$=V||U||G,Q=p==="all"||R.category===p;return $&&Q});return I.jsx("div",{className:"pr-2 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:w.map((R,V)=>I.jsx(fb,{code:R,isFavorite:v,onToggleFavorite:T},R.id||`music_${V}`))})}if(e==="favorites"){const R=[...(n.allAvatarItems||[]).map(V=>({...V,_type:"avatar"})),...(n.allTextureItems||[]).map(V=>({...V,_type:"texture"})),...(n.allFacebaseItems||[]).map(V=>({...V,_type:"facebase"})),...(n.allMusicCodes||[]).map(V=>({...V,_type:"music"}))].filter(V=>v(V.id));return R.length===0?I.jsx("div",{className:"text-center text-zinc-500 pt-10",children:I.jsx("p",{children:"Marca un artculo como favorito () para verlo aqu."})}):I.jsx("div",{className:"pr-2 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:R.map(V=>V._type==="avatar"?I.jsx(Tp,{id:V.id,displayName:V.displayName,group:V.group,imageSrc:V.src,codeId:V.codeId,isFavorite:v(V.id),onToggleFavorite:T},V.id):V._type==="music"?I.jsx(fb,{code:V,isFavorite:v,onToggleFavorite:T},V.id):I.jsx(Tp,{id:V.id,displayName:V.displayName||V.baseName||V.title,group:V.group||V.category,imageSrc:V.src||V.defaultItem&&V.defaultItem.src||"",codeId:V.codeId,isFavorite:v(V.id),onToggleFavorite:T},V.id))})}return I.jsx("div",{className:"text-center text-zinc-500 pt-10",children:I.jsxs("p",{children:["Mdulo de ",I.jsx("strong",{children:e})," pendiente de migrar."]})})};return I.jsxs(I.Fragment,{children:[I.jsx("div",{id:"custom-toast"}),I.jsxs("div",{className:`container ${o?"":"loaded"}`,id:"app-container",children:[I.jsx(tP,{activeTab:e,setActiveTab:t}),I.jsxs("main",{className:"panel",role:"main",children:[I.jsxs("div",{id:"search-controls",className:"flex-shrink-0 flex flex-col sm:flex-row gap-4 mb-4 pb-4 border-b border-[var(--border)]",role:"search",children:[I.jsxs("div",{className:"relative flex-grow",children:[I.jsx("input",{type:"search",id:"search-bar",placeholder:`Search in ${e}...`,className:"w-full h-12 pl-10 pr-4 text-sm dark-input rounded-md",value:c,onChange:w=>d(w.target.value)}),I.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none","aria-hidden":"true",children:I.jsx($x,{className:"w-5 h-5 text-zinc-400"})})]}),e!=="favorites"&&I.jsxs("div",{className:"relative w-full sm:w-48",children:[I.jsxs("select",{className:"w-full h-12 px-4 text-sm dark-input rounded-md appearance-none cursor-pointer",value:p,onChange:w=>g(w.target.value),"aria-label":`Filter ${e} by category`,children:[I.jsx("option",{value:"all",children:"Todas las Categoras"}),e==="facebases"&&[...new Set(n?.allFacebaseItems?.map(w=>w.group).filter(Boolean))].sort().map(w=>I.jsx("option",{value:w,children:w},w)),e==="avatar"&&[...new Set(n?.allAvatarItems?.map(w=>w.group).filter(Boolean))].sort().map(w=>I.jsx("option",{value:w,children:w},w)),e==="textures"&&[...new Set(n?.allTextureItems?.map(w=>w.group).filter(Boolean))].sort().map(w=>I.jsx("option",{value:w,children:w},w)),e==="music"&&[...new Set(n?.allMusicCodes?.map(w=>w.category).filter(Boolean))].sort().map(w=>I.jsx("option",{value:w,children:w},w))]}),I.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:I.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),I.jsx("div",{id:"tab-content-wrapper",className:"flex-grow relative min-h-0",children:I.jsx(KL,{mode:"wait",children:I.jsx(t5.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"absolute inset-0 scrollable-content",children:b()},e)})})]})]}),I.jsx("footer",{className:"text-center py-4 text-zinc-500 text-sm",children:I.jsx("p",{children:" 2024 Fashion Muse. Migrating to React ."})})]})}class l5 extends Pg.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({errorInfo:n})}render(){return this.state.hasError?I.jsxs("div",{style:{padding:"20px",color:"red",background:"black",minHeight:"100vh",width:"100vw",whiteSpace:"pre-wrap"},children:[I.jsx("h1",{children:"App Crashed!"}),I.jsx("h3",{children:this.state.error?.toString()}),I.jsx("p",{children:this.state.errorInfo?.componentStack})]}):this.props.children}}Sx.createRoot(document.getElementById("root")).render(I.jsx(Pg.StrictMode,{children:I.jsx(l5,{children:I.jsx(o5,{})})}));
